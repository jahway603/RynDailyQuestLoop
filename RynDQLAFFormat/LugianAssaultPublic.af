~~ {
~~ FOR AUTO-COMPLETION ASSISTANCE: testvar getvar setvar touchvar clearallvars clearvar getcharintprop getchardoubleprop getcharquadprop getcharboolprop getcharstringprop getisspellknown getcancastspell_hunt getcancastspell_buff getcharvital_base getcharvital_current getcharvital_buffedmax getcharskill_traininglevel getcharskill_base getcharskill_buffed getplayerlandcell getplayercoordinates coordinategetns coordinategetwe coordinategetz coordinatetostring coordinateparse coordinatedistancewithz coordinatedistanceflat wobjectgetphysicscoordinates wobjectgetname wobjectgetobjectclass wobjectgettemplatetype wobjectgetisdooropen wobjectfindnearestmonster wobjectfindnearestdoor wobjectfindnearestbyobjectclass wobjectfindininventorybytemplatetype wobjectfindininventorybyname wobjectfindininventorybynamerx wobjectgetselection wobjectgetplayer wobjectfindnearestbynameandobjectclass actiontryselect actiontryuseitem actiontryapplyitem actiontrygiveitem actiontryequipanywand actiontrycastbyid actiontrycastbyidontarget chatbox chatboxpaste statushud statushudcolored uigetcontrol uisetlabel isfalse istrue iif randint cstr strlen getobjectinternaltype cstrf stopwatchcreate stopwatchstart stopwatchstop stopwatchelapsedseconds cnumber floor ceiling round abs getworldname getitemcountininventorybyname getheading getitemcountininventorybynamerx getheadingto actiontrygiveprofile vitae getfellowshipstatus getfellowshipname getfellowshipisopen getfellowshipisleader getfellowshipleaderid getfellowshipcanrecruit getfellowid getfellowshipcount getfellowshiplocked getfellowname getfellowshipisfull sin cos tan sqrt asin acos atan atan2 sinh cosh tanh vtsetmetastate getregexmatch echo chr ord wobjectgetid wobjectgethealth wobjectfindbyid wobjectgetintprop wobjectfindnearestbytemplatetype wobjectgetopencontainer testquestflag getquestktprogress isrefreshingquests getquestktrequired getqueststatus getisday getgamehour getgamehourname getisnight getgameday getgameticks getminutesuntilday getgamemonth getgamemonthname getminutesuntilnight getgameyear uisetvisible uiviewvisible uiviewexists getgvar touchgvar getpvar touchpvar setgvar cleargvar setpvar clearpvar testgvar clearallgvars testpvar clearallpvars dictgetitem dictcreate dicthaskey dictadditem dictkeys dictremovekey dictvalues dictclear dictsize dictcopy listgetitem listpop listcreate listcontains listremove listadd listindexof listremoveat listinsert listlastindexof listclear listcopy listcount listreverse

~~																						
~~ File auto-generated by metaf, a program created by Eskarina of Morningthaw/Coldeve.	
~~		Get metaf here: https://github.com/JJEII/metaf/									
~~																						
~~ All recognized structural designators:												
~~		STATE:				DO:															
~~		IF:					NAV:														
~~																						
~~ All recognized CONDITION (IF:) operation keywords:									
~~		Never				NavEmpty			MobsInDist_Priority		Not				
~~		Always				Death				NeedToBuff				PSecsInStateGE	
~~		All					VendorOpen			NoMobsInDist			SecsOnSpellGE	
~~		Any					VendorClosed		BlockE					BuPercentGE		
~~		ChatMatch			ItemCountLE			CellE					DistToRteGE		
~~		MainSlotsLE			ItemCountGE			IntoPortal				Expr			
~~		SecsInStateGE		MobsInDist_Name		ExitPortal				ChatCapture		
~~																						
~~ All recognized ACTION (DO:) operation keywords:										
~~		None				EmbedNav			ChatExpr				SetOpt			
~~		SetState			CallState			SetWatchdog				CreateView		
~~		Chat				Return				ClearWatchdog			DestroyView		
~~		DoAll				DoExpr				GetOpt					DestroyAllViews	
~~																						
~~ All recognized NAV types:															
~~		circular			follow														
~~		linear				once														
~~																						
~~ All recognized NAV NODE types:														
~~		flw					vnd															
~~		pnt					ptl															
~~		rcl					tlk															
~~		pau					chk															
~~		cht					jmp															
~~		prt (deprecated in VTank)														
~~ }																					

STATE: {CommanderPresk} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF:	Expr {getgvar[Zstuck]==1}
		DO:	DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	Any
			Death
			ChatMatch {^Your fellow .* has died!$}
			ChatMatch {!ManDown}
			ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
			Any
				BlockE C8E90000
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	All
			Expr {getpvar[Leader]==1}
			Not Expr {testgvar[QuestComplete]}
		DO:	DoAll
				DoExpr {setgvar[QuestComplete,listcreate[]]}
				SetState {CommanderPresk}
	IF:	All
			Expr {testgvar[QuestComplete]}
			Not Expr {listcontains[getgvar[QuestComplete],getcharstringprop[1]]}
			Any
				Expr {getpvar[QuestCompletedSkip]==1}
				Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Raksaa]]==7}
		DO:	DoAll
				DoExpr {listadd[getgvar[QuestComplete],getcharstringprop[1]]}
				SetState {CommanderPresk}
	IF:	All
			Expr {testgvar[QuestComplete]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameSeven]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameSeven]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameEight]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameNine]]}
				All
					Expr {getpvar[AdminSkip]==1}
					Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Raksaa]]==7}
		DO:	DoAll
				DoExpr {setpvar[Step,1]}
				DoExpr {clearvar[StateTimer]}
				DoExpr {setpvar[StateName,ToRynthid]}
				DoExpr {setpvar[CheckSync,ToRynthidCommanderPresk]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			SecsInStateGE 3
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Commander Presk]]==7}
		DO:	DoAll
				DoExpr {actiontrygiveitem[wobjectfindininventorybyname[Sealed Scroll for Commander Presk],wobjectfindnearestbynameandobjectclass[37,Commander Presk]]}
				SetState {CommanderPresk}
~~ }
STATE: {DeathRecall} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF:	Expr {getgvar[Zstuck]==1}
		DO:	DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	Not Expr {testvar[CombatStuck]}
		DO:	DoExpr {stopwatchstart[setvar[CombatStuck, stopwatchcreate[]]]}
	IF:	All
			Expr {testvar[CombatStuck]]}
			Expr {stopwatchelapsedseconds[getvar[CombatStuck]]>=15}
			Any
				Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Missile}
				Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Melee}
		DO:	Chat {/ub quit}
	IF:	IntoPortal
		DO:	DoExpr {clearvar[CombatStuck]}
	IF:	Always
		DO:	DoAll
				DoExpr {setpvar[StateName,DeathRecall]}
				DoExpr {clearvar[PitStop]}
				DoExpr {cleargvar[InsideDungeon]}
				DoExpr {cleargvar[RangeDown]}
				SetOpt {EnableCombat} {False}
				SetOpt {EnableNav} {False}
				SetOpt {SummonPets} {False}
				EmbedNav nav0 {[none]}
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0208]]`]}
				DoExpr {clearpvar[Door]}
				DoExpr {clearvar[StateTimer]}
				DoExpr {clearvar[JumpStuck]}
				DoExpr {clearvar[Room]}
				DoExpr {clearvar[Safe]}
				DoExpr {clearvar[PortalTimer]}
				SetOpt {NavCloseStopRange} {0.00625}
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0208]]`]}
	IF:	Not CellE 3032001C
		DO:	DoAll
				DoExpr {actiontrycastbyid[6150]} ~~ SpellId 6150 is "Rynthid Recall".
				SetState {DeathRecall}
	IF:	CellE 3032001C
		DO:	DoAll
				SetOpt {EnableNav} {True}
				DoExpr {clearvar[CombatStuck]}
				EmbedNav nav1 {[DeathDelay]}
	IF:	All
			NavEmpty
			CellE 3032001C
		DO:	DoAll
				DoExpr {clearvar[CombatStuck]}
				DoExpr {clearvar[StateTimer]}
				SetOpt {EnableNav} {True}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeon]}
				Chat {/vt meta load CheckPublic}
~~ }
STATE: {Default} ~~ {
	IF:	All
			Expr {getpvar[Profile]==LugianAssaultPublic}
			Expr {getpvar[StateName]!=Default}
			Not NeedToBuff
		DO:	DoAll
				ChatExpr {\/vt meta load +getpvar[Profile]}
				ChatExpr {\/vt setmetastate +getpvar[StateName]}
	IF:	Always
		DO:	DoAll
				DoExpr {setpvar[Profile, LugianAssaultPublic]}
				DoExpr {setpvar[StateName, Default]}
				DoExpr {setpvar[Stuck, ToRynthid]}
	IF:	Any
			Expr {getcharstringprop[1]==getpvar[LeaderName]}
			ItemCountGE 1 {Egg}
		DO:	DoExpr {setpvar[Leader,1]}
	IF:	Any
			Expr {getcharboolprop[44]==1}
			Expr {getpvar[FellowCount]<2}
		DO:	DoExpr {setpvar[AdminSkip,1]}
	IF:	Not Expr {testgvar[FailDelayCounter]}
		DO:	DoExpr {setgvar[FailDelayCounter,listcreate[]]}
	IF:	Not Expr {testgvar[LootingCounter]}
		DO:	DoExpr {setgvar[LootingCounter,listcreate[]]}
	IF:	Always
		DO:	DoAll
				Chat {/vt settings loadchar DQLProfile}
				Chat {/vt loot load DailyLoopPublic.utl}
				SetOpt {EnableNav} {True}
				SetOpt {AutoCram} {False}
				SetOpt {AutoStack} {True}
				SetOpt {NavPriorityBoost} {False}
				SetOpt {EnableCombat} {False}
				SetOpt {SummonPets} {False}
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0208]]`]}
				SetOpt {NavCloseStopRange} {0.00625}
				SetOpt {Recharge-Norm-HitP} {75}
				SetOpt {EnableBuffing} {True}
				SetOpt {EnableLooting} {True}
				SetOpt {LootOnlyRareCorpses} {True}
				SetOpt {OpenDoors} {True}
				SetOpt {IdlePeaceMode} {False}
				SetOpt {UseDispelItems} {False}
				SetOpt {Recharge-Helper-HitP} {50}
	IF:	Any
			All
				Expr {getcharskill_buffed[32]>=391}
				Expr {getspellexpirationbyname[Aura of Incantation of Defender Self]<=1800}
			All
				Expr {getcharskill_buffed[32]<=390}
				Expr {getspellexpirationbyname[Aura of Cragstone's Will]<=1800}
		DO:	DoAll
				Chat {/vt forcebuff}
				DoExpr {setgvar[Buffing,1]}
				DoExpr {setpvar[StateName,vtgetmetastate[]]}
				SetState {SyncBuff}
	IF:	Expr {getgvar[Buffing]==1}
		DO:	DoAll
				DoExpr {setpvar[StateName,vtgetmetastate[]]}
				SetState {SyncBuff}
	IF:	All
			SecsInStateGE 3
			Not NeedToBuff
		DO:	DoAll
				DoExpr {setpvar[StateName,ToRynthid]}
				SetState {ToRynthid}
~~ }
STATE: {Dungeon} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {3}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF:	Expr {getgvar[Zstuck]==1}
		DO:	DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	Any
			Death
			ChatMatch {^Your fellow .* has died!$}
			ChatMatch {!ManDown}
			ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
			Any
				BlockE C8E90000
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	Always
		DO:	SetWatchdog 5 90 {WatchDog}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			Any
				CellE 59510139
				CellE 59510153
				CellE 5951019E
				CellE 595101D9
				CellE 595101AC
				CellE 5951017D
				CellE 59510171
		DO:	DoAll
				SetOpt {EnableCombat} {False}
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			Any
				CellE 59510139
				CellE 59510153
				CellE 5951019E
				CellE 595101D9
				CellE 595101AC
				CellE 5951017D
				CellE 59510171
		DO:	DoAll
				SetOpt {EnableCombat} {True}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			Any
				CellE 59510158
				CellE 59510179
				CellE 595101AD
				CellE 595101D8
				CellE 5951019D
				CellE 59510175
		DO:	DoAll
				SetOpt {EnableCombat} {False}
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			Any
				CellE 59510158
				CellE 59510179
				CellE 595101AD
				CellE 595101D8
				CellE 5951019D
				CellE 59510175
		DO:	DoAll
				SetOpt {EnableCombat} {False}
	IF:	All
			Any
				CellE 59510139
				CellE 59510138
			Expr {getpvar[Leader]==1}
			Not Expr {testgvar[InsideDungeon]}
		DO:	DoAll
				DoExpr {setgvar[InsideDungeon,listcreate[]]}
				SetState {Dungeon}
	IF:	All
			Expr {testgvar[InsideDungeon]}
			Expr {listcontains[getgvar[InsideDungeon],getcharstringprop[1]]==0}
			Any
				CellE 59510139
				CellE 59510138
		DO:	DoAll
				DoExpr {listadd[getgvar[InsideDungeon],getcharstringprop[1]]}
				SetState {Dungeon}
	IF:	All
			Expr {getpvar[Leader]==1}
			Any
				CellE 59510139
				CellE 59510138
			Expr {testgvar[InsideDungeon]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSeven]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSeven]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameEight]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameNine]]}
		DO:	DoAll
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0208]]`]}
				EmbedNav nav2 {ToLeverOne}
	IF:	All
			Expr {getpvar[Leader]==0}
			Any
				CellE 59510139
				CellE 59510138
			Expr {testgvar[InsideDungeon]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSeven]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSeven]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameEight]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameNine]]}
		DO:	DoAll
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0208]]`]}
				EmbedNav nav3 {ToDoorOne}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==1}
			NavEmpty
			CellE 59510145
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,UseLever]}
				DoExpr {setpvar[CheckSync,DungeonDoorOne]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==0}
			NavEmpty
			CellE 59510154
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonDoorOne]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[Leader]==1}
			CellE 59510154
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav4 {ToLeverTwo}
	IF:	All
			Expr {getpvar[Leader]==0}
			CellE 59510154
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav5 {ToDoorTwo}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==1}
			NavEmpty
			CellE 5951018B
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,UseLever]}
				DoExpr {setpvar[CheckSync,DungeonDoorTwo]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==0}
			NavEmpty
			CellE 5951019B
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonDoorTwo]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[Leader]==1}
			CellE 5951019B
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav6 {ToLeverThree}
	IF:	All
			Expr {getpvar[Leader]==0}
			CellE 5951019B
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav7 {ToDoorThree}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==1}
			NavEmpty
			CellE 595101C3
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,UseLever]}
				DoExpr {setpvar[CheckSync,DungeonDoorThree]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==0}
			NavEmpty
			CellE 595101D6
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonDoorThree]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[Leader]==1}
			CellE 595101D6
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav8 {ToLeverFour}
	IF:	All
			Expr {getpvar[Leader]==0}
			CellE 595101D6
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav9 {ToDoorFour}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==1}
			NavEmpty
			CellE 595101B8
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,UseLever]}
				DoExpr {setpvar[CheckSync,DungeonDoorFour]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==0}
			NavEmpty
			CellE 595101AF
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonDoorFour]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[Leader]==1}
			CellE 595101AF
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav10 {ToLeverFive}
	IF:	All
			Expr {getpvar[Leader]==0}
			CellE 595101AF
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav11 {ToDoorFive}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==1}
			NavEmpty
			CellE 5951018C
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,UseLever]}
				DoExpr {setpvar[CheckSync,DungeonDoorFive]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==0}
			NavEmpty
			CellE 59510184
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonDoorFive]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[Leader]==1}
			CellE 59510184
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav12 {ToLeverSix}
	IF:	All
			Expr {getpvar[Leader]==0}
			CellE 59510184
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav13 {ToDoorSix}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==1}
			NavEmpty
			CellE 59510181
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,UseLever]}
				DoExpr {setpvar[CheckSync,DungeonDoorSix]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==0}
			NavEmpty
			CellE 59510172
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonDoorSix]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			CellE 59510172
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0416666666666]]`]}
				EmbedNav nav14 {ToPitStop}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			NavEmpty
			Expr {getvar[PitStop]==0}
			Any
				CellE 59510161
				CellE 5951016A
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {setvar[PitStop,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonPitStopOne]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			NavEmpty
			Expr {getvar[PitStop]==0}
			Any
				CellE 59510161
				CellE 5951016A
		DO:	DoAll
				SetOpt {EnableCombat} {True}
				DoExpr {setvar[PitStop,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonPitStopOne]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			NavEmpty
			Expr {getvar[PitStop]==1}
			Any
				CellE 59510161
				CellE 5951016A
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				EmbedNav nav15 {IntoPortal}
	IF:	Any
			IntoPortal
			CellE 5951010F
		DO:	EmbedNav nav16 {PortalDelay}
	IF:	All
			NavEmpty
			CellE 5951010F
		DO:	DoAll
				SetOpt {EnableCombat} {True}
				DoExpr {clearvar[StateTimer]}
				DoExpr {cleargvar[InsideDungeon]}
				DoExpr {setpvar[StateName,FightBoss]}
				DoExpr {setpvar[CheckSync,FightBoss]}
				Chat {/vt meta load CheckPublic}
~~ }
STATE: {FightBoss} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF:	Expr {getgvar[Zstuck]==1}
		DO:	DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	Any
			Death
			ChatMatch {^Your fellow .* has died!$}
			ChatMatch {!ManDown}
			ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
			Any
				BlockE C8E90000
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	Always
		DO:	DoAll
				SetOpt {EnableNav} {True}
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0625]]`]}
	IF:	Expr {getgvar[RangeDown]==1}
		DO:	DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0208]]`]}
	IF:	All
			Expr {getpvar[Leader]==1}
			Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,Corpse of Captain Keeson]]==7}
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Treasury Key]]==1}
			NoMobsInDist 5
		DO:	DoAll
				DoExpr {setvar[CorpseName,Corpse of Captain Keeson]}
				DoExpr {setvar[LootItem,Treasury Key]}
				DoExpr {listadd[getgvar[FailDelayCounter],getcharstringprop[1]]}
				DoExpr {listadd[getgvar[LootingCounter],getcharstringprop[1]]}
				DoExpr {setvar[Return,FightBoss]}
				CallState {Loot} {FightBoss}
	IF:	Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
		DO:	DoAll
				DoExpr {actiontryuseitem[wobjectgetopencontainer[]]}
				DoExpr {vtsetmetastate[vtgetmetastate[]]}
	IF:	Any
			All
				Expr {getpvar[Leader]==0}
				NoMobsInDist 5
			All
				Expr {getpvar[Leader]==1}
				Expr {getobjectinternaltype[wobjectfindininventorybyname[Treasury Key]]==7}
		DO:	DoAll
				EmbedNav nav17 {beep.nav}
				DoExpr {setgvar[RangeDown,1]}
	IF:	All
			NoMobsInDist 15
			CellE 5951010A
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Any
				Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==0}
				Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {clearvar[StateTimer]}
				DoExpr {setgvar[RangeDown,1]}
				DoExpr {setpvar[StateName,LugianDoor]}
				DoExpr {setpvar[CheckSync,LugianDoor]}
				Chat {/vt meta load CheckPublic}
~~ }
STATE: {Finished} ~~ {
	IF:	All
			SecsInStateGE 5
			Any
				Expr {testgvar[QuestComplete]==1}
				Expr {testgvar[FailDelayCounter]==1}
				Expr {testgvar[Looting]==1}
				Expr {testgvar[LootFail]==1}
				Expr {testpvar[Step]==1}
				Expr {testpvar[StateName]==1}
				Expr {testpvar[Profile]==1}
				Expr {testpvar[Stuck]==1}
				Expr {testpvar[Door]==1}
				Expr {testpvar[LugianAssaultTurnIn]==1}
				Expr {testpvar[LugianAssaultFlag]==1}
				Expr {testpvar[Meta\ +getpvar[Profile]]==1}
				Expr {testpvar[QuestCompletedSkip]==1}
				Expr {testpvar[KTFlag]==1}
				Expr {testgvar[GoNow+getworldname[]]==1}
				Expr {testgvar[RangeDown]==1}
				Expr {testgvar[DefaultPass]==1}
				Expr {testgvar[GoNowClear]==1}
				Expr {testgvar[Checking]==1}
				Expr {testgvar[GoNowTwo]==1}
				Expr {testgvar[LugianAssaultTurnIn]==1}
				Expr {testgvar[InsideDungeon]==1}
				Expr {testgvar[LugianAssaultTurnIn]==1}
				Expr {testgvar[LugianAssaultFlag]==1}
				Expr {testgvar[getcharstringprop[1]+getworldname[]]==1}
		DO:	DoAll
				DoExpr {cleargvar[QuestComplete]}
				DoExpr {cleargvar[FailDelayCounter]}
				DoExpr {cleargvar[Looting]}
				DoExpr {cleargvar[LootFail]}
				DoExpr {clearpvar[Step]}
				DoExpr {clearpvar[StateName]}
				DoExpr {clearpvar[Profile]}
				DoExpr {clearpvar[Stuck]}
				DoExpr {clearpvar[BuffingStartAll]}
				DoExpr {clearpvar[Door]}
				DoExpr {clearpvar[LugianAssaultTurnIn]}
				DoExpr {clearpvar[LugianAssaultFlag]}
				DoExpr {clearpvar[Meta\ +getpvar[Profile]]}
				DoExpr {clearpvar[QuestCompletedSkip]}
				DoExpr {clearpvar[KTFlag]}
				DoExpr {cleargvar[GoNow+getworldname[]]}
				DoExpr {cleargvar[RangeDown]}
				DoExpr {cleargvar[DefaultPass]}
				DoExpr {cleargvar[GoNowClear]}
				DoExpr {cleargvar[Checking]}
				DoExpr {cleargvar[GoNowTwo]}
				DoExpr {cleargvar[InsideDungeon]}
				DoExpr {cleargvar[LugianAssault]}
				DoExpr {cleargvar[LugianAssaultTurnIn]}
				DoExpr {cleargvar[LugianAssaultFlag]}
				DoExpr {cleargvar[getcharstringprop[1]+getworldname[]]}
				SetState {Finished}
	IF:	Always
		DO:	SetOpt {UseDispelItems} {False}
	IF:	All
			Expr {testgvar[QuestComplete]==0}
			Expr {testgvar[FailDelayCounter]==0}
			Expr {testgvar[Looting]==0}
			Expr {testgvar[LootFail]==0}
			Expr {testpvar[Step]==0}
			Expr {testpvar[StateName]==0}
			Expr {testpvar[Profile]==0}
			Expr {testpvar[Stuck]==0}
			Expr {testpvar[Door]==0}
			Expr {testpvar[LugianAssaultTurnIn]==0}
			Expr {testpvar[LugianAssaultFlag]==0}
			Expr {testpvar[Meta\ +getpvar[Profile]]==0}
			Expr {testpvar[QuestCompletedSkip]==0}
			Expr {testpvar[KTFlag]==0}
			Expr {testgvar[GoNow+getworldname[]]==0}
			Expr {testgvar[RangeDown]==0}
			Expr {testgvar[DefaultPass]==0}
			Expr {testgvar[GoNowClear]==0}
			Expr {testgvar[Checking]==0}
			Expr {testgvar[GoNowTwo]==0}
			Expr {testgvar[LugianAssaultTurnIn]==0}
			Expr {testgvar[LugianAssaultFlag]==0}
			Expr {testgvar[InsideDungeon]==0}
			Expr {testgvar[LugianAssault]==0}
			Expr {testgvar[getcharstringprop[1]+getworldname[]]==0}
		DO:	Chat {/vt meta load QuestCheckPublic}
~~ }
STATE: {Loot} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF:	Expr {getgvar[Zstuck]==1}
		DO:	DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	Any
			Death
			ChatMatch {^Your fellow .* has died!$}
			ChatMatch {!ManDown}
			ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
			Any
				BlockE C8E90000
		DO:	DoAll
				DoExpr {cleargvar[LootFail]}
				SetOpt {EnableLooting} {True}
				SetOpt {NavCloseStopRange} {0.00625}
				DoExpr {listremove[getgvar[FailDelayCounter],getcharstringprop[1]]}
				DoExpr {listremove[getgvar[LootingCounter],getcharstringprop[1]]}
				DoExpr {clearvar[CorpseName]}
				DoExpr {clearvar[LootItem]}
				DoExpr {clearvar[Loot]}
				DoExpr {clearvar[CorpseDetect]}
				DoExpr {clearvar[LootCount]}
				DoExpr {clearvar[CloseCorpseTimer]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {clearvar[LootCloseCorpse]}
				DoExpr {clearvar[LootCloseCorpseTwo]}
				DoExpr {setgvar[Looting,0]}
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	Always
		DO:	DoAll
				EmbedNav nav18 {[none]}
				SetOpt {EnableLooting} {False}
	IF:	All
			NavEmpty
			Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]==7}
			Expr {coordinatedistancewithz[getplayercoordinates[], wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]>=3}
		DO:	DoAll
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]`]]}
				ChatExpr {\/vt addnavpt +coordinatetostring[wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]}
				SetOpt {NavCloseStopRange} {0.00083333333}
				SetState {Loot}
	IF:	All
			Expr {testvar[LootCount]==1}
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==1}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]==getvar[LootCount]}
		DO:	DoAll
				DoExpr {cleargvar[LootFail]}
				SetOpt {EnableLooting} {True}
				SetOpt {NavCloseStopRange} {0.00625}
				DoExpr {listremove[getgvar[FailDelayCounter],getcharstringprop[1]]}
				DoExpr {listremove[getgvar[LootingCounter],getcharstringprop[1]]}
				DoExpr {clearvar[CorpseName]}
				DoExpr {clearvar[LootItem]}
				DoExpr {clearvar[Loot]}
				DoExpr {clearvar[CorpseDetect]}
				DoExpr {clearvar[LootCount]}
				DoExpr {clearvar[CloseCorpseTimer]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {clearvar[LootCloseCorpse]}
				DoExpr {clearvar[LootCloseCorpseTwo]}
				DoExpr {setgvar[Looting,0]}
				Return
	IF:	Any
			ChatMatch {^You may complete this quest again in}
			ChatMatch {^You have solved this quest too recently!}
		DO:	DoAll
				DoExpr {setvar[LootCount,getitemcountininventorybyname[getvar[LootItem]]}
				DoExpr {setpvar[QuestCompletedSkip,1]}
				SetState {Loot}
	IF:	Expr {testvar[LootCount]==0}
		DO:	DoAll
				DoExpr {setvar[LootCount,getitemcountininventorybyname[getvar[LootItem]]+1]}
				DoExpr {stopwatchstart[setvar[LootStuckDelay, stopwatchcreate[]]]}
				SetState {Loot}
	IF:	All
			Expr {testvar[LootCount]==1}
			Any
				Expr {getobjectinternaltype[getvar[CloseCorpseTimer]]==7&&stopwatchelapsedseconds[getvar[CloseCorpseTimer]]>=5}
				Expr {getbusystate[]==0&&getvar[LootCorpseCloseTwo]==1}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]==getvar[LootCount]&&getobjectinternaltype[wobjectgetopencontainer[]]==7}
		DO:	DoAll
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]`]] && listcount[$CorpseDetect] > 0 && (actiontryuseitem[$CorpseDetect{{0}}] || 1)}
	IF:	Expr {getgvar[LootFail]>listcount[getgvar[FailDelayCounter]]+4}
		DO:	DoAll
				Chat {/ub bct DailyLoop /ub mexec actiontryuseitem[wobjectfindnearestbyobjectclass[27]]}
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]`]]}
				DoExpr {cleargvar[LootFail]}
	IF:	Expr {getvar[SourceNotFound]>9}
		DO:	DoAll
				DoExpr {cleargvar[LootFail]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {cleargvar[Looting]}
				DoExpr {actiontryuseitem[wobjectgetopencontainer[]]}
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]`]]}
				SetState {Loot}
	IF:	All
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
			Expr {wobjectgetname[wobjectgetopencontainer[]]#getvar[CorpseName]==0}
		DO:	DoAll
				DoExpr {actiontryuseitem[wobjectgetopencontainer[]]}
				SetState {Loot}
	IF:	All
			Expr {getgvar[Looting]==0}
			Expr {testvar[LootCount]==1}
			Expr {getvar[CloseCorpseTimer]==0}
			Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]==7}
			Expr {coordinatedistancewithz[getplayercoordinates[], wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]<3}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
			SecsInStateGE 4
		DO:	DoAll
				DoExpr {setgvar[LootFail,getgvar[LootFail]+1]}
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]`]]}
				SetState {Loot}
	IF:	All
			Expr {testvar[LootCount]==1}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
			Expr {wobjectgetname[wobjectgetopencontainer[]]#getvar[CorpseName]}
		DO:	DoAll
				DoExpr {setgvar[Looting,1]}
				DoExpr {stopwatchstart[setvar[LootCloseCorpse, stopwatchcreate[]]]}
	IF:	All
			Expr {getgvar[Looting]==1}
			Expr {getbusystate[]==5}
		DO:	DoExpr {setvar[LootCorpseCloseTwo,1]}
	IF:	All
			All
				Expr {getobjectinternaltype[getvar[LootCloseCorpse]]==7}
				Expr {stopwatchelapsedseconds[getvar[LootCloseCorpse]]>=2}
			Expr {testvar[LootCount]==1}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
			Expr {wobjectgetname[wobjectgetopencontainer[]]#getvar[CorpseName]}
		DO:	DoAll
				DoExpr {setvar[SourceNotFound,getvar[SourceNotFound]+1]}
				DoExpr {setvar[Loot,listfilter[wobjectfindallbycontainer[wobjectgetopencontainer[]], `wobjectgetname[$1]#getvar[LootItem]`]] && listcount[$Loot] > 0 && (actiontryuseitem[$Loot{{0}}] || 1) && (vtsetmetastate[Loot] || 1)}
	IF:	All
			Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]==7}
			Expr {coordinatedistancewithz[getplayercoordinates[], wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]<3}
			Expr {getgvar[Looting]==0&&getvar[LootCount]>0}
			Expr {getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]&&getobjectinternaltype[wobjectgetopencontainer[]]==1}
		DO:	DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]`]] && listcount[$CorpseDetect] > 0 && (actiontryuseitem[$CorpseDetect{{0}}] || 1)}
	IF:	All
			Expr {testvar[LootCount]==1}
			Expr {getvar[CloseCorpseTimer]==0}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]==getvar[LootCount]}
		DO:	DoExpr {stopwatchstart[setvar[CloseCorpseTimer, stopwatchcreate[]]]}
	IF:	Any
			All
				Expr {getobjectinternaltype[getvar[LootStuckDelay]]==7}
				Expr {stopwatchelapsedseconds[getvar[LootStuckDelay]]>=180}
			All
				All
					Expr {getobjectinternaltype[getvar[LootStuckDelay]]==7}
					Expr {stopwatchelapsedseconds[getvar[LootStuckDelay]]>=20}
				Expr {getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
				Expr {listcount[$CorpseDetect]==0}
			All
				Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]==7}
				Expr {coordinatedistancewithz[getplayercoordinates[], wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]<3}
				All
					Expr {getobjectinternaltype[getvar[LootCloseCorpse]]==7}
					Expr {stopwatchelapsedseconds[getvar[LootCloseCorpse]]>=10}
				Expr {getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
				Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7&&listcount[$Loot]==0}
				Expr {wobjectgetname[wobjectgetopencontainer[]]#getvar[CorpseName]}
		DO:	DoAll
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {setgvar[Looting,0]}
				SetState {LootStuckDelay}
	IF:	All
			Expr {listcount[getgvar[FailDelayCounter]]==listcount[getgvar[LootingCounter]]}
			SecsInStateGE 30
		DO:	DoAll
				DoExpr {setgvar[Looting,0]}
				SetState {Loot}
~~ }
STATE: {LootStuckDelay} ~~ {
	IF:	All
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==1}
			Expr {getitemcountininventorybyname[getvar[LootItem]]==getvar[LootCount]}
		DO:	DoAll
				DoExpr {cleargvar[LootFail]}
				SetOpt {EnableLooting} {True}
				SetOpt {NavCloseStopRange} {0.00625}
				DoExpr {listremove[getgvar[FailDelayCounter],getcharstringprop[1]]}
				DoExpr {listremove[getgvar[LootingCounter],getcharstringprop[1]]}
				DoExpr {clearvar[CorpseName]}
				DoExpr {clearvar[LootItem]}
				DoExpr {clearvar[Loot]}
				DoExpr {clearvar[CorpseDetect]}
				DoExpr {clearvar[LootCount]}
				DoExpr {clearvar[CloseCorpseTimer]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {clearvar[LootCloseCorpse]}
				DoExpr {clearvar[LootCloseCorpseTwo]}
				DoExpr {setgvar[Looting,0]}
				Return
	IF:	All
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==1}
			SecsInStateGE 15
		DO:	DoAll
				DoExpr {setvar[LootStuckDelayInternalCounter,getvar[LootStuckDelayInternalCounter]+1]}
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]`]] && (vtsetmetastate[LootStuckDelay] || 1)}
	IF:	All
			SecsInStateGE 2
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
		DO:	DoAll
				ChatExpr {\/ub bct DailyLoop \/vt opt set EnableCombat False}
				DoExpr {actiontryuseitem[wobjectgetopencontainer[]]}
				SetState {LootStuckDelay}
	IF:	Any
			Expr {getvar[LootStuckDelayInternalCounter]>19}
			Expr {listcount[$CorpseDetect]==0}
		DO:	DoAll
				DoExpr {cleargvar[LootFail]}
				SetOpt {EnableLooting} {True}
				DoExpr {listremove[getgvar[FailDelayCounter],getcharstringprop[1]]}
				DoExpr {listremove[getgvar[LootingCounter],getcharstringprop[1]]}
				DoExpr {clearvar[CorpseName]}
				DoExpr {clearvar[LootItem]}
				DoExpr {clearvar[Loot]}
				DoExpr {clearvar[CorpseDetect]}
				DoExpr {clearvar[LootCount]}
				DoExpr {clearvar[CloseCorpseTimer]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {clearvar[LootCloseCorpseTwo]}
				DoExpr {clearvar[LootStuckDelayInternalCounter]}
				DoExpr {setgvar[Looting,0]}
				ChatExpr {\/ub bct DailyLoop \/vt opt set EnableCombat True}
				DoExpr {vtsetmetastate[getvar[Return]]}
~~ }
STATE: {LugianDoor} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF:	Expr {getgvar[Zstuck]==1}
		DO:	DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	Any
			Death
			ChatMatch {^Your fellow .* has died!$}
			ChatMatch {!ManDown}
			ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
			Any
				BlockE C8E90000
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	All
			Expr {getpvar[Leader]==1}
			CellE 5951010A
			Not Expr {testvar[LugianDoorStuck]}
		DO:	DoExpr {stopwatchstart[setvar[LugianDoorStuck, stopwatchcreate[]]]}
	IF:	All
			Expr {getpvar[Leader]==1}
			CellE 5951010A
			Expr {testvar[LugianDoorStuck]}
			Expr {stopwatchelapsedseconds[getvar[LugianDoorStuck]]>=180}
		DO:	DoAll
				DoExpr {stopwatchstart[setvar[LugianDoorStuck, stopwatchcreate[]]]}
				DoExpr {setvar[Open,0]}
				Chat {/ub bct DailyLoop /vt meta load CheckPublic}
	IF:	All
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Treasury Key]]==7}
			Expr {getpvar[Leader]==1}
			CellE 5951010A
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==0}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				SetOpt {EnableNav} {False}
				DoExpr {actiontryapplyitem[wobjectfindininventorybyname[Treasury Key],wobjectfindnearestdoor[]]}
				SetState {LugianDoor}
	IF:	All
			Expr {getpvar[Leader]==1}
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==0}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
			Any
				Expr {getobjectinternaltype[wobjectfindininventorybyname[Treasury Key]]==1}
				ChatMatch {^The Commander Presk's Treasury has been unlocked.}
				ChatMatch {^Your key is used up.}
		DO:	DoExpr {setvar[Open,1]}
	IF:	All
			SecsInStateGE 3
			Expr {getpvar[Leader]==1}
			Expr {getvar[Open]==1}
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==0}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
			Any
				Expr {getobjectinternaltype[wobjectfindininventorybyname[Treasury Key]]==1}
				ChatMatch {^The Commander Presk's Treasury has been unlocked.}
				ChatMatch {^Your key is used up.}
		DO:	DoAll
				SetOpt {EnableNav} {True}
				DoExpr {actiontryuseitem[wobjectfindnearestdoor[]]}
				SetState {LugianDoor}
	IF:	All
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				SetOpt {EnableNav} {True}
				EmbedNav nav19 {[MoveUp]}
	IF:	All
			Not Expr {testvar[JumpStuck]}
			CellE 59510109
		DO:	DoExpr {stopwatchstart[setvar[JumpStuck, stopwatchcreate[]]]}
	IF:	All
			Any
				CellE 59510109
				CellE 59510108
			Expr {testvar[JumpStuck]}
			Expr {stopwatchelapsedseconds[getvar[JumpStuck]]>=10}
		DO:	DoAll
				EmbedNav nav20 {[Jump]}
				DoExpr {stopwatchstart[setvar[JumpStuck, stopwatchcreate[]]]}
	IF:	All
			Expr {testvar[JumpStuck]}
			Expr {stopwatchelapsedseconds[getvar[JumpStuck]]>=15}
		DO:	DoAll
				DoExpr {stopwatchstart[setvar[JumpStuck, stopwatchcreate[]]]}
				SetState {LugianDoor}
	IF:	CellE 59510107
		DO:	DoExpr {clearvar[JumpStuck]}
	IF:	All
			CellE 59510107
			NavEmpty
		DO:	SetState {CommanderPresk}
	IF:	CellE 59510100
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	CellE 5951010A
		DO:	EmbedNav nav21 {[none]}
	IF:	Any
			CellE 5951010F
			CellE 5951010E
			CellE 5951010D
			CellE 5951010B
			CellE 5951010C
		DO:	EmbedNav nav22 {[none]}
~~ }
STATE: {SyncBuff} ~~ {
	IF:	Not Expr {testpvar[BuffingStartAll]}
		DO:	DoAll
				DoExpr {setpvar[BuffingStartAll,1]}
				Chat {/vt forcebuff}
	IF:	All
			NeedToBuff
			Expr {vtgetsetting[EnableBuffing]!=True}
		DO:	SetOpt {EnableBuffing} {True}
	IF:	All
			Not Expr {testgvar[SyncBuffComplete]}
			Not NeedToBuff
		DO:	DoAll
				DoExpr {setgvar[SyncBuffComplete,listcreate[]]}
				SetState {SyncBuff}
	IF:	All
			Expr {testgvar[SyncBuffComplete]}
			Not Expr {listcontains[getgvar[SyncBuffComplete],getcharstringprop[1]]}
			Not NeedToBuff
		DO:	DoAll
				DoExpr {listadd[getgvar[SyncBuffComplete],getcharstringprop[1]]}
				SetState {SyncBuff}
	IF:	All
			Not NeedToBuff
			Expr {testgvar[SyncBuffComplete]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameSeven]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameSeven]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameEight]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameNine]]}
		DO:	DoAll
				DoExpr {cleargvar[Buffing]}
				DoExpr {setpvar[StateName,Default]}
				DoExpr {vtsetmetastate[getpvar[StateName]]}
~~ }
STATE: {ToDungeon} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF:	Expr {getgvar[Zstuck]==1}
		DO:	DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	Any
			Death
			ChatMatch {^Your fellow .* has died!$}
			ChatMatch {!ManDown}
			ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
			Any
				BlockE C8E90000
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	Always
		DO:	DoAll
				SetWatchdog 5 45 {WatchDog}
				DoExpr {setpvar[Stuck, DeathRecall]}
				DoExpr {setpvar[StateName,vtgetmetastate[]]}
	IF:	CellE 3032001C
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				EmbedNav nav23 {[none]}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			NavEmpty
			Expr {getvar[PitStop]==0}
			CellE 2F340008
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {setvar[PitStop,1]}
				DoExpr {clearvar[JumpStuck]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopOne]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			NavEmpty
			Expr {getvar[PitStop]==0}
			CellE 2F340008
		DO:	DoAll
				SetOpt {EnableCombat} {True}
				DoExpr {setvar[PitStop,1]}
				DoExpr {clearvar[JumpStuck]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopOne]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			NoMobsInDist 15
			Expr {getvar[PitStop]==1}
			CellE 2F340008
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				EmbedNav nav24 {EndOfDaysLandscape.nav}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			NavEmpty
			Expr {getvar[PitStop]==1}
			CellE 2C320022
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {setvar[PitStop,2]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopTwo]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			NavEmpty
			Expr {getvar[PitStop]==1}
			CellE 2C320022
		DO:	DoAll
				SetOpt {EnableCombat} {True}
				DoExpr {setvar[PitStop,2]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopTwo]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			NoMobsInDist 15
			Expr {getvar[PitStop]==2}
			CellE 2C320022
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				EmbedNav nav25 {Junk.nav}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			NavEmpty
			Expr {getvar[PitStop]==2}
			Any
				CellE 2B2F0040
				CellE 2B2F0040
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				SetOpt {SummonPets} {True}
				DoExpr {setvar[PitStop,3]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopThree]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			NavEmpty
			Expr {getvar[PitStop]==2}
			Any
				CellE 2B2F0040
				CellE 2B2F0040
		DO:	DoAll
				SetOpt {EnableCombat} {True}
				SetOpt {SummonPets} {True}
				DoExpr {setvar[PitStop,3]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopThree]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getvar[PitStop]==3}
			NoMobsInDist 15
			Any
				CellE 2B2F0040
				CellE 2B2F0040
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				EmbedNav nav26 {[none]}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			Expr {getvar[PitStop]==3}
			Any
				CellE 2C2F0020
			NavEmpty
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				SetOpt {SummonPets} {True}
				DoExpr {setvar[PitStop,4]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopFour]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			Expr {getvar[PitStop]==3}
			Any
				CellE 2C2F0020
			NavEmpty
		DO:	DoAll
				SetOpt {EnableCombat} {True}
				SetOpt {SummonPets} {True}
				DoExpr {setvar[PitStop,4]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopFour]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			NavEmpty
			Expr {getvar[PitStop]==4}
			CellE 2C2F0020
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {actiontryuseitem[wobjectfindnearestbyobjectclass[14]]}
				SetState {ToDungeon}
	IF:	IntoPortal
		DO:	EmbedNav nav27 {[none]}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			NavEmpty
			Any
				CellE 59510139
				CellE 59510138
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {clearvar[PitStop]}
				DoExpr {clearvar[Clear]}
				DoExpr {clearvar[StateTimer]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,Dungeon]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			NavEmpty
			Any
				CellE 59510139
				CellE 59510138
		DO:	DoAll
				SetOpt {EnableCombat} {True}
				DoExpr {clearvar[PitStop]}
				DoExpr {clearvar[Clear]}
				DoExpr {clearvar[StateTimer]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,Dungeon]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {testvar[JumpStuck]}
			Expr {stopwatchelapsedseconds[getvar[JumpStuck]]>=3}
			Any
				CellE 2F340030
				CellE 2F340029
				CellE 2F340022
				CellE 2F34002F
		DO:	EmbedNav nav28 {[none]}
	IF:	All
			Expr {testvar[JumpStuck]}
			Expr {stopwatchelapsedseconds[getvar[JumpStuck]]>=7}
			Any
				CellE 2F340030
				CellE 2F340029
				CellE 2F340022
				CellE 2F34002F
		DO:	DoExpr {stopwatchstart[setvar[JumpStuck, stopwatchcreate[]]]}
	IF:	All
			Not Expr {testvar[JumpStuck]}
			Any
				CellE 2F340030
				CellE 2F340029
				CellE 2F340022
				CellE 2F34002F
		DO:	DoExpr {stopwatchstart[setvar[JumpStuck, stopwatchcreate[]]]}
~~ }
STATE: {ToRaksaa} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF:	Expr {getgvar[Zstuck]==1}
		DO:	DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	Always
		DO:	SetWatchdog 5 45 {ToRynthid}
	IF:	CellE 3032001C
		DO:	EmbedNav nav29 {[none]}
	IF:	All
			CellE 3032001C
			NavEmpty
		DO:	SetState {UseRaksaa}
~~ }
STATE: {ToRynthid} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF:	Expr {getgvar[Zstuck]==1}
		DO:	DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	Not Expr {testvar[CombatStuck]}
		DO:	DoExpr {stopwatchstart[setvar[CombatStuck, stopwatchcreate[]]]}
	IF:	All
			Expr {testvar[CombatStuck]]}
			Expr {stopwatchelapsedseconds[getvar[CombatStuck]]>=40}
			Any
				Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Missile}
				Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Melee}
		DO:	Chat {/ub quit}
	IF:	BlockE 30320000
		DO:	DoExpr {clearvar[CombatStuck]}
	IF:	Not BlockE 30320000
		DO:	DoAll
				DoExpr {actiontrycastbyid[6150]} ~~ SpellId 6150 is "Rynthid Recall".
				SetState {ToRynthid}
	IF:	All
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Raksaa]]==7}
			BlockE 30320000
		DO:	DoAll
				DoExpr {setpvar[StateName,UseRaksaa]}
				DoExpr {setpvar[ReturnMetaProfile,LugianAssaultPublic]}
				DoExpr {setpvar[Profile,KillTasksPublic]}
				Chat {/vt meta load KillTasksPublic}
	IF:	All
			Expr {getpvar[KTFlag]==0}
			BlockE 30320000
		DO:	DoAll
				DoExpr {setpvar[KTFlag,1]}
				DoExpr {setpvar[StateName,UseRaksaa]}
				DoExpr {setpvar[ReturnMetaProfile,LugianAssaultPublic]}
				DoExpr {setpvar[Profile,KillTasksPublic]}
				Chat {/vt meta load KillTasksPublic}
	IF:	All
			Expr {getpvar[KTFlag]==1}
			BlockE 30320000
		DO:	DoAll
				DoExpr {setpvar[KTFlag,1]}
				DoExpr {setpvar[StateName,UseRaksaa]}
				DoExpr {setpvar[Profile,LugianAssaultPublic]}
				Chat {/vt meta load CheckPublic}
	IF:	Always
		DO:	SetOpt {EnableCombat} {False}
	IF:	Always
		DO:	EmbedNav nav30 {[none]}
~~ }
STATE: {UseLever} ~~ {
	IF:	All
			Expr {getvar[Lever]==0}
			Any
				All
					CellE 59510145
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<26}
				All
					CellE 5951018B
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<33}
				All
					CellE 595101C3
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<35}
				All
					CellE 595101B8
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<27}
				All
					CellE 5951018C
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<27}
				All
					CellE 59510181
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<25}
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==0}
		DO:	DoExpr {actiontryuseitem[wobjectfindnearestbynameandobjectclass[8,Lever]]}
	IF:	All
			CellE 59510145
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<26}
		DO:	DoAll
				DoExpr {setvar[Lever,1]}
				EmbedNav nav31 {Junk.nav}
	IF:	All
			CellE 5951018B
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<33}
		DO:	DoAll
				DoExpr {setvar[Lever,1]}
				EmbedNav nav32 {[none]}
	IF:	All
			CellE 595101C3
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<35}
		DO:	DoAll
				DoExpr {setvar[Lever,1]}
				EmbedNav nav33 {[none]}
	IF:	All
			CellE 595101B8
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<27}
		DO:	DoAll
				DoExpr {setvar[Lever,1]}
				EmbedNav nav34 {[none]}
	IF:	All
			CellE 5951018C
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<27}
		DO:	DoAll
				DoExpr {setvar[Lever,1]}
				EmbedNav nav35 {[none]}
	IF:	All
			CellE 59510181
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<25}
		DO:	DoAll
				DoExpr {setvar[Lever,1]}
				EmbedNav nav36 {[none]}
	IF:	SecsInStateGE 5
		DO:	SetState {UseLever}
	IF:	Any
			CellE 59510154
			CellE 5951019B
			CellE 595101D6
			CellE 595101AF
			CellE 59510184
			CellE 59510172
		DO:	DoAll
				DoAll
				DoExpr {clearvar[Lever]}
				SetState {Dungeon}
~~ }
STATE: {UseRaksaa} ~~ {
	IF:	All
			Expr {getpvar[Step]==1}
			CellE 3032001C
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Raksaa]]==7}
		DO:	DoExpr {actiontrygiveitem[wobjectfindininventorybyname[Sealed Scroll for Raksaa],wobjectfindnearestbynameandobjectclass[37,Raksaa]]}
	IF:	All
			Expr {getpvar[LugianAssaultFlag]==0}
			Expr {getpvar[Step]==0}
			CellE 3032001C
			Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[37,Raksaa]]==7}
		DO:	DoExpr {actiontryuseitem[wobjectfindnearestbynameandobjectclass[37,Raksaa]]}
	IF:	All
			Expr {getpvar[Step]==1}
			Any
				ChatMatch {^You've earned}
				ChatMatch {^Raksaa tells you, "}
				Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Raksaa]]==1}
		DO:	DoExpr {setpvar[LugianAssaultTurnIn,1]}
	IF:	All
			Expr {getpvar[LugianAssaultTurnIn]==1}
			Expr {getpvar[Step]==1}
			Not Expr {testgvar[LugianAssaultTurnIn]}
		DO:	DoAll
				DoExpr {setgvar[LugianAssaultTurnIn,listcreate[]]}
				SetState {UseRaksaa}
	IF:	All
			Expr {getpvar[LugianAssaultTurnIn]==1}
			Expr {getpvar[Step]==1}
			Expr {testgvar[LugianAssaultTurnIn]}
			Not Expr {listcontains[getgvar[LugianAssaultTurnIn],getcharstringprop[1]]}
		DO:	DoAll
				DoExpr {listadd[getgvar[LugianAssaultTurnIn],getcharstringprop[1]]}
				SetState {UseRaksaa}
	IF:	All
			Expr {getpvar[LugianAssaultTurnIn]==1}
			Expr {getpvar[Step]==1}
			Expr {testgvar[LugianAssaultTurnIn]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameTwo]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameTwo]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameThree]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameTwo]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameThree]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameFour]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameTwo]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameThree]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameFour]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameFive]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameTwo]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameThree]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameFour]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameFive]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameSix]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameTwo]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameThree]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameFour]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameFive]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameSix]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameSeven]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameTwo]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameThree]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameFour]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameFive]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameSix]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameSeven]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameEight]]&&listcontains[getgvar[LugianAssaultTurnIn],getpvar[FellowNameNine]]}
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {setpvar[Profile,LugianAssaultPublic]}
				DoExpr {setpvar[StateName,Finished]}
				DoExpr {setpvar[CheckSync,Finished]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			Expr {getpvar[Step]==0}
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Commander Presk]]==7}
		DO:	DoExpr {setpvar[LugianAssaultFlag,1]}
	IF:	All
			Expr {getpvar[Step]==0}
			Expr {getpvar[LugianAssaultFlag]==1}
			Not Expr {testgvar[LugianAssaultFlag]}
		DO:	DoAll
				DoExpr {setgvar[LugianAssaultFlag,listcreate[]]}
				SetState {UseRaksaa}
	IF:	All
			Expr {getpvar[Step]==0}
			Expr {getpvar[LugianAssaultFlag]==1}
			Expr {testgvar[LugianAssaultFlag]}
			Not Expr {listcontains[getgvar[LugianAssaultFlag],getcharstringprop[1]]}
		DO:	DoAll
				DoExpr {listadd[getgvar[LugianAssaultFlag],getcharstringprop[1]]}
				SetState {UseRaksaa}
	IF:	All
			Expr {getpvar[Step]==0}
			Expr {getpvar[LugianAssaultFlag]==1}
			Expr {testgvar[LugianAssaultFlag]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[LugianAssaultFlag],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[LugianAssaultFlag],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[LugianAssaultFlag],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[LugianAssaultFlag],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[LugianAssaultFlag],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[LugianAssaultFlag],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameFive]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[LugianAssaultFlag],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameFive]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameSix]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[LugianAssaultFlag],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameFive]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameSix]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameSeven]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[LugianAssaultFlag],getpvar[LeaderName]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameFive]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameSix]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameSeven]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameEight]]&&listcontains[getgvar[LugianAssaultFlag],getpvar[FellowNameNine]]}
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {setpvar[Profile,LugianAssaultPublic]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeon]}
				Chat {/vt meta load CheckPublic}
	IF:	All
			CellE 3032001C
			SecsInStateGE 2
		DO:	SetState {UseRaksaa}
~~ }
STATE: {WatchDog} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF:	Expr {getgvar[Zstuck]==1}
		DO:	DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	Always
		DO:	DoAll
				Chat {/f !ManDown}
				DoExpr {clearvar[StateTimer]}
				SetState {DeathRecall}
	IF:	Any
			Death
			ChatMatch {^Your fellow .* has died!$}
			ChatMatch {!ManDown}
			ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
		DO:	DoAll
				Chat {/f !ManDown}
				DoExpr {clearvar[StateTimer]}
				SetState {DeathRecall}
~~ }
STATE: {Zstuck} ~~ {
	IF:	Always
		DO:	DoAll
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
~~ }

~~========================= ONLY NAVS APPEAR BELOW THIS LINE =========================~~

NAV: nav0 circular ~~ {
~~ }
NAV: nav1 once ~~ {
	pnt -63.202916653951 -61.578333346049 0.550020790100098
	pnt -63.202916653951 -61.578333346049 0.550020790100098
	pnt -63.202916653951 -61.578333346049 0.550020790100098
	pnt -63.202916653951 -61.578333346049 0.550020790100098
	pau 96.5192172686259 -77.3924765904744 -0.406645806630452 9000
	pnt -63.202916653951 -61.578333346049 0.550020790100098
	pnt -63.202916653951 -61.578333346049 0.550020790100098
	pnt -63.202916653951 -61.578333346049 0.550020790100098
~~ }
NAV: nav2 once ~~ {
	pnt -29.9583333333333 -38.0666666666667 2.08333134651184E-05
	pnt -29.9028577804565 -38.0252136230469 2.08333134651184E-05
	chk -29.9028577804565 -38.0252136230469 2.08333134651184E-05
	pnt -29.8873762130737 -38.0247659683228 2.08333134651184E-05
	chk -29.8873762130737 -38.0247659683228 2.08333134651184E-05
	pnt -29.8343872070312 -38.0236277898153 2.08333134651184E-05
	chk -29.8343872070312 -38.0236277898153 2.08333134651184E-05
	pnt -29.8338205973307 -38.0675916671753 2.08333134651184E-05
	chk -29.8338205973307 -38.0675916671753 2.08333134651184E-05
	pnt -29.7480686187744 -38.0681393941244 2.08333134651184E-05
	chk -29.7480686187744 -38.0681393941244 2.08333134651184E-05
	pnt -29.7491844177246 -37.958509572347 2.08333134651184E-05
	pnt -29.7496875762939 -37.9545566558838 2.08333134651184E-05
	pnt -29.8049702326457 -37.9533328374227 2.08333134651184E-05
	pnt -29.8078646977743 -37.8574578603109 2.08333134651184E-05
	chk -29.8078646977743 -37.8574578603109 2.08333134651184E-05
	pnt -29.822652053833 -37.8581392288208 2.08333134651184E-05
	chk -29.822652053833 -37.8581392288208 2.08333134651184E-05
	pnt -29.822652053833 -37.8581392288208 2.08333134651184E-05
~~ }
NAV: nav3 once ~~ {
	pnt -29.9583333333333 -38.0666666666667 2.08333134651184E-05
	pnt -29.9028577804565 -38.0252136230469 2.08333134651184E-05
	chk -29.9028577804565 -38.0252136230469 2.08333134651184E-05
	pnt -29.8873762130737 -38.0247659683228 2.08333134651184E-05
	chk -29.8873762130737 -38.0247659683228 2.08333134651184E-05
	pnt -29.8343872070312 -38.0236277898153 2.08333134651184E-05
	chk -29.8343872070312 -38.0236277898153 2.08333134651184E-05
	pnt -29.8338205973307 -38.0675916671753 2.08333134651184E-05
	chk -29.8338205973307 -38.0675916671753 2.08333134651184E-05
	pnt -29.7480686187744 -38.0681393941244 2.08333134651184E-05
	chk -29.7480686187744 -38.0681393941244 2.08333134651184E-05
	pnt -29.7491844177246 -37.958509572347 2.08333134651184E-05
	pnt -29.7496875762939 -37.9545566558838 2.08333134651184E-05
	pnt -29.8049702326457 -37.9533328374227 2.08333134651184E-05
	pnt -29.8078646977743 -37.8574578603109 2.08333134651184E-05
	pnt -29.8042970657349 -37.8025132497152 2.08333134651184E-05
	pnt -29.7493386586507 -37.8005379358927 2.08333134651184E-05
	chk -29.7493386586507 -37.8005379358927 2.08333134651184E-05
	pnt -29.7493386586507 -37.8005379358927 2.08333134651184E-05
~~ }
NAV: nav4 once ~~ {
	pnt -29.7493386586507 -37.8005379358927 2.08333134651184E-05
	chk -29.7493386586507 -37.8005379358927 2.08333134651184E-05
	pnt -29.7492204666138 -37.7874134063721 2.08333134651184E-05
	chk -29.7492204666138 -37.7874134063721 2.08333134651184E-05
	pnt -29.7488346735636 -37.7309054692586 2.08333134651184E-05
	chk -29.7488346735636 -37.7309054692586 2.08333134651184E-05
	pnt -29.6664389292399 -37.7340830485026 2.08333134651184E-05
	chk -29.6664389292399 -37.7340830485026 2.08333134651184E-05
	pnt -29.6660494486491 -37.7761957168579 2.08333134651184E-05
	chk -29.6660494486491 -37.7761957168579 2.08333134651184E-05
	pnt -29.5553161621094 -37.773575146993 2.08333134651184E-05
	chk -29.5553161621094 -37.773575146993 2.08333134651184E-05
	pnt -29.5560057322184 -37.8259892781576 2.08333134651184E-05
	pnt -29.5557811737061 -37.830212020874 2.08333134651184E-05
	pnt -29.5000203450521 -37.8313089370728 2.08333134651184E-05
	chk -29.5000203450521 -37.8313089370728 2.08333134651184E-05
	pnt -29.5007361094157 -37.8485242207845 2.08333134651184E-05
	chk -29.5007361094157 -37.8485242207845 2.08333134651184E-05
	pnt -29.5007361094157 -37.8485242207845 2.08333134651184E-05
~~ }
NAV: nav5 once ~~ {
	pnt -29.7493386586507 -37.8005379358927 2.08333134651184E-05
	chk -29.7493386586507 -37.8005379358927 2.08333134651184E-05
	pnt -29.7492204666138 -37.7874134063721 2.08333134651184E-05
	chk -29.7492204666138 -37.7874134063721 2.08333134651184E-05
	pnt -29.7488346735636 -37.7309054692586 2.08333134651184E-05
	chk -29.7488346735636 -37.7309054692586 2.08333134651184E-05
	pnt -29.6664389292399 -37.7340830485026 2.08333134651184E-05
	chk -29.6664389292399 -37.7340830485026 2.08333134651184E-05
	pnt -29.6660494486491 -37.7761957168579 2.08333134651184E-05
	chk -29.6660494486491 -37.7761957168579 2.08333134651184E-05
	pnt -29.5553161621094 -37.773575146993 2.08333134651184E-05
	chk -29.5553161621094 -37.773575146993 2.08333134651184E-05
	pnt -29.5560057322184 -37.8259892781576 2.08333134651184E-05
	pnt -29.5557811737061 -37.830212020874 2.08333134651184E-05
	pnt -29.5000203450521 -37.8313089370728 2.08333134651184E-05
	chk -29.5000203450521 -37.8313089370728 2.08333134651184E-05
	pnt -29.4022123972575 -37.8300671895345 2.08333134651184E-05
	chk -29.4022123972575 -37.8300671895345 2.08333134651184E-05
	pnt -29.4027982076009 -37.775483640035 2.08333134651184E-05
	chk -29.4027982076009 -37.775483640035 2.08333134651184E-05
	pnt -29.4027982076009 -37.775483640035 2.08333134651184E-05
~~ }
NAV: nav6 once ~~ {
	pnt -29.4027982076009 -37.775483640035 2.08333134651184E-05
	chk -29.4027982076009 -37.775483640035 2.08333134651184E-05
	pnt -29.3843322753906 -37.7752468109131 2.08333134651184E-05
	chk -29.3843322753906 -37.7752468109131 2.08333134651184E-05
	pnt -29.3331612904867 -37.7752246856689 2.08333134651184E-05
	chk -29.3331612904867 -37.7752246856689 2.08333134651184E-05
	pnt -29.33291943868 -37.6498456001282 2.08333134651184E-05
	chk -29.33291943868 -37.6498456001282 2.08333134651184E-05
	pnt -29.2248605092367 -37.650693098704 2.08333134651184E-05
	pnt -29.2213603973389 -37.6505243619283 2.08333134651184E-05
	pnt -29.2206270853678 -37.5935442924499 2.08333134651184E-05
	chk -29.2206270853678 -37.5935442924499 2.08333134651184E-05
	pnt -29.1239105224609 -37.594323126475 2.08333134651184E-05
	chk -29.1239105224609 -37.594323126475 2.08333134651184E-05
	pnt -29.1250208536784 -37.5757402420044 2.08333134651184E-05
	chk -29.1250208536784 -37.5757402420044 2.08333134651184E-05
	pnt -29.1250208536784 -37.5757402420044 2.08333134651184E-05
~~ }
NAV: nav7 once ~~ {
	pnt -29.4027982076009 -37.775483640035 2.08333134651184E-05
	chk -29.4027982076009 -37.775483640035 2.08333134651184E-05
	pnt -29.3843322753906 -37.7752468109131 2.08333134651184E-05
	chk -29.3843322753906 -37.7752468109131 2.08333134651184E-05
	pnt -29.3331612904867 -37.7752246856689 2.08333134651184E-05
	chk -29.3331612904867 -37.7752246856689 2.08333134651184E-05
	pnt -29.33291943868 -37.6498456001282 2.08333134651184E-05
	chk -29.33291943868 -37.6498456001282 2.08333134651184E-05
	pnt -29.2248605092367 -37.650693098704 2.08333134651184E-05
	pnt -29.2213603973389 -37.6505243619283 2.08333134651184E-05
	pnt -29.2206270853678 -37.5935442924499 2.08333134651184E-05
	chk -29.2206270853678 -37.5935442924499 2.08333134651184E-05
	pnt -29.1239105224609 -37.594323126475 2.08333134651184E-05
	chk -29.1239105224609 -37.594323126475 2.08333134651184E-05
	pnt -29.0266797383626 -37.5966938654582 2.08333134651184E-05
	chk -29.0266797383626 -37.5966938654582 2.08333134651184E-05
	pnt -29.0253108978271 -37.6504446665446 2.08333134651184E-05
	chk -29.0253108978271 -37.6504446665446 2.08333134651184E-05
	pnt -29.0253108978271 -37.6504446665446 2.08333134651184E-05
~~ }
NAV: nav8 once ~~ {
	pnt -29.0253108978271 -37.6504446665446 2.08333134651184E-05
	chk -29.0253108978271 -37.6504446665446 2.08333134651184E-05
	pnt -29.0098269144694 -37.6507756868998 2.08333134651184E-05
	pnt -28.9568129221598 -37.6501490910848 2.08333134651184E-05
	chk -28.9568129221598 -37.6501490910848 2.08333134651184E-05
	pnt -28.9575180053711 -37.5437575340271 2.08333134651184E-05
	pnt -28.9576700846354 -37.5114559809367 2.08333134651184E-05
	chk -28.9576700846354 -37.5114559809367 2.08333134651184E-05
	pnt -28.9583005269368 -37.4608144124349 2.08333134651184E-05
	pnt -28.9578740437826 -37.4275504748027 2.08333134651184E-05
	chk -28.9578740437826 -37.4275504748027 2.08333134651184E-05
	pnt -28.9571943918864 -37.3580121835073 2.08333134651184E-05
	chk -28.9571943918864 -37.3580121835073 2.08333134651184E-05
	pnt -29.0234205881755 -37.3571500619253 2.08333134651184E-05
	pnt -29.0304883321126 -37.3578301429749 2.08333134651184E-05
	pnt -29.0291521708171 -37.4140953222911 2.08333134651184E-05
	chk -29.0291521708171 -37.4140953222911 2.08333134651184E-05
	pnt -29.1675359090169 -37.4140937328339 2.08333134651184E-05
	chk -29.1675359090169 -37.4140937328339 2.08333134651184E-05
	pnt -29.1670162200928 -37.4323381106059 2.08333134651184E-05
	chk -29.1670162200928 -37.4323381106059 2.08333134651184E-05
	pnt -29.1670162200928 -37.4323381106059 2.08333134651184E-05
~~ }
NAV: nav9 once ~~ {
	pnt -29.0253108978271 -37.6504446665446 2.08333134651184E-05
	chk -29.0253108978271 -37.6504446665446 2.08333134651184E-05
	pnt -29.0098269144694 -37.6507756868998 2.08333134651184E-05
	pnt -28.9568129221598 -37.6501490910848 2.08333134651184E-05
	chk -28.9568129221598 -37.6501490910848 2.08333134651184E-05
	pnt -28.9575180053711 -37.5437575340271 2.08333134651184E-05
	pnt -28.9576700846354 -37.5114559809367 2.08333134651184E-05
	chk -28.9576700846354 -37.5114559809367 2.08333134651184E-05
	pnt -28.9583005269368 -37.4608144124349 2.08333134651184E-05
	pnt -28.9578740437826 -37.4275504748027 2.08333134651184E-05
	chk -28.9578740437826 -37.4275504748027 2.08333134651184E-05
	pnt -28.9571943918864 -37.3580121835073 2.08333134651184E-05
	chk -28.9571943918864 -37.3580121835073 2.08333134651184E-05
	pnt -29.0234205881755 -37.3571500619253 2.08333134651184E-05
	pnt -29.0304883321126 -37.3578301429749 2.08333134651184E-05
	pnt -29.0291521708171 -37.4140953222911 2.08333134651184E-05
	chk -29.0291521708171 -37.4140953222911 2.08333134651184E-05
	pnt -29.1675359090169 -37.4140937328339 2.08333134651184E-05
	chk -29.1675359090169 -37.4140937328339 2.08333134651184E-05
	pnt -29.2210605621338 -37.4127468268077 2.08333134651184E-05
	pnt -29.2241713205973 -37.3575689951579 2.08333134651184E-05
	chk -29.2241713205973 -37.3575689951579 2.08333134651184E-05
	pnt -29.2241713205973 -37.3575689951579 2.08333134651184E-05
~~ }
NAV: nav10 once ~~ {
	pnt -29.2241713205973 -37.3575689951579 2.08333134651184E-05
	chk -29.2241713205973 -37.3575689951579 2.08333134651184E-05
	pnt -29.2385883331299 -37.3567339102427 2.08333134651184E-05
	chk -29.2385883331299 -37.3567339102427 2.08333134651184E-05
	pnt -29.33362159729 -37.3595075766246 2.08333134651184E-05
	chk -29.33362159729 -37.3595075766246 2.08333134651184E-05
	pnt -29.333558400472 -37.4412651379903 2.08333134651184E-05
	chk -29.333558400472 -37.4412651379903 2.08333134651184E-05
	pnt -29.4041931152344 -37.4426942189534 2.08333134651184E-05
	chk -29.4041931152344 -37.4426942189534 2.08333134651184E-05
	pnt -29.404069519043 -37.3867639541626 2.08333134651184E-05
	chk -29.404069519043 -37.3867639541626 2.08333134651184E-05
	pnt -29.4577140808105 -37.3870566527049 2.08333134651184E-05
	chk -29.4577140808105 -37.3870566527049 2.08333134651184E-05
	pnt -29.4574712117513 -37.3715705076853 2.08333134651184E-05
	chk -29.4574712117513 -37.3715705076853 2.08333134651184E-05
	pnt -29.4574712117513 -37.3715705076853 2.08333134651184E-05
~~ }
NAV: nav11 once ~~ {
	pnt -29.2241713205973 -37.3575689951579 2.08333134651184E-05
	chk -29.2241713205973 -37.3575689951579 2.08333134651184E-05
	pnt -29.2385883331299 -37.3567339102427 2.08333134651184E-05
	chk -29.2385883331299 -37.3567339102427 2.08333134651184E-05
	pnt -29.33362159729 -37.3595075766246 2.08333134651184E-05
	chk -29.33362159729 -37.3595075766246 2.08333134651184E-05
	pnt -29.333558400472 -37.4412651379903 2.08333134651184E-05
	chk -29.333558400472 -37.4412651379903 2.08333134651184E-05
	pnt -29.4041931152344 -37.4426942189534 2.08333134651184E-05
	chk -29.4041931152344 -37.4426942189534 2.08333134651184E-05
	pnt -29.404069519043 -37.3867639541626 2.08333134651184E-05
	chk -29.404069519043 -37.3867639541626 2.08333134651184E-05
	pnt -29.4577140808105 -37.3870566527049 2.08333134651184E-05
	chk -29.4577140808105 -37.3870566527049 2.08333134651184E-05
	pnt -29.5129693349202 -37.3853615919749 2.08333134651184E-05
	chk -29.5129693349202 -37.3853615919749 2.08333134651184E-05
	pnt -29.514454015096 -37.4408262570699 2.08333134651184E-05
	chk -29.514454015096 -37.4408262570699 2.08333134651184E-05
~~ }
NAV: nav12 once ~~ {
	pnt -29.514454015096 -37.4408262570699 2.08333134651184E-05
	chk -29.514454015096 -37.4408262570699 2.08333134651184E-05
	pnt -29.5416077931722 -37.4411427179972 2.08333134651184E-05
	chk -29.5416077931722 -37.4411427179972 2.08333134651184E-05
	pnt -29.5836741129557 -37.4418841044108 2.08333134651184E-05
	chk -29.5836741129557 -37.4418841044108 2.08333134651184E-05
	pnt -29.5832077026367 -37.330853732427 2.08333134651184E-05
	chk -29.5832077026367 -37.330853732427 2.08333134651184E-05
	pnt -29.5275468190511 -37.3272255579631 2.08333134651184E-05
	chk -29.5275468190511 -37.3272255579631 2.08333134651184E-05
	pnt -29.5267650604248 -37.2753745794296 2.08333134651184E-05
	chk -29.5267650604248 -37.2753745794296 2.08333134651184E-05
	pnt -29.527288945516 -37.2330469767253 2.08333134651184E-05
	chk -29.527288945516 -37.2330469767253 2.08333134651184E-05
	pnt -29.5095714569092 -37.2335890769958 2.08333134651184E-05
	chk -29.5095714569092 -37.2335890769958 2.08333134651184E-05
	pnt -29.5095714569092 -37.2335890769958 2.08333134651184E-05
~~ }
NAV: nav13 once ~~ {
	pnt -29.514454015096 -37.4408262570699 2.08333134651184E-05
	chk -29.514454015096 -37.4408262570699 2.08333134651184E-05
	pnt -29.5416077931722 -37.4411427179972 2.08333134651184E-05
	chk -29.5416077931722 -37.4411427179972 2.08333134651184E-05
	pnt -29.5836741129557 -37.4418841044108 2.08333134651184E-05
	chk -29.5836741129557 -37.4418841044108 2.08333134651184E-05
	pnt -29.5832077026367 -37.330853732427 2.08333134651184E-05
	chk -29.5832077026367 -37.330853732427 2.08333134651184E-05
	pnt -29.5275468190511 -37.3272255579631 2.08333134651184E-05
	chk -29.5275468190511 -37.3272255579631 2.08333134651184E-05
	pnt -29.5267650604248 -37.2753745794296 2.08333134651184E-05
	chk -29.5267650604248 -37.2753745794296 2.08333134651184E-05
	pnt -29.5310413360596 -37.21879854997 2.08333134651184E-05
	chk -29.5310413360596 -37.21879854997 2.08333134651184E-05
	pnt -29.5829998016357 -37.2205917358398 2.08333134651184E-05
	chk -29.5829998016357 -37.2205917358398 2.08333134651184E-05
~~ }
NAV: nav14 once ~~ {
	pnt -29.5829998016357 -37.2205917358398 2.08333134651184E-05
	chk -29.5829998016357 -37.2205917358398 2.08333134651184E-05
	pnt -29.5815204620361 -37.2023859302203 2.08333134651184E-05
	chk -29.5815204620361 -37.2023859302203 2.08333134651184E-05
	pnt -29.5847796122233 -37.1494997724891 2.08333134651184E-05
	chk -29.5847796122233 -37.1494997724891 2.08333134651184E-05
	pnt -29.6472309112549 -37.1488952485224 2.08333134651184E-05
	chk -29.6472309112549 -37.1488952485224 2.08333134651184E-05
	pnt -29.6472309112549 -37.1488952485224 2.08333134651184E-05
~~ }
NAV: nav15 once ~~ {
	ptl -29.6502769470215 -37.1493256319935 2.08333134651184E-05 -29.6666666666667 -37.15 -0.000262499845121056 14 {Presk's Treasury}
	pau -29.6502769470215 -37.1493256319935 2.08333134651184E-05 5000
~~ }
NAV: nav16 once ~~ {
	pnt -30.4583333333333 -37.5666666666667 2.08333134651184E-05
	pnt -30.4583333333333 -37.5666666666667 2.08333134651184E-05
	pnt -30.4583333333333 -37.5666666666667 2.08333134651184E-05
	pau -30.4583333333333 -37.5666666666667 2.08333134651184E-05 5000
	pnt -30.4583333333333 -37.5666666666667 2.08333134651184E-05
	pnt -30.4583333333333 -37.5666666666667 2.08333134651184E-05
~~ }
NAV: nav17 once ~~ {
	pnt -30.4566799799601 -37.5498900731405 2.08333134651184E-05
	pnt -30.4568853060404 -37.5245758692423 2.08333134651184E-05
	pnt -30.4566192626953 -37.5096276919047 2.08333134651184E-05
	pnt -30.4832357406616 -37.495941289266 2.08333134651184E-05
	pnt -30.5170483907064 -37.4819985707601 2.08333134651184E-05
~~ }
NAV: nav18 once ~~ {
~~ }
NAV: nav19 once ~~ {
	pnt -30.6329949855804 -37.4832424799601 2.08333134651184E-05
~~ }
NAV: nav20 once ~~ {
	jmp -30.6142228285472 -37.4868500709534 2.08333134651184E-05 270 {False} 500.00003
	pau -30.6142228285472 -37.4868500709534 2.08333134651184E-05 5000
	pnt -30.663428401947 -37.48324842453 2.08333134651184E-05
	pnt -30.6463068644206 -37.4866321563721 2.08333134651184E-05
	pnt -30.6329949855804 -37.4832424799601 2.08333134651184E-05
~~ }
NAV: nav21 once ~~ {
	pnt -30.5376107533773 -37.4834597587585 2.08333134651184E-05
	pnt -30.5458552360535 -37.4840536117554 2.08333134651184E-05
	pnt -30.5528275489807 -37.4831530253092 2.08333134651184E-05
~~ }
NAV: nav22 once ~~ {
	pnt -30.4566799799601 -37.5498900731405 2.08333134651184E-05
	pnt -30.4568853060404 -37.5245758692423 2.08333134651184E-05
	pnt -30.4566192626953 -37.5096276919047 2.08333134651184E-05
	pnt -30.4832357406616 -37.495941289266 2.08333134651184E-05
	pnt -30.5170483907064 -37.4819985707601 2.08333134651184E-05
~~ }
NAV: nav23 once ~~ {
	pnt -63.202916653951 -61.578333346049 0.550020790100098
	pnt -63.1761737187703 -61.4496633529663 0.511709562937419
	pnt -63.195823542277 -61.197546895345 0.391565863291423
	pnt -63.1965396245321 -61.0865520636241 0.360567887624105
	pnt -63.2042835235596 -60.9158836682638 0.33884449005127
	pnt -63.2340534845988 -60.783046913147 0.333354187011719
	pnt -63.2530581156413 -60.6828222910563 0.333354187011719
	pnt -63.319296614329 -60.5028793334961 0.31853551864624
	pnt -63.4295702934265 -60.3560024261475 0.316687552134196
	pnt -63.4890237013499 -60.2439430077871 0.307849438985189
	pnt -63.5543373743693 -60.0592419306437 0.29209623336792
	pnt -63.6289772033691 -59.8490282694499 0.288264687856038
	pnt -63.6705778757731 -59.7310206095378 0.283354187011719
	pnt -63.7360506693522 -59.6453893025716 0.283354187011719
	pnt -63.8367783864339 -59.6192768732707 0.266780090332031
	jmp -64.3356294423342 -59.6174233754476 0.149521255493164 270 {True} 1500.00003
	pau -64.3356294423342 -59.6174233754476 0.149521255493164 5000
	pnt -64.1937932332357 -59.5231958369414 0.104704729715983
	pnt -64.3356294423342 -59.6174233754476 0.149521255493164
~~ }
NAV: nav24 once ~~ {
	pnt -64.1937932332357 -59.5231958369414 0.104704729715983
	pnt -64.3037321567535 -59.316747379303 0.111125214894613
	pnt -64.4160388946533 -59.0884623209635 0.116687496503194
	pnt -64.5191568374634 -58.8606183369954 0.119257760047913
	pnt -64.6225692113241 -58.7494459288195 0.137161874771118
	pnt -64.7356697718302 -58.6577323595683 0.226807467142741
	pnt -64.7629164377848 -58.6436126391093 0.247660668690999
	pnt -64.8025273005168 -58.6816113313039 0.285460249582926
	pnt -64.8650041262309 -58.73785328269 0.325020853678385
	pnt -64.8714669863383 -58.8105980555216 0.319971021016439
	pnt -64.8660251617432 -59.1119328180949 0.304528522491455
	pnt -64.8738868077596 -59.3173180898031 0.294410991668701
	pnt -64.8809974988302 -59.5973393122355 0.289882214864095
	pnt -64.9304343700409 -59.8905977567037 0.28673734664917
	pnt -64.9930149396261 -60.0519267400106 0.288102912902832
	pnt -65.1002352873484 -60.2955262422562 0.287932872772217
	pnt -65.2481731414795 -60.4219350814819 0.297682126363118
	pnt -65.4362461725871 -60.5441224416097 0.322895081837972
	pnt -65.5805267016093 -60.6454382578532 0.367710812886556
	pnt -65.7030089696248 -60.8235991160075 0.375716431935628
	pnt -65.8062576611837 -61.0291629632314 0.328316561381022
	pnt -65.9340379297733 -61.3071920394897 0.307447179158529
	pnt -66.0456297556559 -61.5579740524292 0.326349862416585
	pnt -66.0980002085368 -61.7308970610301 0.348428916931152
	pnt -66.295844523112 -61.8437642176946 0.361827818552653
~~ }
NAV: nav25 once ~~ {
	pnt -66.3029655774434 -61.844406414032 0.361341444651286
	pnt -66.3028864860535 -61.8458087046941 0.361581738789876
	pnt -66.4545681635539 -61.8534787654877 0.341306813557943
	pnt -66.6370845476786 -61.9072241465251 0.315147686004639
	pnt -66.7037253379822 -61.9695239384969 0.288414859771729
	pnt -66.7550837834676 -62.0534428914388 0.248790168762207
	pnt -66.785285949707 -62.085850016276 0.249597787857056
	pnt -66.9267734527588 -62.2483673095703 0.282537841796875
	pnt -66.969020652771 -62.5051497777303 0.326446533203125
	pnt -67.0148012797038 -62.6143744150798 0.32498524983724
	pnt -67.062844657898 -62.7960722605387 0.332283814748128
	pnt -67.0760910669963 -62.9043418884277 0.331179936726888
	pnt -67.1067232131958 -63.0811473528544 0.335840034484863
	pnt -67.1131536483765 -63.1570796012878 0.331751887003581
	pnt -67.1093998908997 -63.2014416058858 0.336074352264404
	pnt -66.9498018900553 -63.2914700508118 0.370176378885905
	pnt -66.9058617273966 -63.3409918308258 0.381626542409261
	pnt -66.8848058064779 -63.3782118320465 0.38588654200236
	pnt -66.8327583948771 -63.438237786293 0.393124294281006
	pnt -66.7777683258057 -63.6084634145101 0.395392767588298
~~ }
NAV: nav26 once ~~ {
	pnt -66.7777683258057 -63.6084634145101 0.395392767588298
	pnt -66.7514212290446 -63.6042521158854 0.39978396097819
	pnt -66.5947642962138 -63.6099910736084 0.416687520345052
	pnt -66.5193956693013 -63.6070563634237 0.41923786799113
	pnt -66.4427045822144 -63.5989917755127 0.430319404602051
	pnt -66.3708859443664 -63.5940002441406 0.439947001139323
~~ }
NAV: nav27 once ~~ {
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pau -66.3728732426961 -63.6011405944824 0.439781379699707 5000
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
~~ }
NAV: nav28 once ~~ {
	jmp -64.3356294423342 -59.6174233754476 0.149521255493164 270 {True} 1500.00003
	pau -64.3356294423342 -59.6174233754476 0.149521255493164 2000
	pnt -64.1937932332357 -59.5231958369414 0.104704729715983
	pnt -64.3356294423342 -59.6174233754476 0.149521255493164
~~ }
NAV: nav29 once ~~ {
	pnt -63.2072914759318 -61.5863583246867 0.550020790100098
	pnt -63.2329744974772 -61.6290977795919 0.550020790100098
~~ }
NAV: nav30 circular ~~ {
~~ }
NAV: nav31 once ~~ {
	pnt -29.8216175079346 -37.8579680124919 2.08333134651184E-05
	pnt -29.8010787963867 -37.8594575246175 2.08333134651184E-05
	pnt -29.8043809254964 -37.7995047251383 2.08333134651184E-05
	pnt -29.770360438029 -37.7996507644653 2.08333134651184E-05
	pnt -29.748764928182 -37.8014441808065 2.08333134651184E-05
~~ }
NAV: nav32 once ~~ {
	pnt -29.4990624745687 -37.8488535563151 2.08333134651184E-05
	pnt -29.4991166432699 -37.8327757517497 2.08333134651184E-05
	pnt -29.4633804321289 -37.8334199269613 2.08333134651184E-05
	pnt -29.4232325236003 -37.8347995758057 2.08333134651184E-05
	pnt -29.397838083903 -37.8354973475138 2.08333134651184E-05
	pnt -29.3990561167399 -37.7882423400879 2.08333134651184E-05
	pnt -29.3995321909587 -37.7757316589355 2.08333134651184E-05
~~ }
NAV: nav33 once ~~ {
	pnt -29.1234814961751 -37.5769537607829 2.08333134651184E-05
	pnt -29.1258753458659 -37.592390314738 2.08333134651184E-05
	pnt -29.0637097676595 -37.5940445582072 2.08333134651184E-05
	pnt -29.0251366933187 -37.5959385236104 2.08333134651184E-05
	pnt -29.0257171630859 -37.6063013076782 2.08333134651184E-05
	pnt -29.0231819152832 -37.6521385828654 2.08333134651184E-05
~~ }
NAV: nav34 once ~~ {
	pnt -29.1685030619303 -37.4315879185994 2.08333134651184E-05
	pnt -29.1657566070557 -37.4137140274048 2.08333134651184E-05
	pnt -29.1956044514974 -37.4123396873474 2.08333134651184E-05
	pnt -29.2271283467611 -37.4142691135406 2.08333134651184E-05
	pnt -29.2201093037923 -37.3937141736348 2.08333134651184E-05
	pnt -29.2218939463298 -37.3554323196411 2.08333134651184E-05
~~ }
NAV: nav35 once ~~ {
	pnt -29.4572793324788 -37.3677981058757 2.08333134651184E-05
	pnt -29.4576792399089 -37.3869779904683 2.08333134651184E-05
	pnt -29.4743395487467 -37.3849062283834 2.08333134651184E-05
	pnt -29.5056612650553 -37.3825228691101 2.08333134651184E-05
	pnt -29.5187920888265 -37.3813170274099 2.08333134651184E-05
	pnt -29.517854309082 -37.388715171814 2.08333134651184E-05
	pnt -29.5159220377604 -37.414387512207 2.08333134651184E-05
	pnt -29.5172701517741 -37.4404814720154 2.08333134651184E-05
~~ }
NAV: nav36 once ~~ {
	pnt -29.511519241333 -37.2345436573029 2.08333134651184E-05
	pnt -29.5282614390055 -37.2310936609904 2.08333134651184E-05
	pnt -29.5263109842936 -37.2146500865618 2.08333134651184E-05
	pnt -29.5472737630208 -37.2145281394323 2.08333134651184E-05
	pnt -29.5813139597575 -37.2166988531748 2.08333134651184E-05
	pnt -29.5821926116943 -37.2168295145035 2.08333134651184E-05
~~ }
