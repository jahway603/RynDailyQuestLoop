~~ {
~~ FOR AUTO-COMPLETION ASSISTANCE: testvar getvar setvar touchvar clearallvars clearvar getcharintprop getchardoubleprop getcharquadprop getcharboolprop getcharstringprop getisspellknown getcancastspell_hunt getcancastspell_buff getcharvital_base getcharvital_current getcharvital_buffedmax getcharskill_traininglevel getcharskill_base getcharskill_buffed getplayerlandcell getplayercoordinates coordinategetns coordinategetwe coordinategetz coordinatetostring coordinateparse coordinatedistancewithz coordinatedistanceflat wobjectgetphysicscoordinates wobjectgetname wobjectgetobjectclass wobjectgettemplatetype wobjectgetisdooropen wobjectfindnearestmonster wobjectfindnearestdoor wobjectfindnearestbyobjectclass wobjectfindininventorybytemplatetype wobjectfindininventorybyname wobjectfindininventorybynamerx wobjectgetselection wobjectgetplayer wobjectfindnearestbynameandobjectclass actiontryselect actiontryuseitem actiontryapplyitem actiontrygiveitem actiontryequipanywand actiontrycastbyid actiontrycastbyidontarget chatbox chatboxpaste statushud statushudcolored uigetcontrol uisetlabel isfalse istrue iif randint cstr strlen getobjectinternaltype cstrf stopwatchcreate stopwatchstart stopwatchstop stopwatchelapsedseconds cnumber floor ceiling round abs getworldname getitemcountininventorybyname getheading getitemcountininventorybynamerx getheadingto actiontrygiveprofile vitae getfellowshipstatus getfellowshipname getfellowshipisopen getfellowshipisleader getfellowshipleaderid getfellowshipcanrecruit getfellowid getfellowshipcount getfellowshiplocked getfellowname getfellowshipisfull sin cos tan sqrt asin acos atan atan2 sinh cosh tanh vtsetmetastate getregexmatch echo chr ord wobjectgetid wobjectgethealth wobjectfindbyid wobjectgetintprop wobjectfindnearestbytemplatetype wobjectgetopencontainer testquestflag getquestktprogress isrefreshingquests getquestktrequired getqueststatus getisday getgamehour getgamehourname getisnight getgameday getgameticks getminutesuntilday getgamemonth getgamemonthname getminutesuntilnight getgameyear uisetvisible uiviewvisible uiviewexists getgvar touchgvar getpvar touchpvar setgvar cleargvar setpvar clearpvar testgvar clearallgvars testpvar clearallpvars dictgetitem dictcreate dicthaskey dictadditem dictkeys dictremovekey dictvalues dictclear dictsize dictcopy listgetitem listpop listcreate listcontains listremove listadd listindexof listremoveat listinsert listlastindexof listclear listcopy listcount listreverse

~~																						
~~ File auto-generated by metaf, a program created by Eskarina of Morningthaw/Coldeve.	
~~		Get metaf here: https://github.com/JJEII/metaf/									
~~																						
~~ All recognized structural designators:												
~~		STATE:				DO:															
~~		IF:					NAV:														
~~																						
~~ All recognized CONDITION (IF:) operation keywords:									
~~		Never				NavEmpty			MobsInDist_Priority		Not				
~~		Always				Death				NeedToBuff				PSecsInStateGE	
~~		All					VendorOpen			NoMobsInDist			SecsOnSpellGE	
~~		Any					VendorClosed		BlockE					BuPercentGE		
~~		ChatMatch			ItemCountLE			CellE					DistToRteGE		
~~		MainSlotsLE			ItemCountGE			IntoPortal				Expr			
~~		SecsInStateGE		MobsInDist_Name		ExitPortal				ChatCapture		
~~																						
~~ All recognized ACTION (DO:) operation keywords:										
~~		None				EmbedNav			ChatExpr				SetOpt			
~~		SetState			CallState			SetWatchdog				CreateView		
~~		Chat				Return				ClearWatchdog			DestroyView		
~~		DoAll				DoExpr				GetOpt					DestroyAllViews	
~~																						
~~ All recognized NAV types:															
~~		circular			follow														
~~		linear				once														
~~																						
~~ All recognized NAV NODE types:														
~~		flw					vnd															
~~		pnt					ptl															
~~		rcl					tlk															
~~		pau					chk															
~~		cht					jmp															
~~		prt (deprecated in VTank)														
~~ }																					

STATE: {CommanderPresk} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF: Expr {getgvar[Zstuck]==1}
		DO: DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	All
			Expr {testvar[StateTimer]}
			Expr {stopwatchelapsedseconds[getvar[StateTimer]]>=300}
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	All
			Expr {getpvar[Leader]==1}
			Any
				Death
				ChatMatch {^Your fellow .* has died!$}
				BlockE C8E90000
				ChatMatch {!ManDown}
				ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	Any
			Death	
			Any
				BlockE C8E90000 ~~ Lifestone Landblock
		DO:	Chat {/f !ManDown}
	IF: Any
			ChatMatch {!ManDown}
			ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
		DO: SetState {DeathRecall}
	IF:	All
			Expr {getpvar[Leader]==1}
			Not Expr {testgvar[QuestComplete]}
		DO:	DoAll
				DoExpr {setgvar[QuestComplete,listcreate[]]}
				SetState {CommanderPresk}
	IF:	All
			Expr {testgvar[QuestComplete]}
			Not Expr {listcontains[getgvar[QuestComplete],getcharstringprop[1]]}
			Any
				Expr {getpvar[QuestCompletedSkip]==1}
				Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Raksaa]]==7}
		DO:	DoAll
				DoExpr {listadd[getgvar[QuestComplete],getcharstringprop[1]]}
				SetState {CommanderPresk}
	IF:	All
			Expr {testgvar[QuestComplete]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameSeven]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameSeven]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameEight]]&&listcontains[getgvar[QuestComplete],getpvar[FellowNameNine]]}
				All
					Expr {getpvar[AdminSkip]==1}
					Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Raksaa]]==7}
		DO:	DoAll
				DoExpr {setpvar[Step,1]}
				DoExpr {clearvar[StateTimer]}
				DoExpr {setpvar[StateName,ToRynthid]}
				DoExpr {setpvar[CheckSync,ToRynthidCommanderPresk]}
				Chat {/vt meta load CheckPublic} ~~ ToRynthidCommanderPresk
	IF:	All
			SecsInStateGE 3
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Commander Presk]]==7}
		DO:	DoAll
				DoExpr {actiontrygiveitem[wobjectfindininventorybyname[Sealed Scroll for Commander Presk],wobjectfindnearestbynameandobjectclass[37,Commander Presk]]}
				SetState {CommanderPresk}
~~ }
STATE: {DeathRecall} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF: Expr {getgvar[Zstuck]==1}
		DO: DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	Not Expr {testvar[CombatStuck]}
		DO:	DoExpr {stopwatchstart[setvar[CombatStuck, stopwatchcreate[]]]}
	IF:	All
			Expr {testvar[CombatStuck]]}
			Expr {stopwatchelapsedseconds[getvar[CombatStuck]]>=15}
			Expr {wobjectgetintprop[wobjectfindnearestbyobjectclass[31],218103818]==wobjectgetid[wobjectgetplayer[]]&&getcombatstate[]==Missile}
		DO:	Chat {/ub quit}
	IF:	IntoPortal
		DO:	DoExpr {clearvar[CombatStuck]}
	IF:	Always
		DO:	DoAll
				DoExpr {setpvar[StateName,DeathRecall]}
				DoExpr {clearvar[PitStop]}
				DoExpr {cleargvar[InsideDungeon]}
				DoExpr {cleargvar[RangeDown]}
				SetOpt {EnableCombat} {False}
				SetOpt {EnableNav} {False}
				SetOpt {SummonPets} {False}
				EmbedNav nav0 {[none]}
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0208]]`]}
				DoExpr {clearpvar[Door]}
				DoExpr {clearvar[StateTimer]}
				DoExpr {clearvar[JumpStuck]}
				DoExpr {clearvar[Room]}
				DoExpr {clearvar[Safe]}
				DoExpr {clearvar[PortalTimer]}
				SetOpt {NavCloseStopRange} {0.00625}
	IF:	Not CellE 3032001C
		DO:	DoAll
				DoExpr {actiontrycastbyid[6150]} ~~ SpellId 6150 is "Rynthid Recall".
				SetState {DeathRecall}
	IF: CellE 3032001C
		DO: DoAll
				SetOpt {EnableNav} {True}
				EmbedNav DeathDelay {[DeathDelay]}
	IF:	All
			NavEmpty
			CellE 3032001C
		DO:	DoAll
				DoExpr {clearvar[CombatStuck]}
				DoExpr {clearvar[StateTimer]}
				SetOpt {EnableNav} {True}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeon]}
				Chat {/vt meta load CheckPublic} ~~ ToDungeon
~~ }
STATE: {Default} ~~ {
	IF: All
			Expr {getpvar[Profile]==LugianAssaultPublic}
			Expr {getpvar[StateName]!=Default}
			Not NeedToBuff
		DO:	DoAll
				ChatExpr {\/vt meta load +getpvar[Profile]}
				ChatExpr {\/vt setmetastate +getpvar[StateName]}
	IF:	Always
		DO:	DoAll
				DoExpr {setpvar[Profile, LugianAssaultPublic]}
				DoExpr {setpvar[StateName, Default]}
				DoExpr {setpvar[Stuck, ToRynthid]}
	IF:	Any
			Expr {getcharstringprop[1]==getpvar[LeaderName]}
			ItemCountGE 1 {Egg}
		DO:	DoExpr {setpvar[Leader,1]}
	IF:	Any
			Expr {getcharboolprop[44]==1}
			Expr {getpvar[FellowCount]<2}
		DO:	DoExpr {setpvar[AdminSkip,1]}
	IF: Not Expr {testvar[FailDelayCounter]}
		DO: DoExpr {setgvar[FailDelayCounter,listcreate[]]}
	IF:	Always
		DO:	DoAll
				Chat {/vt loot load DailyLoopPublic.utl}
				SetOpt {EnableNav} {True}
				SetOpt {AutoCram} {False}
				SetOpt {AutoStack} {True}
				SetOpt {NavPriorityBoost} {False}
				SetOpt {EnableCombat} {False}
				SetOpt {SummonPets} {False}
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0208]]`]}
				SetOpt {NavCloseStopRange} {0.00625}
				SetOpt {Recharge-Norm-HitP} {75}
				SetOpt {EnableBuffing} {True}
				SetOpt {EnableLooting} {True}
				SetOpt {LootOnlyRareCorpses} {True}
				SetOpt {OpenDoors} {True}
				SetOpt {IdlePeaceMode} {False}
				SetOpt {UseDispelItems} {False}
				SetOpt {Recharge-Helper-HitP} {50}
	IF:	Any
			All
				Expr {getcharskill_buffed[32]>=391}
				Expr {getspellexpirationbyname[Aura of Incantation of Defender Self]<=1800}
			All
				Expr {getcharskill_buffed[32]<=390}
				Expr {getspellexpirationbyname[Aura of Cragstone's Will]<=1800}
		DO:	DoAll
				Chat {/vt forcebuff}
				DoExpr {setgvar[Buffing,1]}
				DoExpr {setpvar[StateName,vtgetmetastate[]]}
				SetState {SyncBuff}
	IF: Expr {getgvar[Buffing]==1}
		DO: DoAll
				DoExpr {setpvar[StateName,vtgetmetastate[]]}
				SetState {SyncBuff}
	IF:	All
			SecsInStateGE 3
			Not NeedToBuff
		DO:	DoAll
				DoExpr {setpvar[StateName,ToRynthid]}
				SetState {ToRynthid}
~~ }
STATE: {SyncBuff} ~~{
	IF: Not Expr {testpvar[BuffingStartAll]}
		DO: DoAll
				DoExpr {setpvar[BuffingStartAll,1]}
				Chat {/vt forcebuff}
	IF: All
			NeedToBuff
			Expr {vtgetsetting[EnableBuffing]!=True}
		DO: SetOpt {EnableBuffing} {True}
	IF:	All
			Not Expr {testgvar[SyncBuffComplete]}
			Not NeedToBuff
		DO:	DoAll
				DoExpr {setgvar[SyncBuffComplete,listcreate[]]}
				SetState {SyncBuff}
	IF:	All
			Expr {testgvar[SyncBuffComplete]}
			Not Expr {listcontains[getgvar[SyncBuffComplete],getcharstringprop[1]]}
			Not NeedToBuff
		DO:	DoAll
				DoExpr {listadd[getgvar[SyncBuffComplete],getcharstringprop[1]]}
				SetState {SyncBuff}
	IF:	All
			Not NeedToBuff
			Expr {testgvar[SyncBuffComplete]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameSeven]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameSeven]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameEight]]&&listcontains[getgvar[SyncBuffComplete],getpvar[FellowNameNine]]}		
		DO: DoAll
				DoExpr {clearpvar[Buffing]}
				DoExpr {clearpvar[BuffingStartAll]}
				DoExpr {setpvar[StateName,Default]}
				DoExpr {vtsetmetastate[getpvar[StateName]]}
~~}
STATE: {Dungeon} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {3}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF: Expr {getgvar[Zstuck]==1}
		DO: DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	All
			Expr {getpvar[Leader]==1}
			Any
				Death
				ChatMatch {^Your fellow .* has died!$}
				BlockE C8E90000
				ChatMatch {!ManDown}
				ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	Any
			Death	
			Any
				BlockE C8E90000 ~~ Lifestone Landblock
		DO:	Chat {/f !ManDown}
	IF: Any
			ChatMatch {!ManDown}
			ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
		DO: SetState {DeathRecall}
	IF:	All
			Expr {testvar[StateTimer]}
			Expr {stopwatchelapsedseconds[getvar[StateTimer]]>=600}
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF: Always
		DO: SetWatchdog 5 90 {WatchDog}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			Any
				CellE 59510139
				CellE 59510153
				CellE 5951019E
				CellE 595101D9
				CellE 595101AC
				CellE 5951017D
				CellE 59510171
		DO:	DoAll
				SetOpt {EnableCombat} {False}
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			Any
				CellE 59510139
				CellE 59510153
				CellE 5951019E
				CellE 595101D9
				CellE 595101AC
				CellE 5951017D
				CellE 59510171
		DO:	DoAll
				SetOpt {EnableCombat} {True}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			Any
				CellE 59510158
				CellE 59510179
				CellE 595101AD
				CellE 595101D8
				CellE 5951019D
				CellE 59510175
		DO:	DoAll
				SetOpt {EnableCombat} {False}
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			Any
				CellE 59510158
				CellE 59510179
				CellE 595101AD
				CellE 595101D8
				CellE 5951019D
				CellE 59510175
		DO:	DoAll
				SetOpt {EnableCombat} {False}
	IF:	All
			Any
				CellE 59510139
				CellE 59510138
			Expr {getpvar[Leader]==1}
			Not Expr {testgvar[InsideDungeon]}
		DO:	DoAll
				DoExpr {setgvar[InsideDungeon,listcreate[]]}
				SetState {Dungeon}
	IF:	All
			Expr {testgvar[InsideDungeon]}
			Expr {listcontains[getgvar[InsideDungeon],getcharstringprop[1]]==0}
			Any
				CellE 59510139
				CellE 59510138
		DO:	DoAll
				DoExpr {listadd[getgvar[InsideDungeon],getcharstringprop[1]]}
				SetState {Dungeon}
	IF:	All
			Expr {getpvar[Leader]==1}
			Any
				CellE 59510139
				CellE 59510138
			Expr {testgvar[InsideDungeon]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSeven]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSeven]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameEight]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameNine]]}		
		DO:	DoAll
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0208]]`]}
				EmbedNav nav1 {Junk.nav}
	IF:	All
			Expr {getpvar[Leader]==0}
			Any
				CellE 59510139
				CellE 59510138
			Expr {testgvar[InsideDungeon]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSeven]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[InsideDungeon],getpvar[LeaderName]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameTwo]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameThree]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFour]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameFive]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSix]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameSeven]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameEight]]&&listcontains[getgvar[InsideDungeon],getpvar[FellowNameNine]]}		
		DO:	DoAll
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0208]]`]}
				EmbedNav nav2 {Junk.nav}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==1}
			NavEmpty
			CellE 59510145
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,UseLever]}
				DoExpr {setpvar[CheckSync,DungeonDoorOne]}
				Chat {/vt meta load CheckPublic} ~~ DungeonDoorOne
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==0}
			NavEmpty
			CellE 59510154
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonDoorOne]}
				Chat {/vt meta load CheckPublic} ~~ DungeonDoorOne
	IF:	All
			Expr {getpvar[Leader]==1}
			CellE 59510154
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav3 {Junk.nav}
	IF:	All
			Expr {getpvar[Leader]==0}
			CellE 59510154
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav4 {Junk.nav}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==1}
			NavEmpty
			CellE 5951018B
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,UseLever]}
				DoExpr {setpvar[CheckSync,DungeonDoorTwo]}
				Chat {/vt meta load CheckPublic} ~~ DungeonDoorTwo
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==0}
			NavEmpty
			CellE 5951019B
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonDoorTwo]}
				Chat {/vt meta load CheckPublic} ~~ DungeonDoorTwo
	IF:	All
			Expr {getpvar[Leader]==1}
			CellE 5951019B
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav5 {Junk.nav}
	IF:	All
			Expr {getpvar[Leader]==0}
			CellE 5951019B
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav6 {Junk.nav}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==1}
			NavEmpty
			CellE 595101C3
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,UseLever]}
				DoExpr {setpvar[CheckSync,DungeonDoorThree]}
				Chat {/vt meta load CheckPublic} ~~ DungeonDoorThree
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==0}
			NavEmpty
			CellE 595101D6
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonDoorThree]}
				Chat {/vt meta load CheckPublic}~~ DungeonDoorThree
	IF:	All
			Expr {getpvar[Leader]==1}
			CellE 595101D6
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav7 {Junk.nav}
	IF:	All
			Expr {getpvar[Leader]==0}
			CellE 595101D6
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav8 {Junk.nav}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==1}
			NavEmpty
			CellE 595101B8
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,UseLever]}
				DoExpr {setpvar[CheckSync,DungeonDoorFour]}
				Chat {/vt meta load CheckPublic} ~~ DungeonDoorFour
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==0}
			NavEmpty
			CellE 595101AF
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonDoorFour]}
				Chat {/vt meta load CheckPublic} ~~ DungeonDoorFour
	IF:	All
			Expr {getpvar[Leader]==1}
			CellE 595101AF
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav9 {Junk.nav}
	IF:	All
			Expr {getpvar[Leader]==0}
			CellE 595101AF
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav10 {Junk.nav}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==1}
			NavEmpty
			CellE 5951018C
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,UseLever]}
				DoExpr {setpvar[CheckSync,DungeonDoorFive]}
				Chat {/vt meta load CheckPublic} ~~ DungeonDoorFive
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==0}
			NavEmpty
			CellE 59510184
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonDoorFive]}
				Chat {/vt meta load CheckPublic} ~~ DungeonDoorFive
	IF:	All
			Expr {getpvar[Leader]==1}
			CellE 59510184
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav11 {[none]}
	IF:	All
			Expr {getpvar[Leader]==0}
			CellE 59510184
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				EmbedNav nav12 {Junk.nav}
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==1}
			NavEmpty
			CellE 59510181
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,UseLever]}
				DoExpr {setpvar[CheckSync,DungeonDoorSix]}
				Chat {/vt meta load CheckPublic} ~~ DungeonDoorSix
	IF:	All
			Expr {getpvar[Door]==0}
			Expr {getpvar[Leader]==0}
			NavEmpty
			CellE 59510172
		DO:	DoAll
				DoExpr {setpvar[Door,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonDoorSix]}
				Chat {/vt meta load CheckPublic} ~~ DungeonDoorSix
	IF:	All
			CellE 59510172
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {setpvar[Door,0]}
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0416666666666]]`]}
				EmbedNav nav13 {[none]}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			NavEmpty
			Expr {getvar[PitStop]==0}
			Any
				CellE 59510161
				CellE 5951016A
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {setvar[PitStop,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonPitStopOne]}
				Chat {/vt meta load CheckPublic} ~~ DungeonPitStopOne
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			NavEmpty
			Expr {getvar[PitStop]==0}
			Any
				CellE 59510161
				CellE 5951016A
		DO:	DoAll
				SetOpt {EnableCombat} {True}
				DoExpr {setvar[PitStop,1]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,DungeonPitStopOne]}
				Chat {/vt meta load CheckPublic} ~~ DungeonPitStopOne
	IF:	All
			NavEmpty
			Expr {getvar[PitStop]==1}
			Any
				CellE 59510161
				CellE 5951016A
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				EmbedNav nav33 {Portal.nav}
	IF:	Any
			IntoPortal
			CellE 5951010F
		DO: EmbedNav nav14 {[none]}
	IF:	All
			NavEmpty
			CellE 5951010F
		DO:	DoAll
				SetOpt {EnableCombat} {True}
				DoExpr {clearvar[StateTimer]}
				DoExpr {cleargvar[InsideDungeon]}
				DoExpr {setpvar[StateName,FightBoss]}
				DoExpr {setpvar[CheckSync,FightBoss]}
				Chat {/vt meta load CheckPublic} ~~ FightBoss
~~ }
STATE: {FightBoss} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF: Expr {getgvar[Zstuck]==1}
		DO: DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	All
			Expr {getpvar[Leader]==1}
			Any
				Death
				ChatMatch {^Your fellow .* has died!$}
				BlockE C8E90000
				ChatMatch {!ManDown}
				ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	Any
			Death	
			Any
				BlockE C8E90000 ~~ Lifestone Landblock
		DO:	Chat {/f !ManDown}
	IF: Any
			ChatMatch {!ManDown}
			ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
		DO: SetState {DeathRecall}
	IF:	All
			Expr {testvar[StateTimer]}
			Expr {stopwatchelapsedseconds[getvar[StateTimer]]>=300}
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	Always
		DO:	DoAll
				SetOpt {EnableNav} {True}
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0625]]`]}
	IF: Expr {getgvar[RangeDown]==1}
		DO: DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0208]]`]}
	IF:	All
			Expr {getpvar[Leader]==1}
			Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,Corpse of Captain Keeson]]==7}
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Treasury Key]]==1}
			NoMobsInDist 5
		DO:	DoAll
				DoExpr {setvar[CorpseName,Corpse of Captain Keeson]}
				DoExpr {setvar[LootItem,Treasury Key]}
				DoExpr {listadd[getgvar[FailDelayCounter],getcharstringprop[1]]}
				DoExpr {setvar[Return,FightBoss]}
				CallState {Loot} {FightBoss}
	IF:	Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
		DO:	DoAll
				DoExpr {actiontryuseitem[wobjectgetopencontainer[]]}
				DoExpr {vtsetmetastate[vtgetmetastate[]]}
	IF:	Any
			All
				Expr {getpvar[Leader]==0}
				NoMobsInDist 5
			All
				Expr {getpvar[Leader]==1}
				Expr {getobjectinternaltype[wobjectfindininventorybyname[Treasury Key]]==7}
		DO:	DoAll
				EmbedNav nav15 {beep.nav}
				DoExpr {setgvar[RangeDown,1]}
	IF:	All
			NoMobsInDist 15
			CellE 5951010A
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Any
				Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==0}
				Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				DoExpr {clearvar[StateTimer]}
				DoExpr {setgvar[RangeDown,1]}
				DoExpr {setpvar[StateName,LugianDoor]}
				DoExpr {setpvar[CheckSync,LugianDoor]}
				Chat {/vt meta load CheckPublic} ~~ LugianDoor
~~ }
STATE: {Finished} ~~ {
	IF: All
			SecsInStateGE 5
			Any
				Expr {testgvar[QuestComplete]==1}
				Expr {testgvar[FailDelayCounter]==1}
				Expr {testgvar[Looting]==1}
				Expr {testgvar[LootFail]==1}
				Expr {testpvar[Step]==1}
				Expr {testpvar[StateName]==1}
				Expr {testpvar[Profile]==1}
				Expr {testpvar[Stuck]==1}
				Expr {testpvar[Door]==1}
				Expr {testpvar[Meta\ +getpvar[Profile]]==1}
				Expr {testpvar[QuestCompletedSkip]==1}
				Expr {testpvar[KTFlag]==1}
				Expr {testgvar[GoNow+getworldname[]]==1}
				Expr {testgvar[DefaultPass]==1}
				Expr {testgvar[GoNowClear]==1}
				Expr {testgvar[Checking]==1}
				Expr {testgvar[GoNowTwo]==1}
				Expr {testgvar[InsideDungeon]==1}
				Expr {testgvar[LugianAssault]==1}
				Expr {testgvar[getcharstringprop[1]+getworldname[]]==1}
		DO: DoAll
				DoExpr {cleargvar[QuestComplete]}
				DoExpr {cleargvar[FailDelayCounter]}
				DoExpr {cleargvar[Looting]}
				DoExpr {cleargvar[LootFail]}
				DoExpr {clearpvar[Step]}
				DoExpr {clearpvar[StateName]}
				DoExpr {clearpvar[Profile]}
				DoExpr {clearpvar[Stuck]}
				DoExpr {clearpvar[Door]}
				DoExpr {clearpvar[Meta\ +getpvar[Profile]]}
				DoExpr {clearpvar[QuestCompletedSkip]}
				DoExpr {clearpvar[KTFlag]}
				DoExpr {cleargvar[GoNow+getworldname[]]}
				DoExpr {cleargvar[DefaultPass]}
				DoExpr {cleargvar[GoNowClear]}
				DoExpr {cleargvar[Checking]}
				DoExpr {cleargvar[GoNowTwo]}
				DoExpr {cleargvar[InsideDungeon]}
				DoExpr {cleargvar[LugianAssault]}
				DoExpr {cleargvar[getcharstringprop[1]+getworldname[]]}
				SetState {Finished}
	IF:	Always
		DO:	SetOpt {UseDispelItems} {False}
	IF:	All
			Expr {testgvar[QuestComplete]==0}
			Expr {testgvar[FailDelayCounter]==0}
			Expr {testgvar[Looting]==0}
			Expr {testgvar[LootFail]==0}
			Expr {testpvar[Step]==0}
			Expr {testpvar[StateName]==0}
			Expr {testpvar[Profile]==0}
			Expr {testpvar[Stuck]==0}
			Expr {testpvar[Door]==0}
			Expr {testpvar[Meta\ +getpvar[Profile]]==0}
			Expr {testpvar[QuestCompletedSkip]==0}
			Expr {testpvar[KTFlag]==0}
			Expr {testgvar[GoNow+getworldname[]]==0}
			Expr {testgvar[DefaultPass]==0}
			Expr {testgvar[GoNowClear]==0}
			Expr {testgvar[Checking]==0}
			Expr {testgvar[GoNowTwo]==0}
			Expr {testgvar[InsideDungeon]==0}
			Expr {testgvar[LugianAssault]==0}
			Expr {testgvar[getcharstringprop[1]+getworldname[]]==0}
		DO:	Chat {/vt meta load QuestCheckPublic}
~~ }
STATE: {Loot} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF: Expr {getgvar[Zstuck]==1}
		DO: DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	All
			Expr {getpvar[Leader]==1}
			Any
				Death
				ChatMatch {^Your fellow .* has died!$}
				BlockE C8E90000
				ChatMatch {!ManDown}
				ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
		DO:	DoAll
				DoExpr {cleargvar[LootFail]}
				SetOpt {EnableLooting} {True}
				SetOpt {NavCloseStopRange} {0.00625}
				DoExpr {listremove[getgvar[FailDelayCounter],getcharstringprop[1]]}
				DoExpr {clearvar[CorpseName]}
				DoExpr {clearvar[LootItem]}
				DoExpr {clearvar[Loot]}
				DoExpr {clearvar[CorpseDetect]}
				DoExpr {clearvar[LootCount]}
				DoExpr {clearvar[CloseCorpseTimer]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {clearvar[LootCloseCorpse]}
				DoExpr {clearvar[LootCloseCorpseTwo]}
				DoExpr {setgvar[Looting,0]}
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	Any
			Death	
			Any
				BlockE C8E90000 ~~ Lifestone Landblock
		DO:	DoAll
				DoExpr {cleargvar[LootFail]}
				SetOpt {EnableLooting} {True}
				SetOpt {NavCloseStopRange} {0.00625}
				DoExpr {listremove[getgvar[FailDelayCounter],getcharstringprop[1]]}
				DoExpr {clearvar[CorpseName]}
				DoExpr {clearvar[LootItem]}
				DoExpr {clearvar[Loot]}
				DoExpr {clearvar[CorpseDetect]}
				DoExpr {clearvar[LootCount]}
				DoExpr {clearvar[CloseCorpseTimer]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {clearvar[LootCloseCorpse]}
				DoExpr {clearvar[LootCloseCorpseTwo]}
				DoExpr {setgvar[Looting,0]}
				Chat {/f !ManDown}
	IF: Any
			ChatMatch {!ManDown}
			ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
		DO: DoAll
				DoExpr {cleargvar[LootFail]}
				SetOpt {EnableLooting} {True}
				SetOpt {NavCloseStopRange} {0.00625}
				DoExpr {listremove[getgvar[FailDelayCounter],getcharstringprop[1]]}
				DoExpr {clearvar[CorpseName]}
				DoExpr {clearvar[LootItem]}
				DoExpr {clearvar[Loot]}
				DoExpr {clearvar[CorpseDetect]}
				DoExpr {clearvar[LootCount]}
				DoExpr {clearvar[CloseCorpseTimer]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {clearvar[LootCloseCorpse]}
				DoExpr {clearvar[LootCloseCorpseTwo]}
				DoExpr {setgvar[Looting,0]}
				SetState {DeathRecall}
	IF:	Always
		DO:	DoAll
				EmbedNav BlankOnce {[none]}
				SetOpt {EnableLooting} {False}
    ~~~ Attempt to Move to Corpse
	IF: All
			NavEmpty
			Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]==7}
			Expr {coordinatedistancewithz[getplayercoordinates[], wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]>=3}
		DO: DoAll
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]`]]}
				ChatExpr {\/vt addnavpt +coordinatetostring[wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]}
				SetOpt {NavCloseStopRange} {0.00083333333}
				SetState {Loot}
	~~~ Might Need to Isolate this from loot state as a transitional
	IF:	All
			Expr {testvar[LootCount]==1}
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==1}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]==getvar[LootCount]}
		DO:	DoAll
				DoExpr {cleargvar[LootFail]}
				SetOpt {EnableLooting} {True}
				SetOpt {NavCloseStopRange} {0.00625}
				DoExpr {listremove[getgvar[FailDelayCounter],getcharstringprop[1]]}
				DoExpr {clearvar[CorpseName]}
				DoExpr {clearvar[LootItem]}
				DoExpr {clearvar[Loot]}
				DoExpr {clearvar[CorpseDetect]}
				DoExpr {clearvar[LootCount]}
				DoExpr {clearvar[CloseCorpseTimer]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {clearvar[LootCloseCorpse]}
				DoExpr {clearvar[LootCloseCorpseTwo]}
				DoExpr {setgvar[Looting,0]}
				Return
	IF:	Any
			ChatMatch {^You may complete this quest again in}
			ChatMatch {^You have solved this quest too recently!}
		DO:	DoAll
				DoExpr {setvar[LootCount,getitemcountininventorybyname[getvar[LootItem]]}
				DoExpr {setpvar[QuestCompletedSkip,1]}
				SetState {Loot}
	IF:	Expr {testvar[LootCount]==0}
		DO:	DoAll
				DoExpr {setvar[LootCount,getitemcountininventorybyname[getvar[LootItem]]+1]}
				DoExpr {stopwatchstart[setvar[LootStuckDelay, stopwatchcreate[]]]}
				SetState {Loot}
	IF:	All
			Expr {testvar[LootCount]==1}
			Any
				Expr {getobjectinternaltype[getvar[CloseCorpseTimer]]==7&&stopwatchelapsedseconds[getvar[CloseCorpseTimer]]>=5}~~~ getbusy check instead
				Expr {getbusystate[]==0&&getvar[LootCorpseCloseTwo]==1}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]==getvar[LootCount]&&getobjectinternaltype[wobjectgetopencontainer[]]==7}
		DO:	DoAll
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]`]] && listcount[$CorpseDetect] > 0 && (actiontryuseitem[$CorpseDetect{{0}}] || 1)}
	IF:	Expr {getgvar[LootFail]>listcount[getgvar[FailDelayCounter]]+4}
		DO:	DoAll
				Chat {/ub bct DailyLoop /ub mexec actiontryuseitem[wobjectfindnearestbyobjectclass[27]]}
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]`]]}
				DoExpr {cleargvar[LootFail]}
	IF:	Expr {getvar[SourceNotFound]>9}
		DO:	DoAll
				DoExpr {cleargvar[LootFail]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {cleargvar[Looting]}
				DoExpr {actiontryuseitem[wobjectgetopencontainer[]]}
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]`]]}
				SetState {Loot}
	IF:	All
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
			Expr {wobjectgetname[wobjectgetopencontainer[]]#getvar[CorpseName]==0}
		DO:	DoAll
				DoExpr {actiontryuseitem[wobjectgetopencontainer[]]}
				SetState {Loot}
	IF:	All
			Expr {getgvar[Looting]==0}
			Expr {testvar[LootCount]==1}
			Expr {getvar[CloseCorpseTimer]==0}
			Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]==7}
			Expr {coordinatedistancewithz[getplayercoordinates[], wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]<3}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
			SecsInStateGE 4
		DO:	DoAll
				DoExpr {setgvar[LootFail,getgvar[LootFail]+1]}
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]`]]}
				SetState {Loot}
	IF: All
			Expr {testvar[LootCount]==1}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
			Expr {wobjectgetname[wobjectgetopencontainer[]]#getvar[CorpseName]}
		DO: DoAll
				DoExpr {setgvar[Looting,1]}
				DoExpr {stopwatchstart[setvar[LootCloseCorpse, stopwatchcreate[]]]}
	IF:	All
			Expr {getgvar[Looting]==1}
			Expr {getbusystate[]==5}
		DO: DoExpr {setvar[LootCorpseCloseTwo,1]}
	IF:	All
			All
				Expr {getobjectinternaltype[getvar[LootCloseCorpse]]==7}
				Expr {stopwatchelapsedseconds[getvar[LootCloseCorpse]]>=2}
			Expr {testvar[LootCount]==1}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
			Expr {wobjectgetname[wobjectgetopencontainer[]]#getvar[CorpseName]}
		DO:	DoAll
				DoExpr {setvar[SourceNotFound,getvar[SourceNotFound]+1]}
				DoExpr {setvar[Loot,listfilter[wobjectfindallbycontainer[wobjectgetopencontainer[]], `wobjectgetname[$1]#getvar[LootItem]`]] && listcount[$Loot] > 0 && (actiontryuseitem[$Loot{{0}}] || 1) && (vtsetmetastate[Loot] || 1)}
	IF:	All
			Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]==7}
			Expr {coordinatedistancewithz[getplayercoordinates[], wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]<3}
			Expr {getgvar[Looting]==0&&getvar[LootCount]>0}
			Expr {getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]&&getobjectinternaltype[wobjectgetopencontainer[]]==1}
		DO:	DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]`]] && listcount[$CorpseDetect] > 0 && (actiontryuseitem[$CorpseDetect{{0}}] || 1)}
	IF:	All
			Expr {testvar[LootCount]==1}
			Expr {getvar[CloseCorpseTimer]==0}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]==getvar[LootCount]}
		DO:	DoExpr {stopwatchstart[setvar[CloseCorpseTimer, stopwatchcreate[]]]}
	IF:	Any
			All
				Expr {getobjectinternaltype[getvar[LootStuckDelay]]==7}
				Expr {stopwatchelapsedseconds[getvar[LootStuckDelay]]>=180}
			All
				All
					Expr {getobjectinternaltype[getvar[LootStuckDelay]]==7}
					Expr {stopwatchelapsedseconds[getvar[LootStuckDelay]]>=20}
				Expr {getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
				Expr {listcount[$CorpseDetect]==0}
			All
				Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]==7}
				Expr {coordinatedistancewithz[getplayercoordinates[], wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]<3}
				All
					Expr {getobjectinternaltype[getvar[LootCloseCorpse]]==7}
					Expr {stopwatchelapsedseconds[getvar[LootCloseCorpse]]>=10}
				Expr {getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
				Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7&&listcount[$Loot]==0}
				Expr {wobjectgetname[wobjectgetopencontainer[]]#getvar[CorpseName]}
		DO:	DoAll
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {setgvar[Looting,0]}
				SetState {LootStuckDelay}
~~ }
STATE: {LootStuckDelay} ~~ {
	IF:	All
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==1}
			Expr {getitemcountininventorybyname[getvar[LootItem]]==getvar[LootCount]}
		DO:	DoAll
				DoExpr {cleargvar[LootFail]}
				SetOpt {EnableLooting} {True}
				SetOpt {NavCloseStopRange} {0.00625}
				DoExpr {listremove[getgvar[FailDelayCounter],getcharstringprop[1]]}
				DoExpr {clearvar[CorpseName]}
				DoExpr {clearvar[LootItem]}
				DoExpr {clearvar[Loot]}
				DoExpr {clearvar[CorpseDetect]}
				DoExpr {clearvar[LootCount]}
				DoExpr {clearvar[CloseCorpseTimer]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {clearvar[LootCloseCorpse]}
				DoExpr {clearvar[LootCloseCorpseTwo]}
				DoExpr {setgvar[Looting,0]}
				Return
	IF:	All
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==1}
			SecsInStateGE 15
		DO:	DoAll
				DoExpr {setvar[LootStuckDelayInternalCounter,getvar[LootStuckDelayInternalCounter]+1]}
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]`]] && (vtsetmetastate[LootStuckDelay] || 1)}
	IF:	All
			SecsInStateGE 2
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
		DO:	DoAll
				ChatExpr {\/ub bct DailyLoop \/vt opt set EnableCombat False}
				DoExpr {actiontryuseitem[wobjectgetopencontainer[]]}
				SetState {LootStuckDelay}
	IF:	Any
			Expr {getvar[LootStuckDelayInternalCounter]>19}
			Expr {listcount[$CorpseDetect]==0}
		DO:	DoAll
				DoExpr {cleargvar[LootFail]}
				SetOpt {EnableLooting} {True}
				DoExpr {listremove[getgvar[FailDelayCounter],getcharstringprop[1]]}
				DoExpr {clearvar[CorpseName]}
				DoExpr {clearvar[LootItem]}
				DoExpr {clearvar[Loot]}
				DoExpr {clearvar[CorpseDetect]}
				DoExpr {clearvar[LootCount]}
				DoExpr {clearvar[CloseCorpseTimer]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {clearvar[LootCloseCorpseTwo]}
				DoExpr {clearvar[LootStuckDelayInternalCounter]}
				DoExpr {setgvar[Looting,0]}
				ChatExpr {\/ub bct DailyLoop \/vt opt set EnableCombat True}
				DoExpr {vtsetmetastate[getvar[Return]]}
~~ }
STATE: {LugianDoor} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF: Expr {getgvar[Zstuck]==1}
		DO: DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	All
			Expr {getpvar[Leader]==1}
			Any
				Death
				ChatMatch {^Your fellow .* has died!$}
				BlockE C8E90000
				ChatMatch {!ManDown}
				ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	Any
			Death	
			Any
				BlockE C8E90000 ~~ Lifestone Landblock
		DO:	Chat {/f !ManDown}
	IF: Any
			ChatMatch {!ManDown}
			ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
		DO: SetState {DeathRecall}
	IF:	All
			Expr {getpvar[Leader]==1}
			CellE 5951010A
			Not Expr {testvar[LugianDoorStuck]}
		DO:	DoExpr {stopwatchstart[setvar[LugianDoorStuck, stopwatchcreate[]]]}
	IF: All
			Expr {getpvar[Leader]==1}
			CellE 5951010A
			Expr {testvar[LugianDoorStuck]}
			Expr {stopwatchelapsedseconds[getvar[LugianDoorStuck]]>=180}
		DO: DoAll
				DoExpr {stopwatchstart[setvar[LugianDoorStuck, stopwatchcreate[]]]}
				DoExpr {setvar[Open,0]}
				Chat {/ub bct DailyLoop /vt meta load CheckPublic}
	IF:	All
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Treasury Key]]==7}
			Expr {getpvar[Leader]==1}
			CellE 5951010A
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==0}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				SetOpt {EnableNav} {False}
				DoExpr {actiontryapplyitem[wobjectfindininventorybyname[Treasury Key],wobjectfindnearestdoor[]]}
				SetState {LugianDoor}
	IF:	All
			Expr {getpvar[Leader]==1}
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==0}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
			Any
				Expr {getobjectinternaltype[wobjectfindininventorybyname[Treasury Key]]==1}
				ChatMatch {^The Commander Presk's Treasury has been unlocked.}
				ChatMatch {^Your key is used up.}
		DO:	DoExpr {setvar[Open,1]}
	IF:	All
			SecsInStateGE 3
			Expr {getpvar[Leader]==1}
			Expr {getvar[Open]==1}
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==0}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
			Any
				Expr {getobjectinternaltype[wobjectfindininventorybyname[Treasury Key]]==1}
				ChatMatch {^The Commander Presk's Treasury has been unlocked.}
				ChatMatch {^Your key is used up.}
		DO:	DoAll
				SetOpt {EnableNav} {True}
				DoExpr {actiontryuseitem[wobjectfindnearestdoor[]]}
				SetState {LugianDoor}
	IF:	All
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<5}
		DO:	DoAll
				SetOpt {EnableNav} {True}
				EmbedNav nav16 {[MoveUp]}
	IF:	All
			Not Expr {testvar[JumpStuck]}
			CellE 59510109
		DO:	DoExpr {stopwatchstart[setvar[JumpStuck, stopwatchcreate[]]]}
	IF:	All
			Any
				CellE 59510109
				CellE 59510108
			Expr {testvar[JumpStuck]}
			Expr {stopwatchelapsedseconds[getvar[JumpStuck]]>=10}
		DO:	DoAll
				EmbedNav nav17 {[Jump]}
				DoExpr {stopwatchstart[setvar[JumpStuck, stopwatchcreate[]]]}
	IF:	All
			Expr {testvar[JumpStuck]}
			Expr {stopwatchelapsedseconds[getvar[JumpStuck]]>=15}
		DO:	DoAll
				DoExpr {stopwatchstart[setvar[JumpStuck, stopwatchcreate[]]]}
				SetState {LugianDoor}
	IF:	CellE 59510107
		DO:	DoExpr {clearvar[JumpStuck]}
	IF:	All
			CellE 59510107
			NavEmpty
		DO:	SetState {CommanderPresk}
	IF:	CellE 59510100
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	CellE 5951010A
		DO:	EmbedNav nav18 {[none]}
	IF: Any
			CellE 5951010F
			CellE 5951010E
			CellE 5951010D
			CellE 5951010B
			CellE 5951010C
		DO:	EmbedNav nav15 {[none]}
~~ }
STATE: {ToDungeon} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF: Expr {getgvar[Zstuck]==1}
		DO: DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	All
			Expr {getpvar[Leader]==1}
			Any
				Death
				ChatMatch {^Your fellow .* has died!$}
				BlockE C8E90000
				ChatMatch {!ManDown}
				ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	Any
			Death	
			Any
				BlockE C8E90000 ~~ Lifestone Landblock
		DO:	Chat {/f !ManDown}
	IF: Any
			ChatMatch {!ManDown}
			ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
		DO: SetState {DeathRecall}
	IF:	All
			Expr {testvar[StateTimer]}
			Expr {stopwatchelapsedseconds[getvar[StateTimer]]>=600}
		DO:	DoAll
				Chat {/f !ManDown}
				SetState {DeathRecall}
	IF:	Always
		DO:	DoAll
				SetWatchdog 5 45 {WatchDog}
				DoExpr {setpvar[Stuck, DeathRecall]}
				DoExpr {setpvar[StateName,vtgetmetastate[]]}
	IF:	CellE 3032001C
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				EmbedNav nav19 {[none]}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			NavEmpty
			Expr {getvar[PitStop]==0}
			CellE 2F340008
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {setvar[PitStop,1]}
				DoExpr {clearvar[JumpStuck]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopOne]}
				Chat {/vt meta load CheckPublic} ~~ ToDungeonPitStopOne
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			NavEmpty
			Expr {getvar[PitStop]==0}
			CellE 2F340008
		DO:	DoAll
				SetOpt {EnableCombat} {True}
				DoExpr {setvar[PitStop,1]}
				DoExpr {clearvar[JumpStuck]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopOne]}
				Chat {/vt meta load CheckPublic} ~~ ToDungeonPitStopOne
	IF:	All
			NoMobsInDist 15
			Expr {getvar[PitStop]==1}
			CellE 2F340008
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				EmbedNav nav20 {EndOfDaysLandscape.nav}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			NavEmpty
			Expr {getvar[PitStop]==1}
			CellE 2C320022
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {setvar[PitStop,2]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopTwo]}
				Chat {/vt meta load CheckPublic} ~~ ToDungeonPitStopTwo
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			NavEmpty
			Expr {getvar[PitStop]==1}
			CellE 2C320022
		DO:	DoAll
				SetOpt {EnableCombat} {True}
				DoExpr {setvar[PitStop,2]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopTwo]}
				Chat {/vt meta load CheckPublic} ~~ ToDungeonPitStopTwo
	IF:	All
			NoMobsInDist 15
			Expr {getvar[PitStop]==2}
			CellE 2C320022
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				EmbedNav nav21 {Junk.nav}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			NavEmpty
			Expr {getvar[PitStop]==2}
			Any
				CellE 2B2F0040
				CellE 2B2F0040
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				SetOpt {SummonPets} {True}
				DoExpr {setvar[PitStop,3]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopThree]}
				Chat {/vt meta load CheckPublic} ~~ ToDungeonPitStopThree
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			NavEmpty
			Expr {getvar[PitStop]==2}
			Any
				CellE 2B2F0040
				CellE 2B2F0040
		DO:	DoAll
				SetOpt {EnableCombat} {True}
				SetOpt {SummonPets} {True}
				DoExpr {setvar[PitStop,3]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopThree]}
				Chat {/vt meta load CheckPublic} ~~ ToDungeonPitStopThree
	IF:	All
			Expr {getvar[PitStop]==3}
			NoMobsInDist 15
			Any
				CellE 2B2F0040
				CellE 2B2F0040
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				EmbedNav nav22 {[none]}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			Expr {getvar[PitStop]==3}
			Any
				CellE 2C2F0020
			NavEmpty
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				SetOpt {SummonPets} {True}
				DoExpr {setvar[PitStop,4]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopFour]}
				Chat {/vt meta load CheckPublic} ~~ ToDungeonPitStopFour
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			Expr {getvar[PitStop]==3}
			Any
				CellE 2C2F0020
			NavEmpty
		DO:	DoAll
				SetOpt {EnableCombat} {True}
				SetOpt {SummonPets} {True}
				DoExpr {setvar[PitStop,4]}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeonPitStopFour]}
				Chat {/vt meta load CheckPublic} ~~ ToDungeonPitStopFour
	IF:	All
			NavEmpty
			Expr {getvar[PitStop]==4}
			CellE 2C2F0020
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {actiontryuseitem[wobjectfindnearestbyobjectclass[14]]}
				SetState {ToDungeon}
	IF:	IntoPortal
		DO:	EmbedNav nav23 {[none]}
	IF:	All
			Expr {getpvar[FellowCount]<2}
			NavEmpty
			Any
				CellE 59510139
				CellE 59510138
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {clearvar[PitStop]}
				DoExpr {clearvar[Clear]}
				DoExpr {clearvar[StateTimer]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,Dungeon]}
				Chat {/vt meta load CheckPublic} ~~ Dungeon Low Fellow
	IF:	All
			Expr {getpvar[FellowCount]>=2}
			NavEmpty
			Any
				CellE 59510139
				CellE 59510138
		DO:	DoAll
				SetOpt {EnableCombat} {True}
				DoExpr {clearvar[PitStop]}
				DoExpr {clearvar[Clear]}
				DoExpr {clearvar[StateTimer]}
				DoExpr {setpvar[StateName,Dungeon]}
				DoExpr {setpvar[CheckSync,Dungeon]}
				Chat {/vt meta load CheckPublic} ~~ Dungeon High Fellow
	IF:	All
			Expr {testvar[JumpStuck]}
			Expr {stopwatchelapsedseconds[getvar[JumpStuck]]>=3}
			Any
				CellE 2F340030
				CellE 2F340029
				CellE 2F340022
				CellE 2F34002F
		DO:	EmbedNav nav24 {[none]}
	IF:	All
			Expr {testvar[JumpStuck]}
			Expr {stopwatchelapsedseconds[getvar[JumpStuck]]>=7}
			Any
				CellE 2F340030
				CellE 2F340029
				CellE 2F340022
				CellE 2F34002F
		DO:	DoExpr {stopwatchstart[setvar[JumpStuck, stopwatchcreate[]]]}
	IF:	All
			Not Expr {testvar[JumpStuck]}
			Any
				CellE 2F340030
				CellE 2F340029
				CellE 2F340022
				CellE 2F34002F
		DO:	DoExpr {stopwatchstart[setvar[JumpStuck, stopwatchcreate[]]]}
~~ }
STATE: {ToRaksaa} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF: Expr {getgvar[Zstuck]==1}
		DO: DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	Always
		DO:	SetWatchdog 5 45 {ToRynthid}
	IF:	CellE 3032001C
		DO:	EmbedNav nav25 {[none]}
	IF:	All
			CellE 3032001C
			NavEmpty
		DO:	SetState {UseRaksaa}
~~ }
STATE: {ToRynthid} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF: Expr {getgvar[Zstuck]==1}
		DO: DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	Not Expr {testvar[CombatStuck]}
		DO:	DoExpr {stopwatchstart[setvar[CombatStuck, stopwatchcreate[]]]}
	IF:	All
			Expr {testvar[CombatStuck]]}
			Expr {stopwatchelapsedseconds[getvar[CombatStuck]]>=40}
			Expr {wobjectgetintprop[wobjectfindnearestbyobjectclass[31],218103818]==wobjectgetid[wobjectgetplayer[]]&&getcombatstate[]==Missile}
		DO:	Chat {/ub quit}
	IF:	BlockE 30320000
		DO:	DoExpr {clearvar[CombatStuck]}
	IF:	Not BlockE 30320000
		DO:	DoAll
				DoExpr {actiontrycastbyid[6150]} ~~ SpellId 6150 is "Rynthid Recall".
				SetState {ToRynthid}
	IF:	All
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Raksaa]]==7}
			BlockE 30320000
		DO:	DoAll
				DoExpr {setpvar[StateName,UseRaksaa]}
				Chat {/vt meta load KillTasksPublic}
	IF:	All
			Expr {getpvar[KTFlag]==0}
			BlockE 30320000
		DO:	DoAll
				DoExpr {setpvar[KTFlag,1]}
				DoExpr {setpvar[StateName,UseRaksaa]}
				Chat {/vt meta load KillTasksPublic}
	IF:	Always
		DO:	SetOpt {EnableCombat} {False}
	IF:	Always
		DO:	EmbedNav nav26 {[none]}
~~ }
STATE: {UseLever} ~~ {
	IF:	All
			Expr {getvar[Lever]==0}
			Any
				All
					CellE 59510145
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<26}
				All
					CellE 5951018B
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<33}
				All
					CellE 595101C3
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<35}
				All
					CellE 595101B8
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<27}
				All
					CellE 5951018C
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<27}
				All
					CellE 59510181
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<25}
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==0}
		DO:	DoExpr {actiontryuseitem[wobjectfindnearestbynameandobjectclass[8,Lever]]}
	IF:	All
			CellE 59510145
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<26}
		DO:	DoAll
				DoExpr {setvar[Lever,1]}
				EmbedNav nav27 {Junk.nav}
	IF:	All
			CellE 5951018B
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<33}
		DO:	DoAll
				DoExpr {setvar[Lever,1]}
				EmbedNav nav28 {[none]}
	IF:	All
			CellE 595101C3
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<35}
		DO:	DoAll
				DoExpr {setvar[Lever,1]}
				EmbedNav nav29 {[none]}
	IF:	All
			CellE 595101B8
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<27}
		DO:	DoAll
				DoExpr {setvar[Lever,1]}
				EmbedNav nav30 {[none]}
	IF:	All
			CellE 5951018C
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<27}
		DO:	DoAll
				DoExpr {setvar[Lever,1]}
				EmbedNav nav31 {[none]}
	IF:	All
			CellE 59510181
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<25}
		DO:	DoAll
				DoExpr {setvar[Lever,1]}
				EmbedNav nav32 {[none]}
	IF:	SecsInStateGE 5
		DO:	SetState {UseLever}
	IF:	Any
			CellE 59510154
			CellE 5951019B
			CellE 595101D6
			CellE 595101AF
			CellE 59510184
			CellE 59510172
		DO:	DoAll
				DoAll
				DoExpr {clearvar[Lever]}
				SetState {Dungeon}
~~ }
STATE: {UseRaksaa} ~~ {
	IF:	All
			Expr {getpvar[Step]==0}
			CellE 3032001C
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Commander Presk]]==1}
		DO:	DoExpr {actiontryuseitem[wobjectfindnearestbynameandobjectclass[37,Raksaa]]}
	IF:	All
			Expr {getpvar[Step]==0}
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Commander Presk]]==7}
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeon]}
				Chat {/vt meta load CheckPublic} ~~ Finished
	IF:	All
			Expr {getpvar[Step]==1}
			CellE 3032001C
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Raksaa]]==7}
		DO:	DoExpr {actiontrygiveitem[wobjectfindininventorybyname[Sealed Scroll for Raksaa],wobjectfindnearestbynameandobjectclass[37,Raksaa]]}
	IF:	All
			CellE 3032001C
			SecsInStateGE 2
		DO:	SetState {UseRaksaa}
	IF:	All
			Expr {getpvar[Step]==1}
			Any
				ChatMatch {^You've earned}
				ChatMatch {^Raksaa tells you, "}
				Expr {getobjectinternaltype[wobjectfindininventorybyname[Sealed Scroll for Raksaa]]==1}
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {setpvar[StateName,Finished]}
				DoExpr {setpvar[CheckSync,Finished]}
				Chat {/vt meta load CheckPublic} ~~ Finished
~~ }
STATE: {WatchDog} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="50" title="STUCK"><control type="layout"><control type="button" name="STUCK" left="0" top="0" width="149" height="49" text="STUCK"  actionexpr="setgvar[Zstuck,1]" /></control></view>}
	IF: Expr {getgvar[Zstuck]==1}
		DO: DoAll
				DoExpr {setpvar[Profile,QuestCheckPublic]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
	IF:	Always
		DO:	DoAll
				Chat {/f !ManDown}
				DoExpr {clearvar[StateTimer]}
				SetState {DeathRecall}
	IF:	Any
			Death
			ChatMatch {^Your fellow .* has died!$}
			ChatMatch {!ManDown}
			ChatMatch {^.*().* (think|say|says|tells you), \"!ManDown\"$}
		DO:	DoAll
				Chat {/f !ManDown}
				DoExpr {clearvar[StateTimer]}
				SetState {DeathRecall}
~~ }
STATE: {Zstuck} ~~ {
	IF: Always
		DO: DoAll
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load QuestCheckPublic}
~~ }
~~========================= ONLY NAVS APPEAR BELOW THIS LINE =========================~~

NAV: nav0 circular ~~ {
~~ }
NAV: nav1 once ~~ {
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pnt -29.9000404993693 -38.0243336995443 2.08333134651184E-05
	pnt -29.8917858759562 -38.0239049911499 2.08333134651184E-05
	pnt -29.8315507253011 -38.0238566716512 2.08333134651184E-05
	pnt -29.8367308298747 -38.0690931955973 2.08333134651184E-05
	pnt -29.8297073364258 -38.0687852223714 2.08333134651184E-05
	pnt -29.7605622609456 -38.0686794916789 2.08333134651184E-05
	pnt -29.746010017395 -38.0691157658895 2.08333134651184E-05
	pnt -29.7451208750407 -38.0496084213257 2.08333134651184E-05
	pnt -29.7482858022054 -37.999263827006 2.08333134651184E-05
	pnt -29.7485219955444 -37.9567532857259 2.08333134651184E-05
	pnt -29.8084513346354 -37.9564909617106 2.08333134651184E-05
	pnt -29.8060498555501 -37.9338831583659 2.08333134651184E-05
	pnt -29.8084866841634 -37.9048103968302 2.08333134651184E-05
	pnt -29.8095565160116 -37.8571240107218 2.08333134651184E-05
	pnt -29.8205453872681 -37.8582218170166 2.08333134651184E-05
~~ }
NAV: nav2 once ~~ {
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pnt -29.9000404993693 -38.0243336995443 2.08333134651184E-05
	pnt -29.8917858759562 -38.0239049911499 2.08333134651184E-05
	pnt -29.8315507253011 -38.0238566716512 2.08333134651184E-05
	pnt -29.8367308298747 -38.0690931955973 2.08333134651184E-05
	pnt -29.8297073364258 -38.0687852223714 2.08333134651184E-05
	pnt -29.7605622609456 -38.0686794916789 2.08333134651184E-05
	pnt -29.746010017395 -38.0691157658895 2.08333134651184E-05
	pnt -29.7451208750407 -38.0496084213257 2.08333134651184E-05
	pnt -29.7482858022054 -37.999263827006 2.08333134651184E-05
	pnt -29.7485219955444 -37.9567532857259 2.08333134651184E-05
	pnt -29.8084513346354 -37.9564909617106 2.08333134651184E-05
	pnt -29.8060498555501 -37.9338831583659 2.08333134651184E-05
	pnt -29.8084866841634 -37.9048103968302 2.08333134651184E-05
	pnt -29.807430712382 -37.8590510050456 2.08333134651184E-05
	pnt -29.8069686889648 -37.8087352116903 2.08333134651184E-05
	pnt -29.8067778905233 -37.8003381729126 2.08333134651184E-05
	pnt -29.7576848983765 -37.7990226109823 2.08333134651184E-05
	pnt -29.7495132446289 -37.8001445770264 2.08333134651184E-05
~~ }
NAV: nav3 once ~~ {
	pnt -29.7483952204386 -37.799982770284 2.08333134651184E-05
	pnt -29.7480340957642 -37.7775655110677 2.08333134651184E-05
	pnt -29.7515436808268 -37.7423869450887 2.08333134651184E-05
	pnt -29.7493961970011 -37.7284237543742 2.08333134651184E-05
	pnt -29.7355751673381 -37.7304567972819 2.08333134651184E-05
	pnt -29.6617870330811 -37.7334599177043 2.08333134651184E-05
	pnt -29.6665734608968 -37.7795705159505 2.08333134651184E-05
	pnt -29.5967262268066 -37.777688852946 2.08333134651184E-05
	pnt -29.5562464396159 -37.7766946792603 2.08333134651184E-05
	pnt -29.5575421651204 -37.7831289927165 2.08333134651184E-05
	pnt -29.5563421885173 -37.8354648590088 2.08333134651184E-05
	pnt -29.5440027872721 -37.8323441823324 2.08333134651184E-05
	pnt -29.5103525797526 -37.8316268285116 2.08333134651184E-05
	pnt -29.4999538421631 -37.8324525197347 2.08333134651184E-05
	pnt -29.5013715108236 -37.8491905212402 2.08333134651184E-05
	pnt -29.5013715108236 -37.8491905212402 2.08333134651184E-05
~~ }
NAV: nav4 once ~~ {
	pnt -29.7483952204386 -37.799982770284 2.08333134651184E-05
	pnt -29.7480340957642 -37.7775655110677 2.08333134651184E-05
	pnt -29.7515436808268 -37.7423869450887 2.08333134651184E-05
	pnt -29.7493961970011 -37.7284237543742 2.08333134651184E-05
	pnt -29.7355751673381 -37.7304567972819 2.08333134651184E-05
	pnt -29.6617870330811 -37.7334599177043 2.08333134651184E-05
	pnt -29.6665734608968 -37.7795705159505 2.08333134651184E-05
	pnt -29.5967262268066 -37.777688852946 2.08333134651184E-05
	pnt -29.5562464396159 -37.7766946792603 2.08333134651184E-05
	pnt -29.5575421651204 -37.7831289927165 2.08333134651184E-05
	pnt -29.5563421885173 -37.8354648590088 2.08333134651184E-05
	pnt -29.5440027872721 -37.8323441823324 2.08333134651184E-05
	pnt -29.5103525797526 -37.8316268285116 2.08333134651184E-05
	pnt -29.4999538421631 -37.8324525197347 2.08333134651184E-05
	pnt -29.4922096252441 -37.8334424336751 2.08333134651184E-05
	pnt -29.459680557251 -37.8334531148275 2.08333134651184E-05
	pnt -29.3981764475505 -37.831295077006 2.08333134651184E-05
	pnt -29.3994735717773 -37.7764802296956 2.08333134651184E-05
~~ }
NAV: nav5 once ~~ {
	pnt -29.3994735717773 -37.7764802296956 2.08333134651184E-05
	pnt -29.380685933431 -37.7751561482747 2.08333134651184E-05
	pnt -29.3285713195801 -37.7788101832072 2.08333134651184E-05
	pnt -29.3322587331136 -37.728489112854 2.08333134651184E-05
	pnt -29.3324811299642 -37.6801250457764 2.08333134651184E-05
	pnt -29.3339282989502 -37.6451372782389 2.08333134651184E-05
	pnt -29.3147911071777 -37.6482782363892 2.08333134651184E-05
	pnt -29.2776339213053 -37.6532485961914 2.08333134651184E-05
	pnt -29.2222399393717 -37.6517436345418 2.08333134651184E-05
	pnt -29.2225835164388 -37.6449127197266 2.08333134651184E-05
	pnt -29.2226670583089 -37.6053651491801 2.08333134651184E-05
	pnt -29.2225044250488 -37.5904336293538 2.08333134651184E-05
	pnt -29.1990493774414 -37.5918279965719 2.08333134651184E-05
	pnt -29.1665334065755 -37.5949501037598 2.08333134651184E-05
	pnt -29.1267667134603 -37.5944786389669 2.08333134651184E-05
	pnt -29.1226009368896 -37.5937511444092 2.08333134651184E-05
	pnt -29.1236826578776 -37.5784933725993 2.08333134651184E-05
~~ }
NAV: nav6 once ~~ {
	pnt -29.3994735717773 -37.7764802296956 2.08333134651184E-05
	pnt -29.380685933431 -37.7751561482747 2.08333134651184E-05
	pnt -29.3285713195801 -37.7788101832072 2.08333134651184E-05
	pnt -29.3322587331136 -37.728489112854 2.08333134651184E-05
	pnt -29.3324811299642 -37.6801250457764 2.08333134651184E-05
	pnt -29.3339282989502 -37.6451372782389 2.08333134651184E-05
	pnt -29.3147911071777 -37.6482782363892 2.08333134651184E-05
	pnt -29.2776339213053 -37.6532485961914 2.08333134651184E-05
	pnt -29.2222399393717 -37.6517436345418 2.08333134651184E-05
	pnt -29.2225835164388 -37.6449127197266 2.08333134651184E-05
	pnt -29.2226670583089 -37.6053651491801 2.08333134651184E-05
	pnt -29.2225044250488 -37.5904336293538 2.08333134651184E-05
	pnt -29.1990493774414 -37.5918279965719 2.08333134651184E-05
	pnt -29.1665334065755 -37.5949501037598 2.08333134651184E-05
	pnt -29.1267667134603 -37.5944786389669 2.08333134651184E-05
	pnt -29.1225101470947 -37.5945516268412 2.08333134651184E-05
	pnt -29.0707359313965 -37.5935892105103 2.08333134651184E-05
	pnt -29.0228454589844 -37.5938634554545 2.08333134651184E-05
	pnt -29.0232920328776 -37.6154091517131 2.08333134651184E-05
	pnt -29.0238663991292 -37.6515098571777 2.08333134651184E-05
~~ }
NAV: nav7 once ~~ {
	pnt -29.0238663991292 -37.6515098571777 2.08333134651184E-05
	pnt -28.9929112752279 -37.6506898244222 2.08333134651184E-05
	pnt -28.9542605082194 -37.6504144668579 2.08333134651184E-05
	pnt -28.9535494486491 -37.6398868560791 2.08333134651184E-05
	pnt -28.9545895894369 -37.5718130111694 2.08333134651184E-05
	pnt -28.9566865285238 -37.5392937978109 2.08333134651184E-05
	pnt -28.9584142049154 -37.5090538024902 2.08333134651184E-05
	pnt -28.9599825541178 -37.4675982793172 2.08333134651184E-05
	pnt -28.9553115844727 -37.4058317184448 2.08333134651184E-05
	pnt -28.9558039347331 -37.3778911590576 2.08333134651184E-05
	pnt -28.956289545695 -37.3534143606822 2.08333134651184E-05
	pnt -29.0036712646484 -37.3595480600993 2.08333134651184E-05
	pnt -29.0301953633626 -37.3575185457865 2.08333134651184E-05
	pnt -29.0294776916504 -37.3674462954203 2.08333134651184E-05
	pnt -29.0291219075521 -37.3937591552734 2.08333134651184E-05
	pnt -29.0287745157878 -37.4187030792236 2.08333134651184E-05
	pnt -29.0512037913005 -37.4146786530813 2.08333134651184E-05
	pnt -29.0827542622884 -37.4151379108429 2.08333134651184E-05
	pnt -29.1015482584635 -37.4162636756897 2.08333134651184E-05
	pnt -29.1350435892741 -37.4117997487386 2.08333134651184E-05
	pnt -29.1688571929932 -37.4149449825287 2.08333134651184E-05
	pnt -29.1683265686035 -37.4293121019999 2.08333134651184E-05
	pnt -29.1680788675944 -37.432665348053 2.08333134651184E-05
~~ }
NAV: nav8 once ~~ {
	pnt -29.0238663991292 -37.6515098571777 2.08333134651184E-05
	pnt -28.9929112752279 -37.6506898244222 2.08333134651184E-05
	pnt -28.9542605082194 -37.6504144668579 2.08333134651184E-05
	pnt -28.9535494486491 -37.6398868560791 2.08333134651184E-05
	pnt -28.9545895894369 -37.5718130111694 2.08333134651184E-05
	pnt -28.9566865285238 -37.5392937978109 2.08333134651184E-05
	pnt -28.9584142049154 -37.5090538024902 2.08333134651184E-05
	pnt -28.9599825541178 -37.4675982793172 2.08333134651184E-05
	pnt -28.9553115844727 -37.4058317184448 2.08333134651184E-05
	pnt -28.9558039347331 -37.3778911590576 2.08333134651184E-05
	pnt -28.956289545695 -37.3534143606822 2.08333134651184E-05
	pnt -29.0036712646484 -37.3595480600993 2.08333134651184E-05
	pnt -29.0301953633626 -37.3575185457865 2.08333134651184E-05
	pnt -29.0294776916504 -37.3674462954203 2.08333134651184E-05
	pnt -29.0291219075521 -37.3937591552734 2.08333134651184E-05
	pnt -29.0287745157878 -37.4187030792236 2.08333134651184E-05
	pnt -29.0512037913005 -37.4146786530813 2.08333134651184E-05
	pnt -29.0827542622884 -37.4151379108429 2.08333134651184E-05
	pnt -29.1015482584635 -37.4162636756897 2.08333134651184E-05
	pnt -29.1350435892741 -37.4117997487386 2.08333134651184E-05
	pnt -29.1688571929932 -37.4149449825287 2.08333134651184E-05
	pnt -29.1697681427002 -37.4139897187551 2.08333134651184E-05
	pnt -29.1957227071126 -37.4116172949473 2.08333134651184E-05
	pnt -29.2257727305094 -37.4117671807607 2.08333134651184E-05
	pnt -29.2231572469076 -37.3959222793579 2.08333134651184E-05
	pnt -29.2249081929525 -37.3565379142761 2.08333134651184E-05
~~ }
NAV: nav9 once ~~ {
	pnt -29.2205534617106 -37.3573349952698 2.08333134651184E-05
	pnt -29.2343902587891 -37.3572155316671 2.08333134651184E-05
	pnt -29.2586069742839 -37.355984210968 2.08333134651184E-05
	pnt -29.3122194925944 -37.3553860028585 2.08333134651184E-05
	pnt -29.3382479349772 -37.3563692410787 2.08333134651184E-05
	pnt -29.336792755127 -37.3691256205241 2.08333134651184E-05
	pnt -29.3380650838216 -37.4142127990723 2.08333134651184E-05
	pnt -29.3324921925863 -37.4437678019206 2.08333134651184E-05
	pnt -29.3511413574219 -37.4423097610474 2.08333134651184E-05
	pnt -29.4058264414469 -37.4432235399882 2.08333134651184E-05
	pnt -29.4056872049967 -37.4361179033915 2.08333134651184E-05
	pnt -29.3978670756022 -37.4029361406962 2.08333134651184E-05
	pnt -29.3978345235189 -37.3812616348267 2.08333134651184E-05
	pnt -29.4050591786702 -37.383328851064 2.08333134651184E-05
	pnt -29.4430839538574 -37.3833164532979 2.08333134651184E-05
	pnt -29.4590044657389 -37.3816996574402 2.08333134651184E-05
	pnt -29.4577120463053 -37.3676266352336 2.08333134651184E-05
	pnt -29.4577120463053 -37.3676266352336 2.08333134651184E-05
	pnt -29.4577120463053 -37.3676266352336 2.08333134651184E-05
~~ }
NAV: nav10 once ~~ {
	pnt -29.2205534617106 -37.3573349952698 2.08333134651184E-05
	pnt -29.2343902587891 -37.3572155316671 2.08333134651184E-05
	pnt -29.2586069742839 -37.355984210968 2.08333134651184E-05
	pnt -29.3122194925944 -37.3553860028585 2.08333134651184E-05
	pnt -29.3382479349772 -37.3563692410787 2.08333134651184E-05
	pnt -29.336792755127 -37.3691256205241 2.08333134651184E-05
	pnt -29.3380650838216 -37.4142127990723 2.08333134651184E-05
	pnt -29.3324921925863 -37.4437678019206 2.08333134651184E-05
	pnt -29.3511413574219 -37.4423097610474 2.08333134651184E-05
	pnt -29.4058264414469 -37.4432235399882 2.08333134651184E-05
	pnt -29.4056872049967 -37.4361179033915 2.08333134651184E-05
	pnt -29.3978670756022 -37.4029361406962 2.08333134651184E-05
	pnt -29.3978345235189 -37.3812616348267 2.08333134651184E-05
	pnt -29.4050591786702 -37.383328851064 2.08333134651184E-05
	pnt -29.4430839538574 -37.3833164532979 2.08333134651184E-05
	pnt -29.4575136820475 -37.3833563009898 2.08333134651184E-05
	pnt -29.473429107666 -37.3851437568665 2.08333134651184E-05
	pnt -29.5184051513672 -37.384546772639 2.08333134651184E-05
	pnt -29.5188103993734 -37.4030380884806 2.08333134651184E-05
	pnt -29.5166702270508 -37.4405926068624 2.08333134651184E-05
~~ }
NAV: nav11 once ~~ {
	pnt -29.5166702270508 -37.4405926068624 2.08333134651184E-05
	pnt -29.5243245442708 -37.4417158762614 2.08333134651184E-05
	pnt -29.5677430470785 -37.4447703679403 2.08333134651184E-05
	pnt -29.5882765452067 -37.4434228579203 2.08333134651184E-05
	pnt -29.5810880025228 -37.4103022734324 2.08333134651184E-05
	pnt -29.5804471333822 -37.3643541018168 2.08333134651184E-05
	pnt -29.5818649291992 -37.3351335843404 2.08333134651184E-05
	pnt -29.5820340474447 -37.3294155438741 2.08333134651184E-05
	pnt -29.5229053497314 -37.3344520886739 2.08333134651184E-05
	pnt -29.5284863789876 -37.3169777870178 2.08333134651184E-05
	pnt -29.5275408426921 -37.2585612694422 2.08333134651184E-05
	pnt -29.5271990458171 -37.2381687084834 2.08333134651184E-05
	pnt -29.526838684082 -37.2336617628733 2.08333134651184E-05
	pnt -29.5095026652018 -37.2336088260015 2.08333134651184E-05
~~ }
NAV: nav12 once ~~ {
	pnt -29.5166702270508 -37.4405926068624 2.08333134651184E-05
	pnt -29.5243245442708 -37.4417158762614 2.08333134651184E-05
	pnt -29.5677430470785 -37.4447703679403 2.08333134651184E-05
	pnt -29.5882765452067 -37.4434228579203 2.08333134651184E-05
	pnt -29.5810880025228 -37.4103022734324 2.08333134651184E-05
	pnt -29.5804471333822 -37.3643541018168 2.08333134651184E-05
	pnt -29.5818649291992 -37.3351335843404 2.08333134651184E-05
	pnt -29.5820340474447 -37.3294155438741 2.08333134651184E-05
	pnt -29.5229053497314 -37.3344520886739 2.08333134651184E-05
	pnt -29.5284863789876 -37.3169777870178 2.08333134651184E-05
	pnt -29.5275408426921 -37.2585612694422 2.08333134651184E-05
	pnt -29.5271990458171 -37.2381687084834 2.08333134651184E-05
	pnt -29.526838684082 -37.2336617628733 2.08333134651184E-05
	pnt -29.5258846282959 -37.2170839468638 2.08333134651184E-05
	pnt -29.5634457906087 -37.2145688811938 2.08333134651184E-05
	pnt -29.5847187042236 -37.2168304522832 2.08333134651184E-05
	pnt -29.5825136820475 -37.2178616762161 2.08333134651184E-05
~~ }
NAV: nav13 once ~~ {
	pnt -29.5825136820475 -37.2178616762161 2.08333134651184E-05
	pnt -29.5817576090495 -37.2001675724983 2.08333134651184E-05
	pnt -29.5809379577637 -37.1665902694066 2.08333134651184E-05
	pnt -29.5968299865723 -37.1462843472759 2.08333134651184E-05
	pnt -29.6502769470215 -37.1493256319935 2.08333134651184E-05
~~ }
NAV: nav33 once ~~ {	
	ptl -29.6502769470215 -37.1493256319935 2.08333134651184E-05 -29.6666666666667 -37.15 -0.000262499845121056 14 {Presk's Treasury}
	pau -29.6502769470215 -37.1493256319935 2.08333134651184E-05 5000
~~ }
NAV: nav14 once ~~ {
	pnt -30.4583333333333 -37.5666666666667 2.08333134651184E-05
	pnt -30.4583333333333 -37.5666666666667 2.08333134651184E-05
	pnt -30.4583333333333 -37.5666666666667 2.08333134651184E-05
	pau -30.4583333333333 -37.5666666666667 2.08333134651184E-05 5000
	pnt -30.4583333333333 -37.5666666666667 2.08333134651184E-05
	pnt -30.4583333333333 -37.5666666666667 2.08333134651184E-05
~~ }
NAV: nav15 once ~~ {
	pnt -30.4566799799601 -37.5498900731405 2.08333134651184E-05
	pnt -30.4568853060404 -37.5245758692423 2.08333134651184E-05
	pnt -30.4566192626953 -37.5096276919047 2.08333134651184E-05
	pnt -30.4832357406616 -37.495941289266 2.08333134651184E-05
	pnt -30.5170483907064 -37.4819985707601 2.08333134651184E-05
~~ }
NAV: nav16 once ~~ {
	pnt -30.6329949855804 -37.4832424799601 2.08333134651184E-05
~~ }
NAV: nav17 once ~~ {
	jmp -30.6142228285472 -37.4868500709534 2.08333134651184E-05 270 {False} 500.00003
	pau -30.6142228285472 -37.4868500709534 2.08333134651184E-05 5000
	pnt -30.663428401947 -37.48324842453 2.08333134651184E-05
	pnt -30.6463068644206 -37.4866321563721 2.08333134651184E-05
	pnt -30.6329949855804 -37.4832424799601 2.08333134651184E-05
~~ }
NAV: nav18 once ~~ {
	pnt -30.5376107533773 -37.4834597587585 2.08333134651184E-05
	pnt -30.5458552360535 -37.4840536117554 2.08333134651184E-05
	pnt -30.5528275489807 -37.4831530253092 2.08333134651184E-05
~~ }
NAV: nav19 once ~~ {
	pnt -63.202916653951 -61.578333346049 0.550020790100098
	pnt -63.1761737187703 -61.4496633529663 0.511709562937419
	pnt -63.195823542277 -61.197546895345 0.391565863291423
	pnt -63.1965396245321 -61.0865520636241 0.360567887624105
	pnt -63.2042835235596 -60.9158836682638 0.33884449005127
	pnt -63.2340534845988 -60.783046913147 0.333354187011719
	pnt -63.2530581156413 -60.6828222910563 0.333354187011719
	pnt -63.319296614329 -60.5028793334961 0.31853551864624
	pnt -63.4295702934265 -60.3560024261475 0.316687552134196
	pnt -63.4890237013499 -60.2439430077871 0.307849438985189
	pnt -63.5543373743693 -60.0592419306437 0.29209623336792
	pnt -63.6289772033691 -59.8490282694499 0.288264687856038
	pnt -63.6705778757731 -59.7310206095378 0.283354187011719
	pnt -63.7360506693522 -59.6453893025716 0.283354187011719
	pnt -63.8367783864339 -59.6192768732707 0.266780090332031
	jmp -64.3356294423342 -59.6174233754476 0.149521255493164 270 {True} 1500.00003
	pau -64.3356294423342 -59.6174233754476 0.149521255493164 5000
	pnt -64.1937932332357 -59.5231958369414 0.104704729715983
	pnt -64.3356294423342 -59.6174233754476 0.149521255493164
~~ }
NAV: nav20 once ~~ {
	pnt -64.1937932332357 -59.5231958369414 0.104704729715983
	pnt -64.3037321567535 -59.316747379303 0.111125214894613
	pnt -64.4160388946533 -59.0884623209635 0.116687496503194
	pnt -64.5191568374634 -58.8606183369954 0.119257760047913
	pnt -64.6225692113241 -58.7494459288195 0.137161874771118
	pnt -64.7356697718302 -58.6577323595683 0.226807467142741
	pnt -64.7629164377848 -58.6436126391093 0.247660668690999
	pnt -64.8025273005168 -58.6816113313039 0.285460249582926
	pnt -64.8650041262309 -58.73785328269 0.325020853678385
	pnt -64.8714669863383 -58.8105980555216 0.319971021016439
	pnt -64.8660251617432 -59.1119328180949 0.304528522491455
	pnt -64.8738868077596 -59.3173180898031 0.294410991668701
	pnt -64.8809974988302 -59.5973393122355 0.289882214864095
	pnt -64.9304343700409 -59.8905977567037 0.28673734664917
	pnt -64.9930149396261 -60.0519267400106 0.288102912902832
	pnt -65.1002352873484 -60.2955262422562 0.287932872772217
	pnt -65.2481731414795 -60.4219350814819 0.297682126363118
	pnt -65.4362461725871 -60.5441224416097 0.322895081837972
	pnt -65.5805267016093 -60.6454382578532 0.367710812886556
	pnt -65.7030089696248 -60.8235991160075 0.375716431935628
	pnt -65.8062576611837 -61.0291629632314 0.328316561381022
	pnt -65.9340379297733 -61.3071920394897 0.307447179158529
	pnt -66.0456297556559 -61.5579740524292 0.326349862416585
	pnt -66.0980002085368 -61.7308970610301 0.348428916931152
	pnt -66.295844523112 -61.8437642176946 0.361827818552653
~~ }
NAV: nav21 once ~~ {
	pnt -66.3029655774434 -61.844406414032 0.361341444651286
	pnt -66.3028864860535 -61.8458087046941 0.361581738789876
	pnt -66.4545681635539 -61.8534787654877 0.341306813557943
	pnt -66.6370845476786 -61.9072241465251 0.315147686004639
	pnt -66.7037253379822 -61.9695239384969 0.288414859771729
	pnt -66.7550837834676 -62.0534428914388 0.248790168762207
	pnt -66.785285949707 -62.085850016276 0.249597787857056
	pnt -66.9267734527588 -62.2483673095703 0.282537841796875
	pnt -66.969020652771 -62.5051497777303 0.326446533203125
	pnt -67.0148012797038 -62.6143744150798 0.32498524983724
	pnt -67.062844657898 -62.7960722605387 0.332283814748128
	pnt -67.0760910669963 -62.9043418884277 0.331179936726888
	pnt -67.1067232131958 -63.0811473528544 0.335840034484863
	pnt -67.1131536483765 -63.1570796012878 0.331751887003581
	pnt -67.1093998908997 -63.2014416058858 0.336074352264404
	pnt -66.9498018900553 -63.2914700508118 0.370176378885905
	pnt -66.9058617273966 -63.3409918308258 0.381626542409261
	pnt -66.8848058064779 -63.3782118320465 0.38588654200236
	pnt -66.8327583948771 -63.438237786293 0.393124294281006
	pnt -66.7777683258057 -63.6084634145101 0.395392767588298
~~ }
NAV: nav22 once ~~ {
	pnt -66.7777683258057 -63.6084634145101 0.395392767588298
	pnt -66.7514212290446 -63.6042521158854 0.39978396097819
	pnt -66.5947642962138 -63.6099910736084 0.416687520345052
	pnt -66.5193956693013 -63.6070563634237 0.41923786799113
	pnt -66.4427045822144 -63.5989917755127 0.430319404602051
	pnt -66.3708859443664 -63.5940002441406 0.439947001139323
~~ }
NAV: nav23 once ~~ {
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pau -66.3728732426961 -63.6011405944824 0.439781379699707 5000
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
	pnt -29.9693382263184 -38.066085879008 2.08333134651184E-05
~~ }
NAV: nav24 once ~~ {
	jmp -64.3356294423342 -59.6174233754476 0.149521255493164 270 {True} 1500.00003
	pau -64.3356294423342 -59.6174233754476 0.149521255493164 2000
	pnt -64.1937932332357 -59.5231958369414 0.104704729715983
	pnt -64.3356294423342 -59.6174233754476 0.149521255493164
~~ }
NAV: nav25 once ~~ {
	pnt -63.2072914759318 -61.5863583246867 0.550020790100098
	pnt -63.2329744974772 -61.6290977795919 0.550020790100098
~~ }
NAV: nav26 circular ~~ {
~~ }
NAV: nav27 once ~~ {
	pnt -29.8216175079346 -37.8579680124919 2.08333134651184E-05
	pnt -29.8010787963867 -37.8594575246175 2.08333134651184E-05
	pnt -29.8043809254964 -37.7995047251383 2.08333134651184E-05
	pnt -29.770360438029 -37.7996507644653 2.08333134651184E-05
	pnt -29.748764928182 -37.8014441808065 2.08333134651184E-05
~~ }
NAV: nav28 once ~~ {
	pnt -29.4990624745687 -37.8488535563151 2.08333134651184E-05
	pnt -29.4991166432699 -37.8327757517497 2.08333134651184E-05
	pnt -29.4633804321289 -37.8334199269613 2.08333134651184E-05
	pnt -29.4232325236003 -37.8347995758057 2.08333134651184E-05
	pnt -29.397838083903 -37.8354973475138 2.08333134651184E-05
	pnt -29.3990561167399 -37.7882423400879 2.08333134651184E-05
	pnt -29.3995321909587 -37.7757316589355 2.08333134651184E-05
~~ }
NAV: nav29 once ~~ {
	pnt -29.1234814961751 -37.5769537607829 2.08333134651184E-05
	pnt -29.1258753458659 -37.592390314738 2.08333134651184E-05
	pnt -29.0637097676595 -37.5940445582072 2.08333134651184E-05
	pnt -29.0251366933187 -37.5959385236104 2.08333134651184E-05
	pnt -29.0257171630859 -37.6063013076782 2.08333134651184E-05
	pnt -29.0231819152832 -37.6521385828654 2.08333134651184E-05
~~ }
NAV: nav30 once ~~ {
	pnt -29.1685030619303 -37.4315879185994 2.08333134651184E-05
	pnt -29.1657566070557 -37.4137140274048 2.08333134651184E-05
	pnt -29.1956044514974 -37.4123396873474 2.08333134651184E-05
	pnt -29.2271283467611 -37.4142691135406 2.08333134651184E-05
	pnt -29.2201093037923 -37.3937141736348 2.08333134651184E-05
	pnt -29.2218939463298 -37.3554323196411 2.08333134651184E-05
~~ }
NAV: nav31 once ~~ {
	pnt -29.4572793324788 -37.3677981058757 2.08333134651184E-05
	pnt -29.4576792399089 -37.3869779904683 2.08333134651184E-05
	pnt -29.4743395487467 -37.3849062283834 2.08333134651184E-05
	pnt -29.5056612650553 -37.3825228691101 2.08333134651184E-05
	pnt -29.5187920888265 -37.3813170274099 2.08333134651184E-05
	pnt -29.517854309082 -37.388715171814 2.08333134651184E-05
	pnt -29.5159220377604 -37.414387512207 2.08333134651184E-05
	pnt -29.5172701517741 -37.4404814720154 2.08333134651184E-05
~~ }
NAV: nav32 once ~~ {
	pnt -29.511519241333 -37.2345436573029 2.08333134651184E-05
	pnt -29.5282614390055 -37.2310936609904 2.08333134651184E-05
	pnt -29.5263109842936 -37.2146500865618 2.08333134651184E-05
	pnt -29.5472737630208 -37.2145281394323 2.08333134651184E-05
	pnt -29.5813139597575 -37.2166988531748 2.08333134651184E-05
	pnt -29.5821926116943 -37.2168295145035 2.08333134651184E-05
~~ }
NAV: DeathDelay once ~~ {
	pnt -63.202916653951 -61.578333346049 0.550020790100098
	pnt -63.202916653951 -61.578333346049 0.550020790100098
	pnt -63.202916653951 -61.578333346049 0.550020790100098
	pnt -63.202916653951 -61.578333346049 0.550020790100098
	pau 96.5192172686259 -77.3924765904744 -0.406645806630452 9000
	pnt -63.202916653951 -61.578333346049 0.550020790100098
	pnt -63.202916653951 -61.578333346049 0.550020790100098
	pnt -63.202916653951 -61.578333346049 0.550020790100098
~~ }
NAV: BlankOnce once ~~ {
~~ }
~~~ Meta Created By Kaitro of Leafcull/Frostfell/Coldeve