~~ {
~~ FOR AUTO-COMPLETION ASSISTANCE: testvar getvar setvar touchvar clearallvars clearvar getcharintprop getchardoubleprop getcharquadprop getcharboolprop getcharstringprop getisspellknown getcancastspell_hunt getcancastspell_buff getcharvital_base getcharvital_current getcharvital_buffedmax getcharskill_traininglevel getcharskill_base getcharskill_buffed getplayerlandcell getplayercoordinates coordinategetns coordinategetwe coordinategetz coordinatetostring coordinateparse coordinatedistancewithz coordinatedistanceflat wobjectgetphysicscoordinates wobjectgetname wobjectgetobjectclass wobjectgettemplatetype wobjectgetisdooropen wobjectfindnearestmonster wobjectfindnearestdoor wobjectfindnearestbyobjectclass wobjectfindininventorybytemplatetype wobjectfindininventorybyname wobjectfindininventorybynamerx wobjectgetselection wobjectgetplayer wobjectfindnearestbynameandobjectclass actiontryselect actiontryuseitem actiontryapplyitem actiontrygiveitem actiontryequipanywand actiontrycastbyid actiontrycastbyidontarget chatbox chatboxpaste statushud statushudcolored uigetcontrol uisetlabel isfalse istrue iif randint cstr strlen getobjectinternaltype cstrf stopwatchcreate stopwatchstart stopwatchstop stopwatchelapsedseconds cnumber floor ceiling round abs getworldname getitemcountininventorybyname getheading getitemcountininventorybynamerx getheadingto actiontrygiveprofile vitae getfellowshipstatus getfellowshipname getfellowshipisopen getfellowshipisleader getfellowshipleaderid getfellowshipcanrecruit getfellowid getfellowshipcount getfellowshiplocked getfellowname getfellowshipisfull sin cos tan sqrt asin acos atan atan2 sinh cosh tanh vtsetmetastate getregexmatch echo chr ord wobjectgetid wobjectgethealth wobjectfindbyid wobjectgetintprop wobjectfindnearestbytemplatetype wobjectgetopencontainer testquestflag getquestktprogress isrefreshingquests getquestktrequired getqueststatus getisday getgamehour getgamehourname getisnight getgameday getgameticks getminutesuntilday getgamemonth getgamemonthname getminutesuntilnight getgameyear uisetvisible uiviewvisible uiviewexists getgvar touchgvar getpvar touchpvar setgvar cleargvar setpvar clearpvar testgvar clearallgvars testpvar clearallpvars dictgetitem dictcreate dicthaskey dictadditem dictkeys dictremovekey dictvalues dictclear dictsize dictcopy listgetitem listpop listcreate listcontains listremove listadd listindexof listremoveat listinsert listlastindexof listclear listcopy listcount listreverse

~~																						
~~ File auto-generated by metaf, a program created by Eskarina of Morningthaw/Coldeve.	
~~		Get metaf here: https://github.com/JJEII/metaf/									
~~																						
~~ All recognized structural designators:												
~~		STATE:				DO:															
~~		IF:					NAV:														
~~																						
~~ All recognized CONDITION (IF:) operation keywords:									
~~		Never				NavEmpty			MobsInDist_Priority		Not				
~~		Always				Death				NeedToBuff				PSecsInStateGE	
~~		All					VendorOpen			NoMobsInDist			SecsOnSpellGE	
~~		Any					VendorClosed		BlockE					BuPercentGE		
~~		ChatMatch			ItemCountLE			CellE					DistToRteGE		
~~		MainSlotsLE			ItemCountGE			IntoPortal				Expr			
~~		SecsInStateGE		MobsInDist_Name		ExitPortal				ChatCapture		
~~																						
~~ All recognized ACTION (DO:) operation keywords:										
~~		None				EmbedNav			ChatExpr				SetOpt			
~~		SetState			CallState			SetWatchdog				CreateView		
~~		Chat				Return				ClearWatchdog			DestroyView		
~~		DoAll				DoExpr				GetOpt					DestroyAllViews	
~~																						
~~ All recognized NAV types:															
~~		circular			follow														
~~		linear				once														
~~																						
~~ All recognized NAV NODE types:														
~~		flw					vnd															
~~		pnt					ptl															
~~		rcl					tlk															
~~		pau					chk															
~~		cht					jmp															
~~		prt (deprecated in VTank)														
~~ }																					

STATE: {CheckSummon} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	All
			Expr {getpvar[SummonPortal]==1}
			Any
				Expr {getobjectinternaltype[wobjectfindnearestbyobjectclass[14]]==1}
				All
					Expr {getobjectinternaltype[wobjectfindnearestbyobjectclass[14]]==7}
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestbyobjectclass[14]],getplayercoordinates[]]>10}
		DO:	DoAll
				DoExpr {clearvar[PortalDetectOne]}
				DoExpr {clearvar[PortalDetectUse]}
				SetState {Mp}
	IF:	All
			Expr {testvar[PortalDetectOne]}
			Expr {wobjecthasdata[$PortalDetectOne{{0}}]==1}
		DO:	DoAll
				DoExpr {listpop[$PortalDetectOne,0]}
				SetState {CheckSummonTwo}
	IF:	All
			Expr {getobjectinternaltype[wobjectfindnearestbyobjectclass[14]]==7}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestbyobjectclass[14]],getplayercoordinates[]]<10}
		DO:	DoExpr {setvar[PortalDetectOne,listfilter[wobjectfindalllandscapebynamerx[`Gateway`],`wobjecthasdata[$1]==0&&coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestbyobjectclass[14]],getplayercoordinates[]]<10`]] && listcount[$PortalDetectOne] > 0 && (wobjectrequestdata[$PortalDetectOne{{0}}] || 1) && (vtsetmetastate[CheckSummon] || 1)}
~~ }
STATE: {CheckSummonTwo} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	BlockE 3FB10000
		DO:	DoAll
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeon]}
				DoExpr {clearvar[CombatStuck]}
				Chat {/vt meta load RynDQLCheck}
	IF:	All
			Expr {getobjectinternaltype[wobjectfindnearestbyobjectclass[14]]==7}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestbyobjectclass[14]],getplayercoordinates[]]<10}
		DO:	DoExpr {setvar[PortalDetectUse,listfilter[wobjectfindalllandscapebyobjectclass[14],`wobjecthasdata[$1]==1&&coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestbyobjectclass[14]],getplayercoordinates[]]<10`]] &&  listcount[$PortalDetectUse] > 0 && wobjectgetstringprop[$PortalDetectUse{{0}},38]#`39.9N, 51.1W` && (actiontryuseitem[$PortalDetectUse{{0}}] || 1)}
	IF:	All
			Expr {getpvar[SummonPortal]==1}
			Any
				Expr {getobjectinternaltype[wobjectfindnearestbyobjectclass[14]]==1}
				All
					Expr {getobjectinternaltype[wobjectfindnearestbyobjectclass[14]]==7}
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestbyobjectclass[14]],getplayercoordinates[]]>=10}
		DO:	DoAll
				DoExpr {clearvar[PortalDetectOne]}
				DoExpr {clearvar[PortalDetectUse]}
				SetState {Mp}
	IF:	SecsInStateGE 10
		DO:	DoAll
				DoExpr {clearvar[PortalDetectUse]}
				SetState {CheckSummonTwo}
~~ }
STATE: {ClearMobs} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	Always
		DO:	DoExpr {ifthen[getpvar[SummonAllTheTime]==1,`vtsetsetting[EnableCombat,cstr[1]]&&vtsetsetting[SummonPets,cstr[1]]`,`vtsetsetting[EnableCombat,cstr[1]]&&vtsetsetting[SummonPets,cstr[0]]`]}
	IF:	Any
			Death
			ChatMatch {^Your fellow .* has died!$}
			ChatCapture {!ReGroup} {19}
			SecsInStateGE 180
			Any
				BlockE C8E90000
		DO:	DoAll
				Chat {/f !ReGroup}
				SetState {ReGroupRecall}
	IF:	Always
		DO:	DoExpr {ifthen[getpvar[SummonAllTheTime]==1,`vtsetsetting[EnableCombat,cstr[1]]&&vtsetsetting[SummonPets,cstr[1]]`,`vtsetsetting[EnableCombat,cstr[1]]&&vtsetsetting[SummonPets,cstr[0]]`]}
	IF:	Any
			NoMobsInDist 30
			SecsInStateGE 30
			All
				SecsInStateGE 3
				NoMobsInDist 15
			All
				SecsInStateGE 15
				NoMobsInDist 8
			All
				SecsInStateGE 10
				NoMobsInDist 3
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				ChatExpr {\/vt setmetastate +getpvar[ClearMobs]}
~~ }
STATE: {SkipQuest} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF: Expr {getcharstringprop[1]==getpvar[LeaderName]}
		DO: DoAll
				ChatExpr {\/ub bct DailyLoop+getworldname[]+getpvar[GroupIdentifier]+` \/ub mexec setpvar[DoQuestUnleashTheGearknight,0]`}
				ChatExpr {\/ub bct DailyLoop+getworldname[]+getpvar[GroupIdentifier]+` \/ub mexec clearpvar[Death+getpvar[Profile]]`}
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]}
	IF:	All
			Expr {getpvar[DoQuestUnleashTheGearknight]==0}
			Expr {getpvar[Death+getpvar[Profile]]==0}
			Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	DoAll
				DoExpr {setpvar[Profile,RynDQLQuestCheck]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load RynDQLQuestCheck}
~~}
STATE: {ReGroupRecall} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	Not Expr {testvar[CombatStuck]}
		DO:	DoExpr {stopwatchstart[setvar[CombatStuck, stopwatchcreate[]]]}
	IF:	All
			Expr {testvar[CombatStuck]]}
			Expr {stopwatchelapsedseconds[getvar[CombatStuck]]>=15}
			Any
				Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Missile}
				Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Melee}
				Expr {stopwatchelapsedseconds[getvar[CombatStuck]]>=120}
		DO:	Chat {/ub quit}
	IF:	Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Magic}
		DO:	DoExpr {clearvar[CombatStuck]}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF: Expr {getpvar[Death+getpvar[Profile]]>4}
		DO: DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]}
	IF:	BlockE 00070000
		DO:	SetState {ToTN}
	IF:	Always
		DO:	SetOpt {EnableCombat} {False}
	IF:	Always
		DO:	EmbedNav nav0 {[none]}
	IF:	Always
		DO:	DoAll
				DoExpr {setpvar[StateName,ReGroupRecall]}
				DoExpr {clearvar[PitStop]}
				DoExpr {clearvar[JumpTimer]}
				DoExpr {clearvar[Open]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+DoorOpenUGK]}
				SetOpt {NavCloseStopRange} {0.00625}
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0208]]`]}
				SetOpt {EnableCombat} {False}
				SetOpt {EnableNav} {False}
				EmbedNav nav1 {[none]}
				DoExpr {clearvar[StateTimer]}
	IF:	CellE 3FB10024
		DO:	DoAll
				SetOpt {EnableNav} {True}
				EmbedNav nav2 {[DeathDelay]}
	IF:	BlockE 42AE0000
		DO:	DoAll
				SetOpt {EnableNav} {True}
				EmbedNav nav3 {[DeathDelayTwo]}
	IF:	All
			Any
				NavEmpty
				SecsInStateGE 60
			CellE 3FB10024
		DO:	DoAll
				DoExpr {clearvar[CombatStuck]}
				SetOpt {EnableNav} {True}
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {ifthen[getpvar[Leader]==1,`setpvar[Death+getpvar[Profile],getpvar[Death+getpvar[Profile]]+1]&&setpvar[StateName,getpvar[StateName]]`,`setpvar[StateName,getpvar[StateName]]`]}
				DoExpr {setpvar[CheckSync,Death]}
				Chat {/vt meta load RynDQLCheck}
	IF:	All
			Any
				NavEmpty
				SecsInStateGE 60
				ExitPortal
			BlockE 42AE0000
		DO:	DoAll
				DoExpr {clearvar[CombatStuck]}
				SetOpt {EnableNav} {True}
				DoExpr {setpvar[StateName,ToPlateau]}
				DoExpr {ifthen[getpvar[Leader]==1,`setpvar[Death+getpvar[Profile],getpvar[Death+getpvar[Profile]]+1]&&setpvar[StateName,getpvar[StateName]]`,`setpvar[StateName,getpvar[StateName]]`]}
				DoExpr {setpvar[CheckSync,Death]}
				Chat {/vt meta load RynDQLCheck}
	IF:	All
			Expr {getpvar[RouteToggleUGK]==SummonPortal}
			Not CellE 3FB10024
		DO:	DoAll
				DoExpr {actiontrycastbyid[2645]} ~~ SpellId 2645 is "Portal Recall".
				SetState {ReGroupRecall}
	IF:	All
			Expr {getpvar[RouteToggleUGK]==Run}
			Not BlockE 42AE0000
		DO:	DoAll
				DoExpr {actiontrycastbyid[2645]} ~~ SpellId 2645 is "Portal Recall".
				SetState {ReGroupRecall}
~~ }
STATE: {Default} ~~ {
	IF:	All
			Expr {getpvar[Profile]==RynDQLUnleashTheGearknight}
			Expr {getpvar[StateName]!=Default}
			Not NeedToBuff
		DO:	ChatExpr {\/vt setmetastate +getpvar[StateName]}
	IF:	Always
		DO:	DoAll
				DoExpr {setpvar[Profile, RynDQLUnleashTheGearknight]}
				DoExpr {setpvar[StateName, ToTN]}
				DoExpr {setpvar[Stuck, ToTN]}
	IF:	Any
			Expr {getcharstringprop[1]==getpvar[LeaderName]}
			ItemCountGE 1 {Egg}
		DO:	DoExpr {setpvar[Leader,1]}
	IF:	Any
			Expr {getcharboolprop[44]==1}
			Expr {getpvar[FellowCount]<2}
		DO:	DoExpr {setpvar[AdminSkip,1]}
	IF:	Not Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter]}
		DO:	DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter,listcreate[]]}
	IF:	Not Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+LootingCounter]}
		DO:	DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+LootingCounter,listcreate[]]}
	IF:	Always
		DO:	DoAll
				Chat {/vt settings loadchar RynDQLProfile}
				Chat {/vt loot load RynDQLLootProfile.utl}
				SetOpt {EnableNav} {True}
				SetOpt {AutoCram} {False}
				SetOpt {AutoStack} {True}
				SetOpt {NavPriorityBoost} {False}
				SetOpt {EnableCombat} {False}
				SetOpt {SummonPets} {False}
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0208]]`]}
				SetOpt {NavCloseStopRange} {0.00625}
				SetOpt {EnableBuffing} {True}
				SetOpt {EnableLooting} {True}
				SetOpt {LootOnlyRareCorpses} {True}
				SetOpt {OpenDoors} {True}
				SetOpt {IdlePeaceMode} {False}
				SetOpt {Recharge-Helper-HitP} {50}
	IF:	SecsInStateGE 180
		DO:	Chat {/ub quit}
	IF:	Any
			All
				Expr {getcharskill_buffed[32]>=391}
				Expr {getcancastspell_buff[4400]}
				Expr {getspellexpirationbyname[Aura of Incantation of Defender Self]<=1800}
			All
				Expr {getcharskill_buffed[32]<=390}
				Expr {getspellexpirationbyname[Aura of Cragstone's Will]<=1800}
		DO:	DoAll
				Chat {/vt forcebuff}
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+Buffing,1]}
				DoExpr {setpvar[StateName,ToTN]}
				SetState {SyncBuff}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Buffing]==1}
		DO:	DoAll
				DoExpr {setpvar[StateName,ToTN]}
				SetState {SyncBuff}
	IF:	All
			SecsInStateGE 3
			Not NeedToBuff
		DO:	DoAll
				DoExpr {setpvar[StateName,ToTN]}
				SetState {ToTN}
~~ }
STATE: {FightBoss} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	Any
			Death
			ChatMatch {^Your fellow .* has died!$}
			ChatCapture {!ReGroup} {19}
			All
				Expr {testvar[StateTimer]}
				Expr {stopwatchelapsedseconds[getvar[StateTimer]]>=300}
			Any
				BlockE C8E90000
		DO:	DoAll
				Chat {/f !ReGroup}
				SetState {ReGroupRecall}
	IF:	Not Expr {testvar[StateTimer]}
		DO:	DoExpr {stopwatchstart[setvar[StateTimer, stopwatchcreate[]]]}
	IF:	CellE 3FB10110
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				EmbedNav nav4 {[none]}
	IF:	MobsInDist_Name 1 60 {Iron Blade Lieutenant}
		DO:	DoAll
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.25]]`,`vtsetsetting[AttackDistance,cstr[0.25]]`]}
				DoExpr {ifthen[getpvar[SummonAllTheTime]==1||getpvar[SummonForBosses]==1,`vtsetsetting[EnableCombat,cstr[1]]&&vtsetsetting[SummonPets,cstr[1]]`,`vtsetsetting[EnableCombat,cstr[1]]&&vtsetsetting[SummonPets,cstr[0]]`]}
	IF:	All
			Expr {getpvar[QuestCompletedSkip]==0}
			Not Expr {testvar[LootCurrent]}
		DO:	DoExpr {setvar[LootCurrent,getitemcountininventorybyname[Aetherium Core Fragment]+1]}
	IF:	All
			Expr {getpvar[Leader]==1}
			Not Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete]}
		DO:	DoAll
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete,listcreate[]]}
				SetState {FightBoss}
	IF:	All
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete]}
			Not Expr {listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getcharstringprop[1]]}
			Any
				Expr {getpvar[QuestCompletedSkip]==1}
				Expr {getitemcountininventorybyname[Aetherium Core Fragment]==getvar[LootCurrent]}
		DO:	DoAll
				DoExpr {listadd[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getcharstringprop[1]]}
				DoExpr {clearpvar[Town]}
				SetState {FightBoss}
	IF:	All
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameSeven]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameSeven]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameEight]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete],getpvar[FellowNameNine]]}
				All
					Expr {getpvar[AdminSkip]==1}
					Expr {getitemcountininventorybyname[Aetherium Core Fragment]==getvar[LootCurrent]}
		DO:	DoAll
				DoExpr {clearvar[StateTimer]}
				DoExpr {setpvar[TurnIn,1]}
				DoExpr {setpvar[StateName,ToTN]}
				DoExpr {setpvar[CheckSync,ToTNTurnIn]}
				Chat {/vt meta load RynDQLCheck}
	IF:	All
			Expr {getitemcountininventorybyname[Aetherium Core Fragment]<getvar[LootCurrent]}
			NoMobsInDist 25
			Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,Corpse of Iron Blade Lieutenant]]==7}
			Any
				CellE 3FB1011B
				CellE 3FB1011C
				CellE 3FB10118
				CellE 3FB1011A
				CellE 3FB10117
				CellE 3FB10115
				CellE 3FB10116
				CellE 3FB10114
				Expr {getpvar[QuestCompletedSkip]==0}
			NavEmpty
		DO:	DoAll
				DoExpr {setvar[CorpseName,Corpse of Iron Blade Lieutenant]}
				DoExpr {setvar[LootItem,Aetherium Core Fragment]}
				DoExpr {setvar[LootRange,25]}
				DoExpr {listadd[getgvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter],getcharstringprop[1]]}
				DoExpr {listadd[getgvar[getworldname[]+getpvar[GroupIdentifier]+LootingCounter],getcharstringprop[1]]}
				DoExpr {setvar[LootReturn,FightBoss]}
				CallState {Loot} {FightBoss}
	IF:	Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
		DO:	DoAll
				DoExpr {actiontryuseitem[wobjectgetopencontainer[]]}
				DoExpr {vtsetmetastate[vtgetmetastate[]]}
~~ }
STATE: {Finished} ~~ {
	IF:	All
			SecsInStateGE 5
			Any
				Expr {testpvar[StateName]==1}
				Expr {testpvar[Profile]==1}
				Expr {testpvar[Stuck]==1}
				Expr {testpvar[Death+getpvar[Profile]]==1}
				Expr {testpvar[TurnIn]==1}
				Expr {testpvar[Meta\ +getpvar[Profile]]==1}
				Expr {testpvar[Town]==1}
				Expr {testpvar[UGKFlag]==1}
				Expr {testpvar[UGKTurnIn]==1}
				Expr {testpvar[QuestCompletedSkip]==1}
				Expr {testpvar[ClearMobs]==1}
				Expr {testpvar[Step]==1}
				Expr {testpvar[Return]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+Looting]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+LootFail]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+GoNow]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+DefaultPass]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+GoNowClear]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+Checking]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+GoNowTwo]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+BuffingSynced]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+UnleashTheGearknight]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+DoorOpenUGK]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn]==1}
				Expr {testpvar[PortalRecall]==1}
				Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+getcharstringprop[1]]==1}
		DO:	DoAll
				DoExpr {clearpvar[StateName]}
				DoExpr {clearpvar[Profile]}
				DoExpr {clearpvar[Stuck]}
				DoExpr {clearpvar[DeathRynDQLUnleastTheGearknight]}
				DoExpr {clearpvar[PortalRecall]}
				DoExpr {clearpvar[TurnIn]}
				DoExpr {clearpvar[UGKFlag]}
				DoExpr {clearpvar[UGKTurnIn]}
				DoExpr {clearpvar[Meta\ +getpvar[Profile]]}
				DoExpr {clearpvar[Town]}
				DoExpr {clearpvar[QuestCompletedSkip]}
				DoExpr {clearpvar[ClearMobs]}
				DoExpr {clearpvar[Step]}
				DoExpr {clearpvar[Return]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+Looting]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+LootFail]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+GoNow]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+DefaultPass]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+GoNowClear]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+Checking]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+GoNowTwo]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+BuffingSynced]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+UnleashTheGearknight]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+DoorOpenUGK]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+getcharstringprop[1]]}
				SetState {Finished}
	IF:	All
			Expr {testpvar[StateName]==0}
			Expr {testpvar[Profile]==0}
			Expr {testpvar[Stuck]==0}
			Expr {testpvar[Death+getpvar[Profile]]==0}
			Expr {testpvar[TurnIn]==0}
			Expr {testpvar[Meta\ +getpvar[Profile]]==0}
			Expr {testpvar[Town]==0}
			Expr {testpvar[QuestCompletedSkip]==0}
			Expr {testpvar[ClearMobs]==0}
			Expr {testpvar[Step]==0}
			Expr {testpvar[UGKFlag]==0}
			Expr {testpvar[UGKTurnIn]==0}
			Expr {testpvar[Return]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+QuestComplete]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+Looting]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+LootFail]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+GoNow]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+DefaultPass]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+GoNowClear]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+Checking]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+GoNowTwo]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+BuffingSynced]==0}
			Expr {testpvar[PortalRecall]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+UnleashTheGearknight]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+DoorOpenUGK]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+getcharstringprop[1]]==0}
		DO:	Chat {/vt meta load RynDQLQuestCheck}
~~ }
STATE: {HeiShou} ~~ {
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	All
			Any
				Expr {getpvar[RouteToggleUGK]==`UseBot`}
				Expr {getpvar[RouteToggleUGK]==`Run`}
			Expr {getpvar[TurnIn]==0}
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Aetherium Core Fragment]]==7}
		DO:	DoAll
				DoExpr {setpvar[Town,Plateau]}
				DoExpr {setpvar[StateName,ToTN]}
				DoExpr {setpvar[CheckSync,ToTN]}
				Chat {/vt meta load RynDQLCheck}
	IF:	All
			Expr {getpvar[SummonPortal]==1}
			Expr {getpvar[RouteToggleUGK]==`SummonPortal`}
			Expr {getpvar[TurnIn]==0}
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Aetherium Core Fragment]]==7}
		DO:	DoAll
				DoExpr {setpvar[StateName,ToMP]}
				DoExpr {setpvar[CheckSync,ToMP]}
				Chat {/vt meta load RynDQLCheck}
	IF:	All
			Expr {getpvar[TurnIn]==1}
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Aetherium Core Fragment]]==7}
		DO:	DoAll
				DoExpr {actiontrygiveitem[wobjectfindininventorybytemplatetype[41226],wobjectfindnearestbytemplatetype[41227]]}
				SetState {HeiShou}
	IF:	All
			Expr {getpvar[UGKFlag]==0}
			SecsInStateGE 2
		DO:	DoAll
				DoExpr {actiontryuseitem[wobjectfindnearestbynameandobjectclass[37,Hei Shou]]}
				SetState {HeiShou}		
	IF:	All
			Expr {getpvar[TurnIn]==1}
			Any
				ChatMatch {^Hei Shou gives you}
				ChatMatch {^You've earned}
				ChatMatch {^You've earned}
				ChatMatch {^You may complete this quest again in}
				Expr {getobjectinternaltype[wobjectfindininventorybyname[Aetherium Core Fragment]]==1}
		DO:	DoExpr {setpvar[UGKTurnIn,1]}
	IF:	All
			Expr {getpvar[Leader]==1}
			Expr {getpvar[UGKTurnIn]==1}
			Expr {getpvar[TurnIn]==1}
			Not Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn]}
		DO:	DoAll
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn,listcreate[]]}
				SetState {HeiShou}
	IF:	All
			Expr {getpvar[UGKTurnIn]==1}
			Expr {getpvar[TurnIn]==1}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn]}
			Not Expr {listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getcharstringprop[1]]}
		DO:	DoAll
				DoExpr {listadd[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getcharstringprop[1]]}
				SetState {HeiShou}
	IF:	All
			Expr {getpvar[UGKTurnIn]==1}
			Expr {getpvar[TurnIn]==1}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameSeven]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameSeven]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameEight]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKTurnIn],getpvar[FellowNameNine]]}
		DO:	DoAll
				DoExpr {setpvar[StateName,Finished]}
				DoExpr {setpvar[CheckSync,QuestFinished]}
				Chat {/vt meta load RynDQLCheck}	
	IF: All
			Expr {getpvar[TurnIn]==0}
			Any
				ChatMatch {^Hei Shou tells you, "I've asked you to investigate the}
				ChatMatch {^Hei Shou tells you, "Hail, friend! Are you as concerned about the Apostate Virindi threat to Dereth as I am}
				ChatMatch {^Hei Shou tells you, "Seek the site at}
				ChatMatch {^Hei Shou tells you, "Fascinating\! So you discovered some kind of hostile metal men in that dungeon\? And they've destroyed the Apostate facility I asked you to investigate? Well\, that's quite a development\. I see you brought back some kind of souvenir from your excursion. I'd love to analyze it to learn more about these clockwork soldiers. May I have it\? I will reward you, of course\.\.\."}			
		DO:	DoExpr {setpvar[UGKFlag,1]}
	IF:	All
			Expr {getpvar[Leader]==1}
			Expr {getpvar[UGKFlag]==1}
			Expr {getpvar[TurnIn]==0}
			Not Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag]}
		DO:	DoAll
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag,listcreate[]]}
				SetState {HeiShou}
	IF:	All
			Expr {getpvar[UGKFlag]==1}
			Expr {getpvar[TurnIn]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag]}
			Not Expr {listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getcharstringprop[1]]}
		DO:	DoAll
				DoExpr {listadd[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getcharstringprop[1]]}
				SetState {HeiShou}
	IF:	All
			Any
				Expr {getpvar[RouteToggleUGK]==`UseBot`}
				Expr {getpvar[RouteToggleUGK]==`Run`}
			Expr {getpvar[UGKFlag]==1}
			Expr {getpvar[TurnIn]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameSeven]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameSeven]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameEight]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameNine]]}
		DO:	DoAll
				DoExpr {setpvar[Town,Plateau]}
				DoExpr {setpvar[StateName,ToTN]}
				DoExpr {setpvar[CheckSync,ToTN]}
				Chat {/vt meta load RynDQLCheck}
	IF:	All
			Expr {getpvar[SummonPortal]==1}
			Expr {getpvar[RouteToggleUGK]==`SummonPortal`}
			Expr {getpvar[UGKFlag]==1}
			Expr {getpvar[TurnIn]==0}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameSeven]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameSeven]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameEight]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+UGKFlag],getpvar[FellowNameNine]]}
		DO:	DoAll
				DoExpr {setpvar[StateName,ToMP]}
				DoExpr {setpvar[CheckSync,ToMP]}
				Chat {/vt meta load RynDQLCheck}
~~ }
STATE: {Loot} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	Any
			Death
			ChatMatch {^Your fellow .* has died!$}
			ChatCapture {!ReGroup} {19}
			Any
				BlockE C8E90000
		DO:	DoAll
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+LootFail]}
				SetOpt {EnableLooting} {True}
				SetOpt {NavCloseStopRange} {0.00625}
				DoExpr {listremove[getgvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter],getcharstringprop[1]]}
				DoExpr {listremove[getgvar[getworldname[]+getpvar[GroupIdentifier]+LootingCounter],getcharstringprop[1]]}
				DoExpr {clearvar[CorpseName]}
				DoExpr {clearvar[LootItem]}
				DoExpr {clearvar[Loot]}
				DoExpr {clearvar[CorpseDetect]}
				DoExpr {clearvar[LootCount]}
				DoExpr {clearvar[CloseCorpseTimer]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {clearvar[LootCloseCorpse]}
				DoExpr {clearvar[LootCloseCorpseTwo]}
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+Looting,0]}
				Chat {/f !ReGroup}
				SetState {ReGroupRecall}
	IF:	Always
		DO:	DoAll
				EmbedNav nav5 {[none]}
				SetOpt {EnableLooting} {False}
	IF:	All
			NavEmpty
			Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]==7}
			Expr {coordinatedistancewithz[getplayercoordinates[], wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]>=3}
		DO:	DoAll
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]&&coordinatedistancewithz[getplayercoordinates[],wobjectgetphysicscoordinates[$1]]<getvar[LootRange]`]]}
				ChatExpr {\/vt addnavpt +coordinatetostring[wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]}
				SetOpt {NavCloseStopRange} {0.00083333333}
				SetState {Loot}
	IF:	All
			Expr {testvar[LootCount]==1}
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==1}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]==getvar[LootCount]}
		DO:	DoAll
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+LootFail]}
				SetOpt {EnableLooting} {True}
				SetOpt {NavCloseStopRange} {0.00625}
				DoExpr {listremove[getgvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter],getcharstringprop[1]]}
				DoExpr {listremove[getgvar[getworldname[]+getpvar[GroupIdentifier]+LootingCounter],getcharstringprop[1]]}
				DoExpr {clearvar[CorpseName]}
				DoExpr {clearvar[LootItem]}
				DoExpr {clearvar[Loot]}
				DoExpr {clearvar[CorpseDetect]}
				DoExpr {clearvar[LootCount]}
				DoExpr {clearvar[CloseCorpseTimer]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {clearvar[LootCloseCorpse]}
				DoExpr {clearvar[LootCloseCorpseTwo]}
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+Looting,0]}
				Return
	IF:	Any
			ChatMatch {^You may complete this quest again in}
			ChatMatch {^You have solved this quest too recently!}
		DO:	DoAll
				DoExpr {setvar[LootCount,getitemcountininventorybyname[getvar[LootItem]]}
				DoExpr {setvar[LootCurrent,getitemcountininventorybyname[getvar[LootItem]]}
				DoExpr {setpvar[QuestCompletedSkip,1]}
				SetState {Loot}
	IF:	Expr {testvar[LootCount]==0}
		DO:	DoAll
				DoExpr {setvar[LootCount,getitemcountininventorybyname[getvar[LootItem]]+1]}
				DoExpr {stopwatchstart[setvar[LootStuckDelay, stopwatchcreate[]]]}
				SetState {Loot}
	IF:	All
			Expr {testvar[LootCount]==1}
			Any
				Expr {getobjectinternaltype[getvar[CloseCorpseTimer]]==7&&stopwatchelapsedseconds[getvar[CloseCorpseTimer]]>=5}
				Expr {getbusystate[]==0&&getvar[LootCorpseCloseTwo]==1}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]==getvar[LootCount]&&getobjectinternaltype[wobjectgetopencontainer[]]==7}
		DO:	DoAll
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]&&coordinatedistancewithz[getplayercoordinates[],wobjectgetphysicscoordinates[$1]]<getvar[LootRange]`]] && listcount[$CorpseDetect] > 0 && (actiontryuseitem[$CorpseDetect{{0}}] || 1)}
	IF:	All
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+LootFail]}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter]}
			Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+LootFail]>listcount[getgvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter]]+4}
		DO:	DoAll
				ChatExpr {\/ub bct DailyLoop+getworldname[]+getpvar[GroupIdentifier]+`/ /ub mexec actiontryuseitem[wobjectfindnearestbyobjectclass[27]]`}
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]&&coordinatedistancewithz[getplayercoordinates[],wobjectgetphysicscoordinates[$1]]<getvar[LootRange]`]]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+LootFail]}
	IF:	Expr {getvar[SourceNotFound]>9}
		DO:	DoAll
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+LootFail]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+Looting]}
				DoExpr {actiontryuseitem[wobjectgetopencontainer[]]}
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]&&coordinatedistancewithz[getplayercoordinates[],wobjectgetphysicscoordinates[$1]]<getvar[LootRange]`]]}
				SetState {Loot}
	IF:	All
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
			Expr {wobjectgetname[wobjectgetopencontainer[]]#getvar[CorpseName]==0}
		DO:	DoAll
				DoExpr {actiontryuseitem[wobjectgetopencontainer[]]}
				SetState {Loot}
	IF:	All
			Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Looting]==0}
			Expr {testvar[LootCount]==1}
			Expr {getvar[CloseCorpseTimer]==0}
			Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]==7}
			Expr {coordinatedistancewithz[getplayercoordinates[], wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]<3}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
			SecsInStateGE 4
		DO:	DoAll
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+LootFail,getgvar[getworldname[]+getpvar[GroupIdentifier]+LootFail]+1]}
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]&&coordinatedistancewithz[getplayercoordinates[],wobjectgetphysicscoordinates[$1]]<getvar[LootRange]`]]}
				SetState {Loot}
	IF:	All
			Expr {testvar[LootCount]==1}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
			Expr {wobjectgetname[wobjectgetopencontainer[]]#getvar[CorpseName]}
		DO:	DoAll
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+Looting,1]}
				DoExpr {stopwatchstart[setvar[LootCloseCorpse, stopwatchcreate[]]]}
	IF:	All
			Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Looting]==1}
			Expr {getbusystate[]==5}
		DO:	DoExpr {setvar[LootCorpseCloseTwo,1]}
	IF:	All
			All
				Expr {getobjectinternaltype[getvar[LootCloseCorpse]]==7}
				Expr {stopwatchelapsedseconds[getvar[LootCloseCorpse]]>=2}
			Expr {testvar[LootCount]==1}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
			Expr {wobjectgetname[wobjectgetopencontainer[]]#getvar[CorpseName]}
		DO:	DoAll
				DoExpr {setvar[SourceNotFound,getvar[SourceNotFound]+1]}
				DoExpr {setvar[Loot,listfilter[wobjectfindallbycontainer[wobjectgetopencontainer[]], `wobjectgetname[$1]#getvar[LootItem]`]] && listcount[$Loot] > 0 && (actiontryuseitem[$Loot{{0}}] || 1) && (vtsetmetastate[Loot] || 1)}
	IF:	All
			Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]==7}
			Expr {coordinatedistancewithz[getplayercoordinates[], wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]<3}
			Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Looting]==0&&getvar[LootCount]>0}
			Expr {getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]&&getobjectinternaltype[wobjectgetopencontainer[]]==1}
		DO:	DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]&&coordinatedistancewithz[getplayercoordinates[],wobjectgetphysicscoordinates[$1]]<getvar[LootRange]`]] && listcount[$CorpseDetect] > 0 && (actiontryuseitem[$CorpseDetect{{0}}] || 1)}
	IF:	All
			Expr {testvar[LootCount]==1}
			Expr {getvar[CloseCorpseTimer]==0}
			Expr {getobjectinternaltype[getvar[LootItem]]==3&&getitemcountininventorybyname[getvar[LootItem]]==getvar[LootCount]}
		DO:	DoExpr {stopwatchstart[setvar[CloseCorpseTimer, stopwatchcreate[]]]}
	IF:	Any
			All
				Expr {getobjectinternaltype[getvar[LootStuckDelay]]==7}
				Expr {stopwatchelapsedseconds[getvar[LootStuckDelay]]>=180}
			All
				All
					Expr {getobjectinternaltype[getvar[LootStuckDelay]]==7}
					Expr {stopwatchelapsedseconds[getvar[LootStuckDelay]]>=20}
				Expr {getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
				Expr {listcount[$CorpseDetect]==0}
			All
				Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]==7}
				Expr {coordinatedistancewithz[getplayercoordinates[], wobjectgetphysicscoordinates[wobjectfindnearestbynameandobjectclass[27,`^`+getvar[CorpseName]+`.*`]]]<3}
				All
					Expr {getobjectinternaltype[getvar[LootCloseCorpse]]==7}
					Expr {stopwatchelapsedseconds[getvar[LootCloseCorpse]]>=10}
				Expr {getitemcountininventorybyname[getvar[LootItem]]<getvar[LootCount]}
				Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7&&listcount[$Loot]==0}
				Expr {wobjectgetname[wobjectgetopencontainer[]]#getvar[CorpseName]}
		DO:	DoAll
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+Looting,0]}
				SetState {LootStuckDelay}
	IF:	All
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter]}
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+LootingCounter]}
			Expr {listcount[getgvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter]]==listcount[getgvar[getworldname[]+getpvar[GroupIdentifier]+LootingCounter]]}
			SecsInStateGE 30
		DO:	DoAll
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+Looting,0]}
				SetState {Loot}
~~ }
STATE: {LootStuckDelay} ~~ {
	IF:	All
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==1}
			Expr {getitemcountininventorybyname[getvar[LootItem]]==getvar[LootCount]}
		DO:	DoAll
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+LootFail]}
				SetOpt {EnableLooting} {True}
				SetOpt {NavCloseStopRange} {0.00625}
				DoExpr {listremove[getgvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter],getcharstringprop[1]]}
				DoExpr {listremove[getgvar[getworldname[]+getpvar[GroupIdentifier]+LootingCounter],getcharstringprop[1]]}
				DoExpr {clearvar[CorpseName]}
				DoExpr {clearvar[LootItem]}
				DoExpr {clearvar[Loot]}
				DoExpr {clearvar[CorpseDetect]}
				DoExpr {clearvar[LootCount]}
				DoExpr {clearvar[CloseCorpseTimer]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {clearvar[LootCloseCorpse]}
				DoExpr {clearvar[LootCloseCorpseTwo]}
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+Looting,0]}
				Return
	IF:	All
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==1}
			SecsInStateGE 15
		DO:	DoAll
				DoExpr {setvar[LootStuckDelayInternalCounter,getvar[LootStuckDelayInternalCounter]+1]}
				DoExpr {setvar[CorpseDetect,listfilter[wobjectfindalllandscapebyobjectclass[27],`wobjectgetname[$1]#getvar[CorpseName]&&coordinatedistancewithz[getplayercoordinates[],wobjectgetphysicscoordinates[$1]]<getvar[LootRange]`]] && (vtsetmetastate[LootStuckDelay] || 1)}
	IF:	All
			SecsInStateGE 2
			Expr {getobjectinternaltype[wobjectgetopencontainer[]]==7}
		DO:	DoAll
				ChatExpr {\/ub bct DailyLoop+getworldname[]+getpvar[GroupIdentifier]+\ \/vt opt set EnableCombat False}
				DoExpr {actiontryuseitem[wobjectgetopencontainer[]]}
				SetState {LootStuckDelay}
	IF:	Any
			Expr {getvar[LootStuckDelayInternalCounter]>19}
			Expr {listcount[$CorpseDetect]==0}
		DO:	DoAll
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+LootFail]}
				SetOpt {EnableLooting} {True}
				DoExpr {listremove[getgvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter],getcharstringprop[1]]}
				DoExpr {listremove[getgvar[getworldname[]+getpvar[GroupIdentifier]+LootingCounter],getcharstringprop[1]]}
				DoExpr {clearvar[CorpseName]}
				DoExpr {clearvar[LootItem]}
				DoExpr {clearvar[Loot]}
				DoExpr {clearvar[CorpseDetect]}
				DoExpr {clearvar[LootCount]}
				DoExpr {clearvar[CloseCorpseTimer]}
				DoExpr {clearvar[SourceNotFound]}
				DoExpr {clearvar[LootStuckDelay]}
				DoExpr {clearvar[LootCloseCorpseTwo]}
				DoExpr {clearvar[LootStuckDelayInternalCounter]}
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+Looting,0]}
				ChatExpr {\/ub bct DailyLoop+getworldname[]+getpvar[GroupIdentifier]+\ \/vt opt set EnableCombat True}
				DoExpr {vtsetmetastate[getvar[LootReturn]]}
~~ }
STATE: {Mp} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	All
			Not Expr {uiviewexists[STUCK]}
			Expr {getpvar[Leader]==1}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	Always
		DO:	DoExpr {setpvar[Stuck,ToMP]}
	IF:	Any
			CellE 482E0131
			CellE 49F50100
			BlockE 1C4D0000
			CellE 5119002C
			BlockE 11330000
		DO:	DoAll
				Chat {/f !ReGroup}
				SetState {ToMP}
	IF:	CellE 016C01BC
		DO:	EmbedNav nav6 {[none]}
	IF:	All
			NavEmpty
			Expr {getcharstringprop[1]==getpvar[UGKSummon]}
			Any
				CellE 016C0171
				CellE 016C0155
				CellE 016C0170
				CellE 016C0146
				CellE 016C0147
		DO:	DoAll
				DoExpr {setpvar[StateName,Summon]}
				DoExpr {setpvar[CheckSync,Summon]}
				Chat {/vt meta load RynDQLCheck}
	IF:	All
			NavEmpty
			Expr {getcharstringprop[1]!=getpvar[UGKSummon]}
			Any
				CellE 016C0171
				CellE 016C0155
				CellE 016C0170
				CellE 016C0146
				CellE 016C0147
		DO:	DoAll
				DoExpr {setpvar[StateName,SummonW]}
				DoExpr {setpvar[CheckSync,Summon]}
				Chat {/vt meta load RynDQLCheck}
~~ }
STATE: {PortalRecall} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	Not Expr {testvar[CombatStuck]}
		DO:	DoExpr {stopwatchstart[setvar[CombatStuck, stopwatchcreate[]]]}
	IF:	All
			Expr {testvar[CombatStuck]]}
			Expr {stopwatchelapsedseconds[getvar[CombatStuck]]>=15}
			Any
				Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Missile}
				Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Melee}
				Expr {stopwatchelapsedseconds[getvar[CombatStuck]]>=120}
		DO:	Chat {/ub quit}
	IF:	Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Magic}
		DO:	DoExpr {clearvar[CombatStuck]}
	IF:	Always
		DO:	SetOpt {EnableCombat} {False}
	IF:	Always
		DO:	EmbedNav nav7 {[none]}
	IF:	Always
		DO:	DoAll
				DoExpr {setpvar[StateName,PortalRecall]}
				DoExpr {clearvar[PitStop]}
				DoExpr {clearvar[JumpTimer]}
				SetOpt {NavCloseStopRange} {0.00625}
				SetOpt {EnableCombat} {False}
				SetOpt {EnableNav} {False}
				EmbedNav nav8 {[none]}
				DoExpr {clearvar[StateTimer]}
	IF:	All
			NavEmpty
			CellE 3FB10024
		DO:	DoAll
				DoExpr {clearvar[CombatStuck]}
				SetOpt {EnableNav} {True}
				DoExpr {setpvar[StateName,ToDungeon]}
				SetState {ToDungeon}
	IF:	All
			NavEmpty
			BlockE 42AE0000
		DO:	DoAll
				DoExpr {clearvar[CombatStuck]}
				SetOpt {EnableNav} {True}
				DoExpr {setpvar[StateName,ToPlateau]}
				SetState {ToPlateau}
	IF:	All
			Any
				Expr {getpvar[RouteToggleUGK]==`SummonPortal`}
				Expr {getpvar[RouteToggleUGK]==`UseBot`}
			Not CellE 3FB10024
		DO:	DoAll
				DoExpr {actiontrycastbyid[2645]} ~~ SpellId 2645 is "Portal Recall".
				SetState {PortalRecall}
	IF:	All
			Expr {getpvar[RouteToggleUGK]==`Run`}
			Any
				Not BlockE 40B10000
				Not BlockE 42AE0000
		DO:	DoAll
				DoExpr {actiontrycastbyid[2645]} ~~ SpellId 2645 is "Portal Recall".
				SetState {PortalRecall}
~~ }
STATE: {ReavingDoor} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	Any
			Death
			ChatMatch {^Your fellow .* has died!$}
			ChatCapture {!ReGroup} {19}
			All
				Expr {testvar[StateTimer]}
				Expr {stopwatchelapsedseconds[getvar[StateTimer]]>=300}
			Any
				BlockE C8E90000
		DO:	DoAll
				Chat {/f !ReGroup}
				SetState {ReGroupRecall}
	IF:	Not Expr {testvar[StateTimer]}
		DO:	DoExpr {stopwatchstart[setvar[StateTimer, stopwatchcreate[]]]}
	IF:	Always
		DO:	DoAll
				DoExpr {setpvar[ClearMobs,ReavingDoor]}
				SetWatchdog 5 30 {ClearMobs}
	IF:	Any
			CellE 3FB10142
			CellE 3FB10141
			CellE 3FB1013F
			CellE 3FB10140
			CellE 3FB1013D
			CellE 3FB10138
		DO:	EmbedNav nav9 {junk.nav}
	IF:	All
			Expr {getvar[PitStop]==0}
			CellE 3FB1010C
			NavEmpty
		DO:	DoAll
				SetOpt {EnableCombat} {False}
				DoExpr {setvar[PitStop,1]}
				DoExpr {setpvar[StateName,ReavingDoor]}
				DoExpr {setpvar[CheckSync,ReavingDoor]}
				Chat {/vt meta load RynDQLCheck}
	IF:	All
			Expr {getvar[PitStop]==1}
			CellE 3FB1010C
			NavEmpty
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Arrival Chamber Key]]==7}
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==0}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<10}
			Expr {getpvar[Leader]==1}
		DO:	DoAll
				DoExpr {setvar[Open,1]}
				SetOpt {EnableNav} {False}
				DoExpr {actiontryapplyitem[wobjectfindininventorybyname[Arrival Chamber Key],wobjectfindnearestdoor[]]}
				SetState {ReavingDoor}
	IF:	All
			Expr {getvar[PitStop]==1}
			Expr {getpvar[Leader]==1}
			Expr {getvar[Open]==1}
			Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
			Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==0}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<10}
			SecsInStateGE 3
			Any
				Expr {getobjectinternaltype[wobjectfindininventorybyname[Arrival Chamber Key]]==1}
				ChatMatch {^The Arrival Chamber has been unlocked.}
				ChatMatch {^Your key is used up.}
		DO:	DoAll
				DoExpr {actiontryuseitem[wobjectfindnearestdoor[]]}
	IF:	All
			Expr {getvar[PitStop]==1}
			CellE 3FB1010C
			Expr {getvar[JumpTimer]==0}
			Any
				Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+DoorOpenUGK]==1}
				All
					Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
					Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<10}
		DO:	DoAll
				SetOpt {EnableNav} {True}
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+DoorOpenUGK,1]}
				DoExpr {stopwatchstart[setvar[JumpTimer, stopwatchcreate[]]]}
				EmbedNav nav10 {[none]}
	IF:	All
			Expr {getvar[PitStop]==1}
			Any
				Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+DoorOpenUGK]==1}
				All
					Expr {getobjectinternaltype[wobjectfindnearestdoor[]]==7}
					Expr {wobjectgetisdooropen[wobjectfindnearestdoor[]]==1}
					Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestdoor[]],getplayercoordinates[]]<10}
			Any
				All
					Expr {testvar[JumpTimer]}
					Expr {stopwatchelapsedseconds[getvar[JumpTimer]]>=8}
				CellE 3FB1010B
		DO:	EmbedNav nav11 {[none]}
	IF:	All
			Any
				CellE 3FB1010C
				CellE 3FB1010B
			Expr {testvar[JumpTimer]}
			Expr {stopwatchelapsedseconds[getvar[JumpTimer]]>=10}
		DO:	DoAll
				DoExpr {stopwatchstart[setvar[JumpTimer, stopwatchcreate[]]]}
				SetState {ReavingDoor}
	IF:	CellE 3FB1010A
		DO:	DoAll
				DoExpr {clearvar[StateTimer]}
				DoExpr {clearvar[JumpTimer]}
				DoExpr {clearvar[PitStop]}
				EmbedNav nav12 {[none]}
	IF:	CellE 3FB10110
		DO:	EmbedNav nav13 {Clear}
	IF:	CellE 3FB10104
		DO:	DoAll
				Chat {/f !ReGroup}
				SetState {ReGroupRecall}
	IF:	All
			NavEmpty
			CellE 3FB10110
		DO:	DoAll
				DoExpr {clearvar[StateTimer]}
				DoExpr {clearvar[JumpTimer]}
				DoExpr {clearvar[PitStop]}
				DoExpr {setpvar[StateName,FightBoss]}
				DoExpr {setpvar[CheckSync,FightBoss]}
				Chat {/vt meta load RynDQLCheck}
~~ }
STATE: {ReavingFacility} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	Any
			Death
			ChatMatch {^Your fellow .* has died!$}
			ChatCapture {!ReGroup} {19}
			All
				Expr {testvar[StateTimer]}
				Expr {stopwatchelapsedseconds[getvar[StateTimer]]>=300}
			Any
				BlockE C8E90000
		DO:	DoAll
				Chat {/f !ReGroup}
				SetState {ReGroupRecall}
	IF:	Not Expr {testvar[StateTimer]}
		DO:	DoExpr {stopwatchstart[setvar[StateTimer, stopwatchcreate[]]]}
	IF:	Always
		DO:	DoAll
				DoExpr {setpvar[ClearMobs,ReavingFacility]}
				SetWatchdog 5 30 {ClearMobs}
	IF:	CellE 3FB10175
		DO:	EmbedNav nav14 {junk.nav}
	IF:	All
			Expr {getpvar[Leader]==0}
			Any
				CellE 3FB10142
				CellE 3FB10141
				CellE 3FB1013F
				CellE 3FB10140
		DO:	DoAll
				DoExpr {clearvar[StateTimer]}
				DoExpr {ifthen[getpvar[SummonAllTheTime]==1,`vtsetsetting[EnableCombat,cstr[1]]&&vtsetsetting[SummonPets,cstr[1]]`,`vtsetsetting[EnableCombat,cstr[1]]&&vtsetsetting[SummonPets,cstr[0]]`]}
				DoExpr {setpvar[Step,1]}
				SetOpt {EnableNav} {True}
				DoExpr {setpvar[StateName,ReavingDoor]}
				DoExpr {setpvar[CheckSync,ReavingDoor]}
				Chat {/vt meta load RynDQLCheck}
	IF:	All
			Expr {getpvar[Leader]==1}
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Arrival Chamber Key]]==1}
			Expr {getobjectinternaltype[wobjectfindnearestbynameandobjectclass[27,Corpse of Apostate Reaving Master]]==7}
			NoMobsInDist 25
			Any
				CellE 3FB10142
				CellE 3FB10141
				CellE 3FB1013F
				CellE 3FB10140
				CellE 3FB1013D
				CellE 3FB10138
		DO:	DoAll
				DoExpr {setpvar[Step,0]}
				DoExpr {ifthen[getpvar[SummonAllTheTime]==1,`vtsetsetting[EnableCombat,cstr[1]]&&vtsetsetting[SummonPets,cstr[1]]`,`vtsetsetting[EnableCombat,cstr[1]]&&vtsetsetting[SummonPets,cstr[0]]`]}
				DoExpr {setvar[CorpseName,Corpse of Apostate Reaving Master]}
				DoExpr {setvar[LootItem,Arrival Chamber Key]}
				DoExpr {setvar[LootRange,25]}
				DoExpr {listadd[getgvar[getworldname[]+getpvar[GroupIdentifier]+FailDelayCounter],getcharstringprop[1]]}
				DoExpr {listadd[getgvar[getworldname[]+getpvar[GroupIdentifier]+LootingCounter],getcharstringprop[1]]}
				DoExpr {setvar[LootReturn,ReavingFacility]}
				CallState {Loot} {ReavingFacility}
	IF:	All
			Expr {getpvar[Leader]==1}
			Expr {getobjectinternaltype[wobjectfindininventorybyname[Arrival Chamber Key]]==7}
			Any
				CellE 3FB10142
				CellE 3FB10141
				CellE 3FB1013F
				CellE 3FB10140
				CellE 3FB1013D
				CellE 3FB10138
		DO:	DoAll
				DoExpr {clearvar[StateTimer]}
				DoExpr {setpvar[Step,1]}
				SetOpt {EnableNav} {True}
				DoExpr {setpvar[StateName,ReavingDoor]}
				DoExpr {setpvar[CheckSync,ReavingDoor]}
				Chat {/vt meta load RynDQLCheck}
	IF:	CellE 3FB1012C
		DO:	DoExpr {ifthen[getpvar[SummonAllTheTime]==1,`vtsetsetting[EnableCombat,cstr[1]]&&vtsetsetting[SummonPets,cstr[1]]`,`vtsetsetting[EnableCombat,cstr[1]]&&vtsetsetting[SummonPets,cstr[0]]`]}
	IF:	Any
			CellE 3FB10136
			CellE 3FB10138
		DO:	SetOpt {EnableCombat} {False}
	IF:	Any
			CellE 3FB10140
			CellE 3FB10141
			CellE 3FB10142
			CellE 3FB1013F
		DO:	DoExpr {ifthen[getpvar[SummonAllTheTime]==1,`vtsetsetting[EnableCombat,cstr[1]]&&vtsetsetting[SummonPets,cstr[1]]`,`vtsetsetting[EnableCombat,cstr[1]]&&vtsetsetting[SummonPets,cstr[0]]`]}
~~ }
STATE: {Summon} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	All
			Not Expr {uiviewexists[STUCK]}
			Expr {getpvar[Leader]==1}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Not Expr {testvar[CombatStuck]}
		DO:	DoExpr {stopwatchstart[setvar[CombatStuck, stopwatchcreate[]]]}
	IF:	All
			Expr {testvar[CombatStuck]]}
			Expr {stopwatchelapsedseconds[getvar[CombatStuck]]>=40}
			Any
				Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Missile}
				Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Melee}
				Expr {stopwatchelapsedseconds[getvar[CombatStuck]]>=120}
		DO:	Chat {/ub quit}
	IF:	Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Magic}
		DO:	DoExpr {clearvar[CombatStuck]}
	IF:	All
			Expr {getisspellknown[2709]==1} ~~ SpellId 2709 is "Summon Primary Portal I".
			SecsInStateGE 2
		DO:	DoExpr {actiontrycastbyid[2709]} ~~ SpellId 2709 is "Summon Primary Portal I".
	IF:	All
			Expr {getisspellknown[1637]==1} ~~ SpellId 1637 is "Summon Primary Portal III".
			SecsInStateGE 2
		DO:	DoExpr {actiontrycastbyid[1637]} ~~ SpellId 1637 is "Summon Primary Portal III".
	IF:	All
			Expr {getisspellknown[158]==1} ~~ SpellId 158 is "Summon Primary Portal II".
			SecsInStateGE 2
		DO:	DoExpr {actiontrycastbyid[158]} ~~ SpellId 158 is "Summon Primary Portal II".
	IF:	All
			Expr {getisspellknown[157]==1} ~~ SpellId 157 is "Summon Primary Portal I".
			SecsInStateGE 2
		DO:	DoExpr {actiontrycastbyid[157]} ~~ SpellId 157 is "Summon Primary Portal I".
	IF:	All
			Expr {getobjectinternaltype[wobjectfindnearestbyobjectclass[14]]==7}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestbyobjectclass[14]],getplayercoordinates[]]<10}
		DO:	SetState {CheckSummon}
	IF:	SecsInStateGE 5
		DO:	SetState {Summon}
~~ }
STATE: {SummonW} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	All
			Expr {getobjectinternaltype[wobjectfindnearestbyobjectclass[14]]==7}
			Expr {coordinatedistancewithz[wobjectgetphysicscoordinates[wobjectfindnearestbyobjectclass[14]],getplayercoordinates[]]<10}
			SecsInStateGE 1
		DO:	SetState {CheckSummon}
~~ }
STATE: {SyncBuff} ~~ {
	IF:	Not Expr {testvar[CombatStuck]}
		DO:	DoExpr {stopwatchstart[setvar[CombatStuck, stopwatchcreate[]]]}
	IF:	All
			Expr {testvar[CombatStuck]]}
			Expr {stopwatchelapsedseconds[getvar[CombatStuck]]>=180}
			Any
				Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Missile}
				Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Melee}
				Expr {stopwatchelapsedseconds[getvar[CombatStuck]]>=210}
		DO:	Chat {/ub quit}
	IF:	Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Magic}
		DO:	DoExpr {clearvar[CombatStuck]}
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestGrael,1]" /></control></view>}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO: SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestGrael]==1}
		DO: SetState {SkipQuest}
	IF:	All
			Not Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]}
			SecsInStateGE 240
		DO:	DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]}
	IF:	All
			NeedToBuff
			Expr {vtgetsetting[EnableBuffing]!=True}
		DO:	SetOpt {EnableBuffing} {True}
	IF:	All
			Not Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete]}
			Not NeedToBuff
		DO:	DoAll
				DoExpr {setgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete,listcreate[]]}
				SetState {SyncBuff}
	IF:	All
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete]}
			Not Expr {listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getcharstringprop[1]]}
			Not NeedToBuff
		DO:	DoAll
				DoExpr {listadd[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getcharstringprop[1]]}
				SetState {SyncBuff}
	IF:	All
			Not NeedToBuff
			Expr {testgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete]}
			Any
				Expr {getpvar[FellowCount]==1&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[LeaderName]]}
				Expr {getpvar[FellowCount]==2&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameTwo]]}
				Expr {getpvar[FellowCount]==3&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameThree]]}
				Expr {getpvar[FellowCount]==4&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameFour]]}
				Expr {getpvar[FellowCount]==5&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameFive]]}
				Expr {getpvar[FellowCount]==6&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameSix]]}
				Expr {getpvar[FellowCount]==7&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameSeven]]}
				Expr {getpvar[FellowCount]==8&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameSeven]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameEight]]}
				Expr {getpvar[FellowCount]==9&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[LeaderName]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameTwo]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameThree]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameFour]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameFive]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameSix]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameSeven]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameEight]]&&listcontains[getgvar[getworldname[]+getpvar[GroupIdentifier]+SyncBuffComplete],getpvar[FellowNameNine]]}
		DO:	DoAll
				DoExpr {cleargvar[getworldname[]+getpvar[GroupIdentifier]+Buffing]}
				DoExpr {vtsetmetastate[getpvar[StateName]]}
~~ }
STATE: {ToDungeon} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	Any
			Death
			ChatMatch {^Your fellow .* has died!$}
			ChatCapture {!ReGroup} {19}
			All
				Expr {testvar[StateTimer]}
				Expr {stopwatchelapsedseconds[getvar[StateTimer]]>=300}
			Any
				BlockE C8E90000
		DO:	DoAll
				Chat {/f !ReGroup}
				SetState {ReGroupRecall}
	IF:	Not Expr {testvar[StateTimer]}
		DO:	DoExpr {stopwatchstart[setvar[StateTimer, stopwatchcreate[]]]}
	IF:	Always
		DO:	DoAll
				DoExpr {setpvar[Stuck, ReGroupRecall]}
				SetWatchdog 5 30 {PortalRecall}
	IF:	Any
			CellE 40B10002
			CellE 40B10003
			CellE 3FB1003B
		DO:	EmbedNav nav15 {junk.nav}
	IF:	CellE 3FB10175
		DO:	EmbedNav nav16 {Clear}
	IF:	All
			NavEmpty
			CellE 3FB10175
		DO:	DoAll
				DoExpr {clearvar[StateTimer]}
				DoExpr {setpvar[StateName,ReavingFacility]}
				DoExpr {setpvar[CheckSync,ReavingFacility]}
				Chat {/vt meta load RynDQLCheck}
	IF:	CellE 3FB10024
		DO:	EmbedNav nav17 {[none]}
~~ }
STATE: {ToEastham} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF: Any
			BlockE F6820000
			BlockE F6810000
			BlockE ED7E0000
			BlockE F5810000
			BlockE F5800000
			BlockE F4800000
			BlockE F3800000
			BlockE F37F0000
			BlockE F27F0000
			BlockE F17F0000
			BlockE F17E0000
			BlockE F07E0000
			BlockE EF7E0000
		DO: SetState {ToTN}
	IF:	Always
		DO:	SetWatchdog 5 15 {ToTN}
	IF:	BlockE 00070000
		DO:	EmbedNav nav18 {[none]}
	IF:	CellE CE940035
		DO:	EmbedNav nav19 {junk.nav}
	IF:	All
			CellE CE95013A
			NavEmpty
		DO:	DoAll
				DoExpr {setpvar[StateName,HeiShou]}
				DoExpr {setpvar[CheckSync,HeiShou]}
				Chat {/vt meta load RynDQLCheck}
	IF:	BlockE C8E90000
		DO:	SetState {ToTN}
~~ }
STATE: {ToMP} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	All
			Not Expr {uiviewexists[STUCK]}
			Expr {getpvar[Leader]==1}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	Not BlockE 016C0000
		DO:	Chat {/mp}
	IF:	BlockE 016C0000
		DO:	SetState {Mp}
	IF:	SecsInStateGE 30
		DO:	SetState {ToMP}
~~ }
STATE: {ToPlateau} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF: Any
			BlockE F6820000
			BlockE F6810000
			BlockE ED7E0000
			BlockE F5810000
			BlockE F5800000
			BlockE F4800000
			BlockE F3800000
			BlockE F37F0000
			BlockE F27F0000
			BlockE F17F0000
			BlockE F17E0000
			BlockE F07E0000
			BlockE EF7E0000
		DO: SetState {ToTN}
	IF:	Always
		DO:	SetWatchdog 5 15 {ToTN}
	IF:	BlockE 00070000
		DO:	EmbedNav nav20 {[none]}
	IF:	CellE 49B70021
		DO:	EmbedNav nav21 {[none]}
	IF:	CellE 42AE000C
		DO:	EmbedNav nav22 {[none]}
	IF:	All
			Expr {getpvar[PortalRecall]==0}
			NavEmpty
			Any
				CellE 40B10002
				CellE 3FB1003B
				CellE 40B10003
		DO:	DoAll
				DoExpr {setpvar[StateName,ToDungeon]}
				DoExpr {setpvar[CheckSync,ToDungeon]}
				Chat {/vt meta load RynDQLCheck}
	IF:	All
			Expr {getpvar[PortalRecall]==1}
			NavEmpty
			Any
				CellE 40B10002
				CellE 3FB1003B
				CellE 40B10003
		DO:	DoAll
				DoExpr {setpvar[StateName,ToDungeon]}
				SetState {ToDungeon}
	IF:	Any
			BlockE C8E90000
			BlockE 3B9C0000
			BlockE 3DC70000
			BlockE 40BF0000
			BlockE 41C40000
			BlockE 459C0000
			BlockE 46A50000
			BlockE 46C00000
			BlockE 48BC0000
			BlockE 4DC00000
			BlockE 4EAC0000
			BlockE 4EBA0000
			BlockE 52AB0000
			BlockE 52B80000
			BlockE 52C10000
			BlockE 53C50000
			BlockE 56B00000
			BlockE 5AB40000
			BlockE 5BA60000
			BlockE 5EBE0000
			BlockE 6FAF0000
			BlockE ABDE0000
		DO:	SetState {ToTN}
~~ }
STATE: {ToTN} ~~ {
	IF:	All
			ChatMatch {^.*().* (tells you), \"![Ww]hat[Qq]uest\"$}
			ChatCapture {^\<Tell\:IIDString\:[^\:]*\:[^\>]*>(?<tellquest>[^\<]*)\<\\Tell\> (say|says|tells you), \"(?<telltext>.*)\"$} {}
		DO:	DoAll
				ChatExpr {\/t +getvar[capturegroup_tellquest]+\,Meta +getpvar[Profile]+\ on State +getpvar[StateName]}
				DoExpr {clearvar[capturegroup_tellquest]}
	IF:	Not Expr {uiviewexists[STUCK]}
		DO:	CreateView {STUCK} {<?xml version="1.0"?><view width="150" height="101" title="Stuck"><control type="layout"><control type="button" name="Stuck" left="0" top="0" width="149" height="49" text="Stuck" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck,1]" /><control type="button" name="Skip" left="0" top="50" width="149" height="49" text="Skip" actionexpr="setgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK,1]" /></control></view>}
	IF:	Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+Zstuck]==1}
		DO:	SetState {Zstuck}
	IF: Expr {getgvar[getworldname[]+getpvar[GroupIdentifier]+SkipQuestUGK]==1}
		DO: SetState {SkipQuest}
	IF:	Not Expr {testvar[CombatStuck]}
		DO:	DoExpr {stopwatchstart[setvar[CombatStuck, stopwatchcreate[]]]}
	IF:	Any
			All
				SecsInStateGE 10
				BlockE F6820000
				Expr {getvar[Recall]==1}
				Not Expr {wobjectfindnearestbynameandobjectclass[14,Portal to Town Network]}
			All
				Expr {testvar[CombatStuck]]}
				Expr {stopwatchelapsedseconds[getvar[CombatStuck]]>=40}
				Any
					Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Missile}
					Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Melee}
					Expr {stopwatchelapsedseconds[getvar[CombatStuck]]>=120}
		DO:	Chat {/ub quit}
	IF:	Expr {getequippedweapontype[]==Wand&&getcombatstate[]==Magic}
		DO:	DoExpr {clearvar[CombatStuck]}
	IF:	Always
		DO:	DoAll
				DoExpr {setpvar[Stuck, ToTN]}
				DoExpr {ifthen[getcharskill_traininglevel[41]==3||getcharskill_traininglevel[44]==3||getcharskill_traininglevel[45]==3||getcharskill_traininglevel[46]==3,`vtsetsetting[AttackDistance,cstr[0.0125]]`,`vtsetsetting[AttackDistance,cstr[0.0208]]`]}
				SetOpt {EnableCombat} {False}
	IF:	BlockE F6820000
		DO:	DoAll
				DoExpr {setvar[Recall,1]}
				EmbedNav nav23 {[none]}
	IF:	All
			Expr {getvar[Recall]==0}
			Not BlockE F6820000
		DO:	DoAll
				DoExpr {actiontrycastbyid[2931]} ~~ SpellId 2931 is "Recall Aphus Lassel".
				SetState {ToTN}
	IF:	All
			Expr {getpvar[RouteToggleUGK]==`UseBot`}
			Expr {getpvar[Town]==Plateau}
			CellE 00070145
		DO:	DoAll
				DoExpr {setpvar[ReturnMetaProfile,RynDQLUnleashTheGearknight]]}
				Chat {/vt meta load RynDQLUseBot}
				DoExpr {clearvar[CombatStuck]}
				DoExpr {clearvar[Recall]}
	IF:	All
			Expr {getpvar[RouteToggleUGK]==`Run`}
			Expr {getpvar[Town]==Plateau}
			CellE 00070145
		DO:	DoAll
				SetState {ToPlateau}
				DoExpr {clearvar[CombatStuck]}
				DoExpr {clearvar[Recall]}
	IF:	CellE 00070145
		DO:	DoAll
				SetState {ToEastham}
				DoExpr {clearvar[CombatStuck]}
				DoExpr {clearvar[Recall]}
	IF:	All
			Expr {getvar[Recall]==1}
			BlockE C8E90000
		DO:	DoAll
				DoExpr {setvar[Recall,0]}
				SetState {ToTN}
~~ }
STATE: {Zstuck} ~~ {
	IF:	Always
		DO:	DoAll
				DoExpr {setpvar[Profile,RynDQLQuestCheck]}
				DoExpr {setpvar[StateName,Default]}
				Chat {/vt meta load RynDQLQuestCheck}
~~ }

~~========================= ONLY NAVS APPEAR BELOW THIS LINE =========================~~

NAV: nav0 circular ~~ {
~~ }
NAV: nav1 circular ~~ {
~~ }
NAV: nav2 once ~~ {
	pnt -51.1232166608175 39.990905825297 0.0517921527226766
	pnt -51.1232166608175 39.990905825297 0.0517921527226766
	pnt -51.1232166608175 39.990905825297 0.0517921527226766
	pau 96.5192172686259 -77.3924765904744 -0.406645806630452 9000
	pnt -51.1232166608175 39.990905825297 0.0517921527226766
	pnt -51.1232166608175 39.990905825297 0.0517921527226766
	pnt -51.1232166608175 39.990905825297 0.0517921527226766
~~ }
NAV: nav3 once ~~ {
	pnt -48.9737201372782 37.6355721791585 0.107578468322754
	pnt -48.9737201372782 37.6355721791585 0.107578468322754
	pnt -48.9737201372782 37.6355721791585 0.107578468322754
	pau 96.5192172686259 -77.3924765904744 -0.406645806630452 9000
	pnt -48.9737201372782 37.6355721791585 0.107578468322754
	pnt -48.9737201372782 37.6355721791585 0.107578468322754
	pnt -48.9737201372782 37.6355721791585 0.107578468322754
~~ }
NAV: nav4 once ~~ {
	pnt -49.4042790730794 38.3611017862956 -0.214979155858358
	pnt -49.3712336222331 38.364156850179 -0.214979155858358
	pnt -49.3201934814453 38.3590044657389 -0.214979155858358
	pnt -49.2744537353516 38.3608695983887 -0.214979155858358
	pnt -49.2287190755208 38.3657822926839 -0.214979155858358
	pnt -49.1998524983724 38.3620905558268 -0.214979155858358
	pnt -49.1721094767253 38.3634218851725 -0.214979155858358
~~ }
NAV: nav5 once ~~ {
~~ }
NAV: nav6 once ~~ {
	pnt -100.943545675278 -15.6894305229187 2.08333134651184E-05
	pnt -100.941349156698 -15.7064154307048 2.08333134651184E-05
	pnt -100.941996701558 -15.7295486768087 2.08333134651184E-05
	pnt -100.942539691925 -15.7489477157593 2.08333134651184E-05
	pnt -100.944965251287 -15.7629703362783 2.08333134651184E-05
	pnt -100.967969735463 -15.759340318044 2.08333134651184E-05
	pnt -100.992853736877 -15.758926041921 2.08333134651184E-05
	pnt -101.01267859141 -15.7568418820699 2.08333134651184E-05
	pnt -101.034847068787 -15.7583855628967 2.08333134651184E-05
	pnt -101.057015546163 -15.7599292437236 2.08333134651184E-05
	pnt -101.080703759193 -15.763249429067 2.08333134651184E-05
	pnt -101.084879112244 -15.7745870272319 2.08333134651184E-05
	pnt -101.083924218019 -15.7964228153229 2.08333134651184E-05
~~ }
NAV: nav7 circular ~~ {
~~ }
NAV: nav8 circular ~~ {
~~ }
NAV: nav9 once ~~ {
	pnt -49.9537628173828 38.1958469390869 -0.189979155858358
	chk -49.9537628173828 38.1958469390869 -0.189979155858358
	pnt -49.9694241841634 38.1952607472738 -0.189979155858358
	chk -49.9694241841634 38.1952607472738 -0.189979155858358
	pnt -49.9828154246012 38.1966687520345 -0.189979155858358
	chk -49.9828154246012 38.1966687520345 -0.189979155858358
	pnt -49.9822503407796 38.2104787190755 -0.189979155858358
	chk -49.9822503407796 38.2104787190755 -0.189979155858358
	pnt -49.9832496643066 38.2551058451335 -0.189979155858358
	pnt -49.9821857452393 38.3057240804036 -0.214979155858358
	pnt -49.9831577301025 38.3342707316081 -0.214979155858358
	chk -49.9831577301025 38.3342707316081 -0.214979155858358
	pnt -49.982874806722 38.3379905700684 -0.214979155858358
~~ }
NAV: nav10 once ~~ {
	pnt -49.9861966451009 38.3940280914307 -0.214979155858358
~~ }
NAV: nav11 once ~~ {
	jmp -49.982985051473 38.4381100972494 -0.214979155858358 0 {False} 750.00003
	pau -49.982985051473 38.4381100972494 -0.214979155858358 5000
~~ }
NAV: nav12 once ~~ {
	pnt -49.9855138142904 38.4004531860352 -0.214979155858358
	pnt -49.983033879598 38.4112148284912 -0.214979155858358
	pnt -49.9830176035563 38.4194807688395 -0.214979155858358
	pnt -49.9830013275147 38.4310799916585 -0.214979155858358
	pnt -49.982985051473 38.4381100972494 -0.214979155858358
	chk -49.982985051473 38.4381100972494 -0.214979155858358
	pnt -49.982985051473 38.4381100972494 -0.214979155858358
	ptl -49.982985051473 38.4381100972494 -0.214979155858358 -49.9833333333333 38.4458333333333 -0.215262487530708 14 {Arrival Chamber}
	pau -49.982985051473 38.4381100972494 -0.214979155858358 5000
~~ }
NAV: nav13 once ~~ {
	pnt -49.4042790730794 38.3611017862956 -0.214979155858358
	pnt -49.4042790730794 38.3611017862956 -0.214979155858358
	pnt -49.4042790730794 38.3611017862956 -0.214979155858358
	pnt -49.4042790730794 38.3611017862956 -0.214979155858358
	pau 96.5192172686259 -77.3924765904744 -0.406645806630452 9000
	pnt -49.4042790730794 38.3611017862956 -0.214979155858358
	pnt -49.4042790730794 38.3611017862956 -0.214979155858358
	pnt -49.4042790730794 38.3611017862956 -0.214979155858358
	pnt -49.4042790730794 38.3611017862956 -0.214979155858358
~~ }
NAV: nav14 once ~~ {
	pnt -50.4005831400553 38.6830928166707 -0.164979155858358
	chk -50.4005831400553 38.6830928166707 -0.164979155858358
	pnt -50.4011380513509 38.6686276117961 -0.164979155858358
	chk -50.4011380513509 38.6686276117961 -0.164979155858358
	pnt -50.4016995747884 38.6527771631877 -0.164979155858358
	chk -50.4016995747884 38.6527771631877 -0.164979155858358
	pnt -50.3442010243734 38.6530846913656 -0.164979155858358
	chk -50.3442010243734 38.6530846913656 -0.164979155858358
	pnt -50.3298241933187 38.6531493504842 -0.164979155858358
	chk -50.3298241933187 38.6531493504842 -0.164979155858358
	pnt -50.3140385945638 38.6269928614298 -0.164979155858358
	pnt -50.3168585459391 38.5547233581543 -0.164979155858358
	chk -50.3168585459391 38.5547233581543 -0.164979155858358
	pnt -50.3171871185303 38.5409056345622 -0.164979155858358
	chk -50.3171871185303 38.5409056345622 -0.164979155858358
	pnt -50.317477162679 38.5298934936523 -0.164979155858358
	pnt -50.4001316070557 38.5302394866943 -0.164979155858358
	chk -50.4000827789307 38.5261165618897 -0.164979155858358
	pnt -50.4004994710286 38.5117308298747 -0.164979155858358
	chk -50.4004994710286 38.5117308298747 -0.164979155858358
	pnt -50.4012101491292 38.4603173573812 -0.164979155858358
	chk -50.4012101491292 38.4603173573812 -0.164979155858358
	pnt -50.4009985605876 38.4459417978923 -0.164979155858358
	chk -50.4009985605876 38.4459417978923 -0.164979155858358
	pnt -50.4005758921305 38.4182337443034 -0.164979155858358
	chk -50.4005758921305 38.4182337443034 -0.164979155858358
	pnt -50.400364557902 38.4038580576579 -0.164979155858358
	chk -50.400364557902 38.4038580576579 -0.164979155858358
	pnt -50.4005140940348 38.3833643595378 -0.164979155858358
	chk -50.4005140940348 38.3833643595378 -0.164979155858358
	pnt -50.4008338928223 38.3628681182861 -0.164979155858358
	chk -50.4008338928223 38.3628681182861 -0.164979155858358
	pnt -50.400578435262 38.3457149505615 -0.164979155858358
	chk -50.400578435262 38.3457149505615 -0.164979155858358
	pnt -50.4006079355876 38.3023043314616 -0.164979155858358
	pnt -50.4004995981852 38.250196202596 -0.189979155858358
	pnt -50.40164159139 38.1944384256999 -0.189979155858358
	pnt -50.3427820841471 38.1955926259359 -0.189979155858358
	chk -50.3427820841471 38.1955926259359 -0.189979155858358
	pnt -50.3284186045329 38.1949659983317 -0.189979155858358
	chk -50.3284186045329 38.1949659983317 -0.189979155858358
	pnt -50.2205969492594 38.1961007436117 -0.189979155858358
	chk -50.2205969492594 38.1961007436117 -0.189979155858358
	pnt -50.2062334696452 38.1954741160075 -0.189979155858358
	chk -50.2062334696452 38.1954741160075 -0.189979155858358
	pnt -50.1777020772298 38.1956118265788 -0.189979155858358
	chk -50.1777020772298 38.1956118265788 -0.189979155858358
	pnt -50.166668955485 38.19512646993 -0.189979155858358
	chk -50.166668955485 38.19512646993 -0.189979155858358
	pnt -50.0513123830159 38.1957356770833 -0.189979155858358
	chk -50.0513123830159 38.1957356770833 -0.189979155858358
	pnt -50.0423980712891 38.1943716684977 -0.189979155858358
	chk -50.0423980712891 38.1943716684977 -0.189979155858358
	pnt -49.9833911895752 38.1936782836914 -0.189979155858358
	chk -49.9833911895752 38.1936782836914 -0.189979155858358
	pnt -49.9668432871501 38.194974899292 -0.189979155858358
	chk -49.9668432871501 38.194974899292 -0.189979155858358
	pnt -49.955833307902 38.1958321889242 -0.189979155858358
	chk -49.955833307902 38.1958321889242 -0.189979155858358
	pnt -49.9061318715413 38.1613646189372 -0.189979155858358
~~ }
NAV: nav15 once ~~ {
	pnt -50.7526922225952 39.8802646160126 0.0694339036941528
	pnt -50.7914303461711 39.9359757105509 0.0773046731948853
	pnt -50.8483079274495 40.0329077402751 0.0832131624221802
	pnt -50.871363957723 40.0626665115356 0.0833541631698608
	pnt -50.8978077570597 40.08227074941 0.0904883066813151
	pnt -50.8995583852132 40.0900393486023 0.0862970272699992
	chk -50.8995583852132 40.0900393486023 0.0862970272699992
	pnt -50.8996958414714 40.1045085906982 0.0759586493174235
	chk -50.8996958414714 40.1045085906982 0.0759586493174235
	pnt -50.9009134292603 40.1878107070923 0.0600208282470703
	pnt -50.8924185434977 40.1993728001912 0.0600208282470703
	pnt -50.8731118520101 40.1945442199707 0.0567203283309937
	pnt -50.7749004364014 40.1942106882731 -0.00220652222633362
	pnt -50.7009209950765 40.1906895319621 -0.0399791717529297
	chk -50.7009209950765 40.1906895319621 -0.0399791717529297
	pnt -50.6815642038981 40.1915814081828 -0.0399791717529297
	chk -50.6815642038981 40.1915814081828 -0.0399791717529297
	pnt -50.6473552703857 40.193296178182 -0.0399791717529297
	pnt -50.6479281107585 40.1240218162537 -0.0399791717529297
	chk -50.6479281107585 40.1240218162537 -0.0399791717529297
	pnt -50.6358730951945 40.111817073822 -0.0399791717529297
	chk -50.6358730951945 40.111817073822 -0.0399791717529297
	pnt -50.5672716140747 40.1109215418498 -0.0399791717529297
	pnt -50.5393579483032 40.1080161730448 -0.0399791717529297
	chk -50.5393579483032 40.1080161730448 -0.0399791717529297
	pnt -50.5252724329631 40.0978128115336 -0.0399791717529297
	chk -50.5252724329631 40.0978128115336 -0.0399791717529297
	pnt -50.5255782445272 40.0696523666382 -0.0399791717529297
	pnt -50.4839005152384 40.0699594815572 -0.0399791717529297
	chk -50.4839005152384 40.0699594815572 -0.0399791717529297
	pnt -50.4844441731771 40.0282461166382 -0.0399791717529297
	chk -50.4844441731771 40.0282461166382 -0.0399791717529297
	pnt -50.438952255249 40.0272776285807 -0.0399791717529297
	chk -50.438952255249 40.0272776285807 -0.0399791717529297
	pnt -50.4134918212891 40.0267284075419 -0.0399791717529297
	chk -50.4134918212891 40.0267284075419 -0.0399791717529297
	pnt -50.3673463185628 40.0321455001831 -0.0399791717529297
	pnt -50.3284923553467 40.0283894538879 -0.0399791717529297
	chk -50.3284923553467 40.0283894538879 -0.0399791717529297
	pnt -50.3186653137207 40.0117604573568 -0.0399791717529297
	chk -50.3186653137207 40.0117604573568 -0.0399791717529297
	pnt -50.319401550293 39.930616346995 -0.0399791717529297
	pnt -50.318675104777 39.841245396932 -0.0649791717529297
	chk -50.318675104777 39.841245396932 -0.0649791717529297
	pnt -50.3254643758138 39.8225049654643 -0.0649791717529297
	chk -50.3254643758138 39.8225049654643 -0.0649791717529297
	pnt -50.3758430480957 39.8217636108398 -0.0649791717529297
	pnt -50.4683630625407 39.8222062428792 -0.0899791717529297
	chk -50.4683630625407 39.8222062428792 -0.0899791717529297
	pnt -50.4858051935832 39.8043908596039 -0.0899791717529297
	chk -50.4858051935832 39.8043908596039 -0.0899791717529297
	pnt -50.4842633565267 39.7440764904022 -0.0899791717529297
	pnt -50.4708295186361 39.7334341923396 -0.0899791717529297
	pnt -50.410439046224 39.7362621625265 -0.0899791717529297
	chk -50.410439046224 39.7362621625265 -0.0899791717529297
	pnt -50.4002601623535 39.7201309124629 -0.0899791717529297
	pnt -50.4024522145589 39.6544922476013 -0.0899791717529297
	chk -50.4024522145589 39.6544922476013 -0.0899791717529297
	pnt -50.4044221242269 39.6155791838964 -0.0899791717529297
	chk -50.4044221242269 39.6155791838964 -0.0899791717529297
	pnt -50.4034450531006 39.5841305295626 -0.0899791717529297
	chk -50.4035645802816 39.5839984059334 -0.0899791717529297
	pnt -50.4011772155762 39.5358376264572 -0.0899791717529297
	pnt -50.3901702880859 39.526785548528 -0.0899791717529297
	pnt -50.3712851206462 39.5315786123276 -0.0899791717529297
	chk -50.3712851206462 39.5315786123276 -0.0899791717529297
	pnt -50.3459365844727 39.5300794124603 -0.0899791717529297
	chk -50.3459365844727 39.5300794124603 -0.0899791717529297
	pnt -50.2864943186442 39.5279956420263 -0.11497917175293
	pnt -50.1971213022868 39.5280302842458 -0.11497917175293
	chk -50.1971213022868 39.5280302842458 -0.11497917175293
	pnt -50.1662218729655 39.5379812717438 -0.109358032544454
	chk -50.1662218729655 39.5379812717438 -0.109358032544454
	pnt -50.1562900543213 39.5339457591375 -0.11177933216095
	pnt -50.1443422953288 39.5151948610942 -0.11497917175293
	pnt -50.1216676076253 39.4852830092112 -0.11497917175293
	pnt -50.111094156901 39.4626868883769 -0.11497917175293
	pnt -50.1118810017904 39.4516713937124 -0.11497917175293
	chk -50.1118810017904 39.4516713937124 -0.11497917175293
	pnt -50.1079822540283 39.4321125189463 -0.11497917175293
	chk -50.1079822540283 39.4321125189463 -0.11497917175293
	pnt -50.1073788960775 39.3637482325236 -0.11497917175293
	pnt -50.1105164845784 39.3218570391337 -0.11497917175293
	pnt -50.1852073669434 39.3213543891907 -0.11497917175293
	pnt -50.2163789113363 39.3185460408529 -0.11497917175293
	chk -50.2163789113363 39.3185460408529 -0.11497917175293
	pnt -50.2322884877523 39.3138091723124 -0.11497917175293
	chk -50.2322884877523 39.3138091723124 -0.11497917175293
	pnt -50.2352863311768 39.2375552177429 -0.11497917175293
	chk -50.2352863311768 39.2375552177429 -0.11497917175293
	pnt -50.2683944702148 39.2374760945638 -0.11497917175293
	pnt -50.3451530456543 39.2372882207235 -0.139979155858358
	pnt -50.3877955118815 39.2419657707214 -0.139979155858358
	chk -50.3877955118815 39.2419657707214 -0.139979155858358
	pnt -50.4020243326823 39.2502360026042 -0.139979155858358
	chk -50.4020243326823 39.2502360026042 -0.139979155858358
	pnt -50.3995592753092 39.3197821935018 -0.139979155858358
	pnt -50.4019910176595 39.4465936183929 -0.139979155858358
	chk -50.4019910176595 39.4465936183929 -0.139979155858358
	pnt -50.4876839319865 39.4510730743408 -0.139979155858358
	chk -50.4876839319865 39.4510730743408 -0.139979155858358
	pnt -50.5053877512614 39.4505957603455 -0.140379412968953
	chk -50.5053877512614 39.4505957603455 -0.140379412968953
	pnt -50.5852676391602 39.4489321708679 -0.164979155858358
	pnt -50.5957008997599 39.4437984307607 -0.164979155858358
	chk -50.5957008997599 39.4437984307607 -0.164979155858358
	pnt -50.6122909545898 39.4317764600118 -0.164979155858358
	chk -50.6122909545898 39.4317764600118 -0.164979155858358
	pnt -50.6095017115275 39.3675758997599 -0.164979155858358
	chk -50.6095017115275 39.3675758997599 -0.164979155858358
	pnt -50.6051713943481 39.3538667678833 -0.164979155858358
	chk -50.6051713943481 39.3538667678833 -0.164979155858358
	pnt -50.5859882990519 39.3372324943542 -0.164979155858358
	pau -50.5859882990519 39.3372324943542 -0.164979155858358 1000
	ptl -50.5859882990519 39.3372324943542 -0.164979155858358 -50.575 39.3291666666667 -0.165262490510941 14 {Reaving Facility}
	pau -50.5859882990519 39.3372324943542 -0.164979155858358 5000
~~ }
NAV: nav16 once ~~ {
	pnt -50.4 38.6958333333333 -0.164979155858358
	pnt -50.4 38.6958333333333 -0.164979155858358
	pnt -50.4 38.6958333333333 -0.164979155858358
	pnt -50.4 38.6958333333333 -0.164979155858358
	pau 96.5192172686259 -77.3924765904744 -0.406645806630452 9000
	pnt -50.4 38.6958333333333 -0.164979155858358
	pnt -50.4 38.6958333333333 -0.164979155858358
	pnt -50.4 38.6958333333333 -0.164979155858358
	pnt -50.4 38.6958333333333 -0.164979155858358
~~ }
NAV: nav17 once ~~ {
	pnt -51.1239816983541 39.9939956347148 0.051858377456665
	pnt -51.0767771402995 39.9688601811727 0.0615648945172628
	pnt -51.018729019165 39.9444003423055 0.0714326937993368
	pnt -50.9625041325887 39.8991146087646 0.0770296891530355
	pnt -50.8957308451335 39.8421731948853 0.0743685960769653
	pnt -50.8029445012411 39.9271371205648 0.0775276343027751
	pnt -50.7531107584635 39.8788859526316 0.0693538904190063
~~ }
NAV: nav18 once ~~ {
	pnt -101.658333333333 -96.6833333333333 2.08333134651184E-05
	pnt -101.684528477987 -96.674063650767 2.08333134651184E-05
	pnt -101.698578882217 -96.6439107894898 2.08333134651184E-05
	pnt -101.692965253194 -96.6170327186585 2.08333134651184E-05
	pnt -101.656754207611 -96.60194384257 2.08333134651184E-05
	pnt -101.658823903402 -96.5577029863993 2.08333134651184E-05
	pnt -101.654640611013 -96.4494065841039 2.08333134651184E-05
	pnt -101.608457946777 -96.4347655057907 2.08333134651184E-05
	chk -101.608457946777 -96.4347655057907 2.08333134651184E-05
	ptl -101.608457946777 -96.4347655057907 2.08333134651184E-05 -101.5896220843 -96.4334579149882 -0.000262499845121056 14 {Eastham Portal}
~~ }
NAV: nav19 once ~~ {
	pnt 63.4793874740601 16.9192083358765 0.072571873664856
	pnt 63.5074582417806 17.043275197347 0.0833541631698608
	pnt 63.5493207295736 17.1898351033529 0.0833541631698608
	pnt 63.5699065526327 17.3310972372691 0.081695286432902
	pnt 63.581033706665 17.40839955012 0.0807680209477743
	pnt 63.5811501185099 17.4807050704956 0.0807583252588908
	pnt 63.5362768809001 17.5118994235992 0.0833541631698608
	pnt 63.5121849695841 17.5096391836802 0.0833541631698608
	chk 63.5114515940348 17.5093001365662 0.0833541631698608
	pnt 63.5030653635661 17.5092303117116 0.0833541631698608
	chk 63.5030653635661 17.5092303117116 0.0833541631698608
	pnt 63.4965434392293 17.51173787117 0.0833541631698608
	pnt 63.4945727030436 17.5184862772624 0.0833541631698608
	chk 63.4945727030436 17.5184862772624 0.0833541631698608
	pnt 63.4932370503743 17.5253267923991 0.0833541631698608
	pnt 63.493620300293 17.5336566925049 0.0833541631698608
	pnt 63.4974634170532 17.53842198054 0.0833541631698608
	chk 63.4974634170532 17.53842198054 0.0833541631698608
	pnt 63.5044635772705 17.5390708287557 0.0833541631698608
	chk 63.5044635772705 17.5390708287557 0.0833541631698608
	pnt 63.5046501159668 17.5325932502747 0.0846746683120728
	pnt 63.5046418507894 17.523871644338 0.0936970154444377
	chk 63.5046418507894 17.523871644338 0.0936970154444377
	pnt 63.5039912541707 17.5178458849589 0.0958749930063883
	chk 63.5039912541707 17.5178458849589 0.0958749930063883
	pnt 63.4946429570516 17.520773379008 0.0958541631698608
	chk 63.4946429570516 17.520773379008 0.0958541631698608
	pnt 63.4914759318034 17.5270498593648 0.0958541631698608
	chk 63.4914759318034 17.5270498593648 0.0958541631698608
	pnt 63.4845906575521 17.5284704844157 0.0958541631698608
	pnt 63.4763395309448 17.5279800415039 0.0958541631698608
~~ }
NAV: nav20 once ~~ {
	pnt -101.621362622579 -96.6534054438273 2.08333134651184E-05
	pnt -101.623431110382 -96.6216285705566 2.08333134651184E-05
	pnt -101.641646385193 -96.608863623937 2.08333134651184E-05
	pnt -101.65329802831 -96.6025215943654 2.08333134651184E-05
	pnt -101.657769584656 -96.5955696900686 2.08333134651184E-05
	pnt -101.655506706238 -96.5690907319387 2.08333134651184E-05
	pnt -101.656452401479 -96.5339895884196 2.08333134651184E-05
	pnt -101.658592224121 -96.4553134520849 2.08333134651184E-05
	pnt -101.685949548086 -96.4445074955622 2.08333134651184E-05
	pnt -101.684833749135 -96.4044724027316 2.08333134651184E-05
	pnt -101.661587651571 -96.394019973278 2.08333134651184E-05
	pnt -101.699807755152 -96.3750455260277 2.08333134651184E-05
	chk -101.699807755152 -96.3750455260277 2.08333134651184E-05
	ptl -101.699807755152 -96.3750455260277 2.08333134651184E-05 -101.7 -96.3645083338022 -0.000262499845121056 14 {Plateau Portal}
~~ }
NAV: nav21 once ~~ {
	pnt -43.1270506540934 44.5453865210215 0.993984349568685
	pnt -43.0275330543518 44.6923494021098 0.993559710184733
	pnt -42.9219403584798 44.8781213124593 1.0000207901001
	pnt -42.8385958353678 45.0039834340413 1.0000207901001
	pnt -42.7031655152639 45.2081746419271 1.0000207901001
	pnt -42.6001367251078 45.4046637852987 1.0000207901001
	pnt -42.5276145299276 45.4882951418559 1.0000207901001
	pnt -42.5209074179331 45.4916686058044 1.0000207901001
	chk -42.5209074179331 45.4916686058044 1.0000207901001
	ptl -42.5209074179331 45.4916686058044 1.0000207901001 -42.5143083254496 45.5049604098002 0.999737501144409 14 {Wilomine Villas Portal}
~~ }
NAV: nav22 once ~~ {
	pnt -48.9737201372782 37.6355721791585 0.107578468322754
	pnt -49.1069243033727 37.7936834335327 0.108582941691081
	pnt -49.3245977401733 38.0541861986121 0.124433461825053
	pnt -49.5023805300395 38.2717769304911 0.134036604563395
	pnt -49.621658706665 38.4202315648397 0.135478083292643
	pnt -49.785186179479 38.6211489359538 0.150613482793172
	pnt -49.898998427391 38.7430744171143 0.16553324063619
	pnt -50.0122292836507 38.8894403616587 0.180206616719564
	pnt -50.1776767730713 39.1127577463786 0.167484633127848
	pnt -50.2974722544352 39.244004313151 0.134774748484294
	pnt -50.4415627161662 39.4226027170817 0.0893265962600708
	pnt -50.5333070437113 39.5543702443441 0.0611363252003988
	pnt -50.6897437016169 39.7706606229146 0.0616661389668783
	pnt -50.7451218177875 39.8487209320068 0.06628098487854
~~ }
NAV: nav23 once ~~ {
	pnt 95.4566380818685 2.26212631861369 0.24168750445048
	pnt 95.4576773325602 2.29519685109456 0.24168750445048
	chk 95.4576773325602 2.29519685109456 0.24168750445048
	ptl 95.4488681793213 2.26419467926025 0.24168750445048 95.4555708567301 2.31398749351501 0.242491692304611 14 {Portal to Town Network}
~~ }
